const __vite__fileDeps=["assets/chunks/VPLocalSearchBox.DiaMDQJW.js","assets/chunks/framework.B5h9y4_0.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as De,o as z,c as ne,r as oe,n as vt,a as gi,t as nt,b as Ge,w as fe,e as Re,T as Lw,_ as ke,u as qo,i as hj,f as pj,g as Nw,h as Ve,j as te,k as q,p as Wt,l as Xt,m as Ko,q as mb,s as at,v as jn,x as Hv,y as ha,z as Uw,A as lF,B as vj,C as mj,D as fi,F as gt,E as fn,G as fF,H as Gv,I as Fe,J as Vo,K as dF,L as ps,M as qh,N as Vv,O as gj,P as hF,Q as gb,R as pF,S as vF,U as jv,V as _j,W as yj,X as mF,Y as gF,Z as _F,$ as $j,a0 as bj,a1 as Sj,a2 as xj,a3 as wj,a4 as Ej,a5 as Tj,a6 as Mj,a7 as Aj,a8 as V_,a9 as j_,aa as Pj}from"./framework.B5h9y4_0.js";var yF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $F(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bF={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(yF,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",c="hour",u="day",l="week",f="month",d="quarter",h="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var A=["th","st","nd","rd"],x=E%100;return"["+E+(A[(x-20)%10]||A[x]||A[0])+"]"}},_=function(E,A,x){var N=String(E);return!N||N.length>=A?E:""+Array(A+1-N.length).join(x)+E},S={s:_,z:function(E){var A=-E.utcOffset(),x=Math.abs(A),N=Math.floor(x/60),R=x%60;return(A<=0?"+":"-")+_(N,2,"0")+":"+_(R,2,"0")},m:function E(A,x){if(A.date()<x.date())return-E(x,A);var N=12*(x.year()-A.year())+(x.month()-A.month()),R=A.clone().add(N,f),F=x-R<0,k=A.clone().add(N+(F?-1:1),f);return+(-(N+(x-R)/(F?R-k:k-R))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:f,y:h,w:l,d:u,D:m,h:c,m:s,s:o,ms:a,Q:d}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},O="en",M={};M[O]=y;var P="$isDayjsObject",D=function(E){return E instanceof I||!(!E||!E[P])},X=function E(A,x,N){var R;if(!A)return O;if(typeof A=="string"){var F=A.toLowerCase();M[F]&&(R=F),x&&(M[F]=x,R=F);var k=A.split("-");if(!R&&k.length>1)return E(k[0])}else{var ee=A.name;M[ee]=A,R=ee}return!N&&R&&(O=R),R||!N&&O},$=function(E,A){if(D(E))return E.clone();var x=typeof A=="object"?A:{};return x.date=E,x.args=arguments,new I(x)},b=S;b.l=X,b.i=D,b.w=function(E,A){return $(E,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var I=function(){function E(x){this.$L=X(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[P]=!0}var A=E.prototype;return A.parse=function(x){this.$d=function(N){var R=N.date,F=N.utc;if(R===null)return new Date(NaN);if(b.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var k=R.match(p);if(k){var ee=k[2]-1||0,de=(k[7]||"0").substring(0,3);return F?new Date(Date.UTC(k[1],ee,k[3]||1,k[4]||0,k[5]||0,k[6]||0,de)):new Date(k[1],ee,k[3]||1,k[4]||0,k[5]||0,k[6]||0,de)}}return new Date(R)}(x),this.init()},A.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},A.$utils=function(){return b},A.isValid=function(){return this.$d.toString()!==g},A.isSame=function(x,N){var R=$(x);return this.startOf(N)<=R&&R<=this.endOf(N)},A.isAfter=function(x,N){return $(x)<this.startOf(N)},A.isBefore=function(x,N){return this.endOf(N)<$(x)},A.$g=function(x,N,R){return b.u(x)?this[N]:this.set(R,x)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(x,N){var R=this,F=!!b.u(N)||N,k=b.p(x),ee=function(Q,se){var me=b.w(R.$u?Date.UTC(R.$y,se,Q):new Date(R.$y,se,Q),R);return F?me:me.endOf(u)},de=function(Q,se){return b.w(R.toDate()[Q].apply(R.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(se)),R)},ge=this.$W,j=this.$M,Z=this.$D,_e="set"+(this.$u?"UTC":"");switch(k){case h:return F?ee(1,0):ee(31,11);case f:return F?ee(1,j):ee(0,j+1);case l:var he=this.$locale().weekStart||0,we=(ge<he?ge+7:ge)-he;return ee(F?Z-we:Z+(6-we),j);case u:case m:return de(_e+"Hours",0);case c:return de(_e+"Minutes",1);case s:return de(_e+"Seconds",2);case o:return de(_e+"Milliseconds",3);default:return this.clone()}},A.endOf=function(x){return this.startOf(x,!1)},A.$set=function(x,N){var R,F=b.p(x),k="set"+(this.$u?"UTC":""),ee=(R={},R[u]=k+"Date",R[m]=k+"Date",R[f]=k+"Month",R[h]=k+"FullYear",R[c]=k+"Hours",R[s]=k+"Minutes",R[o]=k+"Seconds",R[a]=k+"Milliseconds",R)[F],de=F===u?this.$D+(N-this.$W):N;if(F===f||F===h){var ge=this.clone().set(m,1);ge.$d[ee](de),ge.init(),this.$d=ge.set(m,Math.min(this.$D,ge.daysInMonth())).$d}else ee&&this.$d[ee](de);return this.init(),this},A.set=function(x,N){return this.clone().$set(x,N)},A.get=function(x){return this[b.p(x)]()},A.add=function(x,N){var R,F=this;x=Number(x);var k=b.p(N),ee=function(j){var Z=$(F);return b.w(Z.date(Z.date()+Math.round(j*x)),F)};if(k===f)return this.set(f,this.$M+x);if(k===h)return this.set(h,this.$y+x);if(k===u)return ee(1);if(k===l)return ee(7);var de=(R={},R[s]=r,R[c]=i,R[o]=n,R)[k]||1,ge=this.$d.getTime()+x*de;return b.w(ge,this)},A.subtract=function(x,N){return this.add(-1*x,N)},A.format=function(x){var N=this,R=this.$locale();if(!this.isValid())return R.invalidDate||g;var F=x||"YYYY-MM-DDTHH:mm:ssZ",k=b.z(this),ee=this.$H,de=this.$m,ge=this.$M,j=R.weekdays,Z=R.months,_e=R.meridiem,he=function(se,me,K,U){return se&&(se[me]||se(N,F))||K[me].slice(0,U)},we=function(se){return b.s(ee%12||12,se,"0")},Q=_e||function(se,me,K){var U=se<12?"AM":"PM";return K?U.toLowerCase():U};return F.replace(v,function(se,me){return me||function(K){switch(K){case"YY":return String(N.$y).slice(-2);case"YYYY":return b.s(N.$y,4,"0");case"M":return ge+1;case"MM":return b.s(ge+1,2,"0");case"MMM":return he(R.monthsShort,ge,Z,3);case"MMMM":return he(Z,ge);case"D":return N.$D;case"DD":return b.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return he(R.weekdaysMin,N.$W,j,2);case"ddd":return he(R.weekdaysShort,N.$W,j,3);case"dddd":return j[N.$W];case"H":return String(ee);case"HH":return b.s(ee,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return Q(ee,de,!0);case"A":return Q(ee,de,!1);case"m":return String(de);case"mm":return b.s(de,2,"0");case"s":return String(N.$s);case"ss":return b.s(N.$s,2,"0");case"SSS":return b.s(N.$ms,3,"0");case"Z":return k}return null}(se)||k.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(x,N,R){var F,k=this,ee=b.p(N),de=$(x),ge=(de.utcOffset()-this.utcOffset())*r,j=this-de,Z=function(){return b.m(k,de)};switch(ee){case h:F=Z()/12;break;case f:F=Z();break;case d:F=Z()/3;break;case l:F=(j-ge)/6048e5;break;case u:F=(j-ge)/864e5;break;case c:F=j/i;break;case s:F=j/r;break;case o:F=j/n;break;default:F=j}return R?F:b.a(F)},A.daysInMonth=function(){return this.endOf(f).$D},A.$locale=function(){return M[this.$L]},A.locale=function(x,N){if(!x)return this.$L;var R=this.clone(),F=X(x,N,!0);return F&&(R.$L=F),R},A.clone=function(){return b.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},E}(),T=I.prototype;return $.prototype=T,[["$ms",a],["$s",o],["$m",s],["$H",c],["$W",u],["$M",f],["$y",h],["$D",m]].forEach(function(E){T[E[1]]=function(A){return this.$g(A,E[0],E[1])}}),$.extend=function(E,A){return E.$i||(E(A,I,$),E.$i=!0),$},$.locale=X,$.isDayjs=D,$.unix=function(E){return $(1e3*E)},$.en=M[O],$.Ls=M,$.p={},$})})(bF);var Cj=bF.exports;const KA=$F(Cj);function Ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fw(e){let t,n,r;e.length!==2?(t=Ji,n=(s,c)=>Ji(e(s),c),r=(s,c)=>e(s)-c):(t=e===Ji||e===vs?e:Rj,n=e,r=e);function i(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<0?u=f+1:l=f}while(u<l)}return u}function a(s,c,u=0,l=s.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(s[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function o(s,c,u=0,l=s.length){const f=i(s,c,u,l-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function Rj(){return 0}function SF(e){return e===null?NaN:+e}function*Ij(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Oj=Fw(Ji),kw=Oj.right;Fw(SF).center;function uu(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class ZA extends Map{constructor(t,n=TF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(_b(this,t))}has(t){return super.has(_b(this,t))}set(t,n){return super.set(wF(this,t),n)}delete(t){return super.delete(EF(this,t))}}class xF extends Set{constructor(t,n=TF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(_b(this,t))}add(t){return super.add(wF(this,t))}delete(t){return super.delete(EF(this,t))}}function _b({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function EF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function TF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Dj(e,t){return Array.from(t,n=>e[n])}function MF(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Bp(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Bp(n[i],n[a]))),Dj(e,r)}return e.sort(AF(n))}function AF(e=Ji){if(e===Ji)return Bp;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Bp(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Lj=Math.sqrt(50),Nj=Math.sqrt(10),Uj=Math.sqrt(2);function zp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Lj?10:a>=Nj?5:a>=Uj?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?zp(e,t,n*2):[s,c,u]}function Pl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?zp(t,e,n):zp(e,t,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function yb(e,t,n){return t=+t,e=+e,n=+n,zp(e,t,n)[2]}function $b(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yb(t,e,n):yb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Wn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hc(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function PF(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Bp:AF(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,l=Math.log(c),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+d)),m=Math.min(r,Math.floor(t+(c-u)*f/c+d));PF(e,t,h,m,i)}const a=e[t];let o=n,s=r;for(Eu(e,n,t),i(e[r],a)>0&&Eu(e,n,r);o<s;){for(Eu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Eu(e,n,s):(++s,Eu(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Eu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Cl(e,t,n){if(e=Float64Array.from(Ij(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Hc(e);if(t>=1)return Wn(e);var r,i=(r-1)*t,a=Math.floor(i),o=Wn(PF(e,a).subarray(0,a+1)),s=Hc(e.subarray(a+1));return o+(s-o)*(i-a)}}function Fj(e,t,n=SF){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Hp(e,t){return Cl(e,.5,t)}function Rl(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Va(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function kj(e){return e}var Kh=1,W_=2,bb=3,nd=4,JA=1e-6;function Bj(e){return"translate("+e+",0)"}function zj(e){return"translate(0,"+e+")"}function Hj(e){return t=>+e(t)}function Gj(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Vj(){return!this.__axis}function CF(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Kh||e===nd?-1:1,l=e===nd||e===W_?"x":"y",f=e===Kh||e===bb?Bj:zj;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):kj),p=Math.max(a,0)+s,v=t.range(),y=+v[0]+c,_=+v[v.length-1]+c,S=(t.bandwidth?Gj:Hj)(t.copy(),c),O=h.selection?h.selection():h,M=O.selectAll(".domain").data([null]),P=O.selectAll(".tick").data(m,t).order(),D=P.exit(),X=P.enter().append("g").attr("class","tick"),$=P.select("line"),b=P.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(X),$=$.merge(X.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),b=b.merge(X.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",e===Kh?"0em":e===bb?"0.71em":"0.32em")),h!==O&&(M=M.transition(h),P=P.transition(h),$=$.transition(h),b=b.transition(h),D=D.transition(h).attr("opacity",JA).attr("transform",function(I){return isFinite(I=S(I))?f(I+c):this.getAttribute("transform")}),X.attr("opacity",JA).attr("transform",function(I){var T=this.parentNode.__axis;return f((T&&isFinite(T=T(I))?T:S(I))+c)})),D.remove(),M.attr("d",e===nd||e===W_?o?"M"+u*o+","+y+"H"+c+"V"+_+"H"+u*o:"M"+c+","+y+"V"+_:o?"M"+y+","+u*o+"V"+c+"H"+_+"V"+u*o:"M"+y+","+c+"H"+_),P.attr("opacity",1).attr("transform",function(I){return f(S(I)+c)}),$.attr(l+"2",u*a),b.attr(l,u*p).text(g),O.filter(Vj).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===W_?"start":e===nd?"end":"middle"),O.each(function(){this.__axis=S})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function nit(e){return CF(Kh,e)}function rit(e){return CF(bb,e)}var jj={value:()=>{}};function RF(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zh(n)}function Zh(e){this._=e}function Wj(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zh.prototype=RF.prototype={constructor:Zh,on:function(e,t){var n=this._,r=Wj(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Xj(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=QA(n[i],e.name,t);else if(t==null)for(i in n)n[i]=QA(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zh(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Xj(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function QA(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=jj,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sb="http://www.w3.org/1999/xhtml";const e3={svg:"http://www.w3.org/2000/svg",xhtml:Sb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wv(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),e3.hasOwnProperty(t)?{space:e3[t],local:e}:e}function Yj(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sb&&t.documentElement.namespaceURI===Sb?t.createElement(e):t.createElementNS(n,e)}}function qj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bw(e){var t=Wv(e);return(t.local?qj:Yj)(t)}function Kj(){}function zw(e){return e==null?Kj:function(){return this.querySelector(e)}}function Zj(e){typeof e!="function"&&(e=zw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=new Array(o),c,u,l=0;l<o;++l)(c=a[l])&&(u=e.call(c,c.__data__,l,a))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new or(r,this._parents)}function Jj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qj(){return[]}function IF(e){return e==null?Qj:function(){return this.querySelectorAll(e)}}function eW(e){return function(){return Jj(e.apply(this,arguments))}}function tW(e){typeof e=="function"?e=eW(e):e=IF(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,u=0;u<s;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),i.push(c));return new or(r,i)}function OF(e){return function(){return this.matches(e)}}function DF(e){return function(t){return t.matches(e)}}var nW=Array.prototype.find;function rW(e){return function(){return nW.call(this.children,e)}}function iW(){return this.firstElementChild}function aW(e){return this.select(e==null?iW:rW(typeof e=="function"?e:DF(e)))}var oW=Array.prototype.filter;function sW(){return Array.from(this.children)}function cW(e){return function(){return oW.call(this.children,e)}}function uW(e){return this.selectAll(e==null?sW:cW(typeof e=="function"?e:DF(e)))}function lW(e){typeof e!="function"&&(e=OF(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new or(r,this._parents)}function LF(e){return new Array(e.length)}function fW(){return new or(this._enter||this._groups.map(LF),this._parents)}function Gp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gp.prototype={constructor:Gp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function dW(e){return function(){return e}}function hW(e,t,n,r,i,a){for(var o=0,s,c=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Gp(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function pW(e,t,n,r,i,a,o){var s,c,u=new Map,l=t.length,f=a.length,d=new Array(l),h;for(s=0;s<l;++s)(c=t[s])&&(d[s]=h=o.call(c,c.__data__,s,t)+"",u.has(h)?i[s]=c:u.set(h,c));for(s=0;s<f;++s)h=o.call(e,a[s],s,a)+"",(c=u.get(h))?(r[s]=c,c.__data__=a[s],u.delete(h)):n[s]=new Gp(e,a[s]);for(s=0;s<l;++s)(c=t[s])&&u.get(d[s])===c&&(i[s]=c)}function vW(e){return e.__data__}function mW(e,t){if(!arguments.length)return Array.from(this,vW);var n=t?pW:hW,r=this._parents,i=this._groups;typeof e!="function"&&(e=dW(e));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),u=0;u<a;++u){var l=r[u],f=i[u],d=f.length,h=gW(e.call(l,l&&l.__data__,u,r)),m=h.length,g=s[u]=new Array(m),p=o[u]=new Array(m),v=c[u]=new Array(d);n(l,f,g,p,v,h,t);for(var y=0,_=0,S,O;y<m;++y)if(S=g[y]){for(y>=_&&(_=y+1);!(O=p[_])&&++_<m;);S._next=O||null}}return o=new or(o,r),o._enter=s,o._exit=c,o}function gW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _W(){return new or(this._exit||this._groups.map(LF),this._parents)}function yW(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function $W(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),c=0;c<o;++c)for(var u=n[c],l=r[c],f=u.length,d=s[c]=new Array(f),h,m=0;m<f;++m)(h=u[m]||l[m])&&(d[m]=h);for(;c<i;++c)s[c]=n[c];return new or(s,this._parents)}function bW(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function SW(e){e||(e=xW);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=new Array(s),u,l=0;l<s;++l)(u=o[l])&&(c[l]=u);c.sort(t)}return new or(i,this._parents).order()}function xW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function EW(){return Array.from(this)}function TW(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function MW(){let e=0;for(const t of this)++e;return e}function AW(){return!this.node()}function PW(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function CW(e){return function(){this.removeAttribute(e)}}function RW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IW(e,t){return function(){this.setAttribute(e,t)}}function OW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function LW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function NW(e,t){var n=Wv(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?RW:CW:typeof t=="function"?n.local?LW:DW:n.local?OW:IW)(n,t))}function NF(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UW(e){return function(){this.style.removeProperty(e)}}function FW(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kW(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function BW(e,t,n){return arguments.length>1?this.each((t==null?UW:typeof t=="function"?kW:FW)(e,t,n??"")):Gc(this.node(),e)}function Gc(e,t){return e.style.getPropertyValue(t)||NF(e).getComputedStyle(e,null).getPropertyValue(t)}function zW(e){return function(){delete this[e]}}function HW(e,t){return function(){this[e]=t}}function GW(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function VW(e,t){return arguments.length>1?this.each((t==null?zW:typeof t=="function"?GW:HW)(e,t)):this.node()[e]}function UF(e){return e.trim().split(/^|\s+/)}function Hw(e){return e.classList||new FF(e)}function FF(e){this._node=e,this._names=UF(e.getAttribute("class")||"")}FF.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kF(e,t){for(var n=Hw(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function BF(e,t){for(var n=Hw(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function jW(e){return function(){kF(this,e)}}function WW(e){return function(){BF(this,e)}}function XW(e,t){return function(){(t.apply(this,arguments)?kF:BF)(this,e)}}function YW(e,t){var n=UF(e+"");if(arguments.length<2){for(var r=Hw(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?XW:t?jW:WW)(n,t))}function qW(){this.textContent=""}function KW(e){return function(){this.textContent=e}}function ZW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JW(e){return arguments.length?this.each(e==null?qW:(typeof e=="function"?ZW:KW)(e)):this.node().textContent}function QW(){this.innerHTML=""}function eX(e){return function(){this.innerHTML=e}}function tX(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nX(e){return arguments.length?this.each(e==null?QW:(typeof e=="function"?tX:eX)(e)):this.node().innerHTML}function rX(){this.nextSibling&&this.parentNode.appendChild(this)}function iX(){return this.each(rX)}function aX(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oX(){return this.each(aX)}function sX(e){var t=typeof e=="function"?e:Bw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function cX(){return null}function uX(e,t){var n=typeof e=="function"?e:Bw(e),r=t==null?cX:typeof t=="function"?t:zw(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lX(){var e=this.parentNode;e&&e.removeChild(this)}function fX(){return this.each(lX)}function dX(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hX(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pX(e){return this.select(e?hX:dX)}function vX(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mX(e){return function(t){e.call(this,t,this.__data__)}}function gX(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function _X(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function yX(e,t,n){return function(){var r=this.__on,i,a=mX(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function $X(e,t,n){var r=gX(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value}return}for(s=t?yX:_X,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function zF(e,t,n){var r=NF(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bX(e,t){return function(){return zF(this,e,t)}}function SX(e,t){return function(){return zF(this,e,t.apply(this,arguments))}}function xX(e,t){return this.each((typeof t=="function"?SX:bX)(e,t))}function*wX(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var HF=[null];function or(e,t){this._groups=e,this._parents=t}function ef(){return new or([[document.documentElement]],HF)}function EX(){return this}or.prototype=ef.prototype={constructor:or,select:Zj,selectAll:tW,selectChild:aW,selectChildren:uW,filter:lW,data:mW,enter:fW,exit:_W,join:yW,merge:$W,selection:EX,order:bW,sort:SW,call:wW,nodes:EW,node:TW,size:MW,empty:AW,each:PW,attr:NW,style:BW,property:VW,classed:YW,text:JW,html:nX,raise:iX,lower:oX,append:sX,insert:uX,remove:fX,clone:pX,datum:vX,on:$X,dispatch:xX,[Symbol.iterator]:wX};function Zo(e){return typeof e=="string"?new or([[document.querySelector(e)]],[document.documentElement]):new or([[e]],HF)}function TX(e){return Zo(Bw(e).call(document.documentElement))}function lu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tf(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function io(){}var Jo=.7,Vc=1/Jo,Oc="\\s*([+-]?\\d+)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MX=/^#([0-9a-f]{3,8})$/,AX=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),PX=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),CX=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${Il}\\)$`),RX=new RegExp(`^rgba\\(${di},${di},${di},${Il}\\)$`),IX=new RegExp(`^hsl\\(${Il},${di},${di}\\)$`),OX=new RegExp(`^hsla\\(${Il},${di},${di},${Il}\\)$`),t3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lu(io,Qo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n3,formatHex:n3,formatHex8:DX,formatHsl:LX,formatRgb:r3,toString:r3});function n3(){return this.rgb().formatHex()}function DX(){return this.rgb().formatHex8()}function LX(){return GF(this).formatHsl()}function r3(){return this.rgb().formatRgb()}function Qo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i3(t):n===3?new un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AX.exec(e))?new un(t[1],t[2],t[3],1):(t=PX.exec(e))?new un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CX.exec(e))?rd(t[1],t[2],t[3],t[4]):(t=RX.exec(e))?rd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IX.exec(e))?s3(t[1],t[2]/100,t[3]/100,1):(t=OX.exec(e))?s3(t[1],t[2]/100,t[3]/100,t[4]):t3.hasOwnProperty(e)?i3(t3[e]):e==="transparent"?new un(NaN,NaN,NaN,0):null}function i3(e){return new un(e>>16&255,e>>8&255,e&255,1)}function rd(e,t,n,r){return r<=0&&(e=t=n=NaN),new un(e,t,n,r)}function Gw(e){return e instanceof io||(e=Qo(e)),e?(e=e.rgb(),new un(e.r,e.g,e.b,e.opacity)):new un}function Ol(e,t,n,r){return arguments.length===1?Gw(e):new un(e,t,n,r??1)}function un(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lu(un,Ol,tf(io,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new un(jo(this.r),jo(this.g),jo(this.b),Vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a3,formatHex:a3,formatHex8:NX,formatRgb:o3,toString:o3}));function a3(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}`}function NX(){return`#${Ho(this.r)}${Ho(this.g)}${Ho(this.b)}${Ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function o3(){const e=Vp(this.opacity);return`${e===1?"rgb(":"rgba("}${jo(this.r)}, ${jo(this.g)}, ${jo(this.b)}${e===1?")":`, ${e})`}`}function Vp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ho(e){return e=jo(e),(e<16?"0":"")+e.toString(16)}function s3(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zr(e,t,n,r)}function GF(e){if(e instanceof zr)return new zr(e.h,e.s,e.l,e.opacity);if(e instanceof io||(e=Qo(e)),!e)return new zr;if(e instanceof zr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new zr(o,s,c,e.opacity)}function xb(e,t,n,r){return arguments.length===1?GF(e):new zr(e,t,n,r??1)}function zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lu(zr,xb,tf(io,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new un(X_(e>=240?e-240:e+120,i,r),X_(e,i,r),X_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zr(c3(this.h),id(this.s),id(this.l),Vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vp(this.opacity);return`${e===1?"hsl(":"hsla("}${c3(this.h)}, ${id(this.s)*100}%, ${id(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c3(e){return e=(e||0)%360,e<0?e+360:e}function id(e){return Math.max(0,Math.min(1,e||0))}function X_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const VF=Math.PI/180,jF=180/Math.PI,jp=18,WF=.96422,XF=1,YF=.82521,qF=4/29,Dc=6/29,KF=3*Dc*Dc,UX=Dc*Dc*Dc;function ZF(e){if(e instanceof hi)return new hi(e.l,e.a,e.b,e.opacity);if(e instanceof Xi)return JF(e);e instanceof un||(e=Gw(e));var t=Z_(e.r),n=Z_(e.g),r=Z_(e.b),i=Y_((.2225045*t+.7168786*n+.0606169*r)/XF),a,o;return t===n&&n===r?a=o=i:(a=Y_((.4360747*t+.3850649*n+.1430804*r)/WF),o=Y_((.0139322*t+.0971045*n+.7141733*r)/YF)),new hi(116*i-16,500*(a-i),200*(i-o),e.opacity)}function wb(e,t,n,r){return arguments.length===1?ZF(e):new hi(e,t,n,r??1)}function hi(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}lu(hi,wb,tf(io,{brighter(e){return new hi(this.l+jp*(e??1),this.a,this.b,this.opacity)},darker(e){return new hi(this.l-jp*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=WF*q_(t),e=XF*q_(e),n=YF*q_(n),new un(K_(3.1338561*t-1.6168667*e-.4906146*n),K_(-.9787684*t+1.9161415*e+.033454*n),K_(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Y_(e){return e>UX?Math.pow(e,1/3):e/KF+qF}function q_(e){return e>Dc?e*e*e:KF*(e-qF)}function K_(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Z_(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function FX(e){if(e instanceof Xi)return new Xi(e.h,e.c,e.l,e.opacity);if(e instanceof hi||(e=ZF(e)),e.a===0&&e.b===0)return new Xi(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*jF;return new Xi(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Wp(e,t,n,r){return arguments.length===1?FX(e):new Xi(e,t,n,r??1)}function Xi(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function JF(e){if(isNaN(e.h))return new hi(e.l,0,0,e.opacity);var t=e.h*VF;return new hi(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}lu(Xi,Wp,tf(io,{brighter(e){return new Xi(this.h,this.c,this.l+jp*(e??1),this.opacity)},darker(e){return new Xi(this.h,this.c,this.l-jp*(e??1),this.opacity)},rgb(){return JF(this).rgb()}}));var QF=-.14861,Vw=1.78277,jw=-.29227,Xv=-.90649,Dl=1.97294,u3=Dl*Xv,l3=Dl*Vw,f3=Vw*jw-Xv*QF;function kX(e){if(e instanceof Wo)return new Wo(e.h,e.s,e.l,e.opacity);e instanceof un||(e=Gw(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(f3*r+u3*t-l3*n)/(f3+u3-l3),a=r-i,o=(Dl*(n-i)-jw*a)/Xv,s=Math.sqrt(o*o+a*a)/(Dl*i*(1-i)),c=s?Math.atan2(o,a)*jF-120:NaN;return new Wo(c<0?c+360:c,s,i,e.opacity)}function _i(e,t,n,r){return arguments.length===1?kX(e):new Wo(e,t,n,r??1)}function Wo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lu(Wo,_i,tf(io,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new Wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new Wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*VF,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new un(255*(t+n*(QF*r+Vw*i)),255*(t+n*(jw*r+Xv*i)),255*(t+n*(Dl*r)),this.opacity)}}));function BX(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function zX(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return BX((n-r/t)*t,o,i,a,s)}}const Yv=e=>()=>e;function ek(e,t){return function(n){return e+n*t}}function HX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ww(e,t){var n=t-e;return n?ek(e,n>180||n<-180?n-360*Math.round(n/360):n):Yv(isNaN(e)?t:e)}function GX(e){return(e=+e)==1?En:function(t,n){return n-t?HX(t,n,e):Yv(isNaN(t)?n:t)}}function En(e,t){var n=t-e;return n?ek(e,n):Yv(isNaN(e)?t:e)}const yi=function e(t){var n=GX(t);function r(i,a){var o=n((i=Ol(i)).r,(a=Ol(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=En(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function VX(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Ol(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=a(c),s+""}}}var jX=VX(zX);function WX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function XX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=nf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function qX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function KX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Eb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J_=new RegExp(Eb.source,"g");function ZX(e){return function(){return e}}function JX(e){return function(t){return e(t)+""}}function tk(e,t){var n=Eb.lastIndex=J_.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(r=Eb.exec(e))&&(i=J_.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Kt(r,i)})),n=J_.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?JX(c[0].x):ZX(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)s[(f=c[l]).i]=f.x(u);return s.join("")})}function nf(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yv(t):(n==="number"?Kt:n==="string"?(r=Qo(t))?(t=r,yi):tk:t instanceof Qo?yi:t instanceof Date?qX:XX(t)?WX:Array.isArray(t)?YX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?KX:Kt)(e,t)}function qv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var d3=180/Math.PI,Tb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nk(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*d3,skewX:Math.atan(c)*d3,scaleX:o,scaleY:s}}var ad;function QX(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Tb:nk(t.a,t.b,t.c,t.d,t.e,t.f)}function eY(e){return e==null||(ad||(ad=document.createElementNS("http://www.w3.org/2000/svg","g")),ad.setAttribute("transform",e),!(e=ad.transform.baseVal.consolidate()))?Tb:(e=e.matrix,nk(e.a,e.b,e.c,e.d,e.e,e.f))}function rk(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,l,f,d,h,m){if(u!==f||l!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:Kt(u,f)},{i:g-2,x:Kt(l,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(u,l,f,d){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Kt(u,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(u,l,f,d){u!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Kt(u,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(u,l,f,d,h,m){if(u!==f||l!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Kt(u,f)},{i:g-2,x:Kt(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,l){var f=[],d=[];return u=e(u),l=e(l),a(u.translateX,u.translateY,l.translateX,l.translateY,f,d),o(u.rotate,l.rotate,f,d),s(u.skewX,l.skewX,f,d),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,d),u=l=null,function(h){for(var m=-1,g=d.length,p;++m<g;)f[(p=d[m]).i]=p.x(h);return f.join("")}}}var tY=rk(QX,"px, ","px)","deg)"),nY=rk(eY,", ",")",")");function rY(e){return function(t,n){var r=e((t=xb(t)).h,(n=xb(n)).h),i=En(t.s,n.s),a=En(t.l,n.l),o=En(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const ik=rY(Ww);function ak(e,t){var n=En((e=wb(e)).l,(t=wb(t)).l),r=En(e.a,t.a),i=En(e.b,t.b),a=En(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function iY(e){return function(t,n){var r=e((t=Wp(t)).h,(n=Wp(n)).h),i=En(t.c,n.c),a=En(t.l,n.l),o=En(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const ok=iY(Ww);function sk(e){return function t(n){n=+n;function r(i,a){var o=e((i=_i(i)).h,(a=_i(a)).h),s=En(i.s,a.s),c=En(i.l,a.l),u=En(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=t,r}(1)}sk(Ww);var Xw=sk(En);function Yw(e,t){t===void 0&&(t=e,e=nf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function jt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var jc=0,al=0,Tu=0,ck=1e3,Xp,ol,Yp=0,es=0,Kv=0,Ll=typeof performance=="object"&&performance.now?performance:Date,uk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qw(){return es||(uk(aY),es=Ll.now()+Kv)}function aY(){es=0}function qp(){this._call=this._time=this._next=null}qp.prototype=lk.prototype={constructor:qp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qw():+n)+(t==null?0:+t),!this._next&&ol!==this&&(ol?ol._next=this:Xp=this,ol=this),this._call=e,this._time=n,Mb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mb())}};function lk(e,t,n){var r=new qp;return r.restart(e,t,n),r}function oY(){qw(),++jc;for(var e=Xp,t;e;)(t=es-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jc}function h3(){es=(Yp=Ll.now())+Kv,jc=al=0;try{oY()}finally{jc=0,cY(),es=0}}function sY(){var e=Ll.now(),t=e-Yp;t>ck&&(Kv-=t,Yp=e)}function cY(){for(var e,t=Xp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xp=n);ol=e,Mb(r)}function Mb(e){if(!jc){al&&(al=clearTimeout(al));var t=e-es;t>24?(e<1/0&&(al=setTimeout(h3,e-Ll.now()-Kv)),Tu&&(Tu=clearInterval(Tu))):(Tu||(Yp=Ll.now(),Tu=setInterval(sY,ck)),jc=1,uk(h3))}}function p3(e,t,n){var r=new qp;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var uY=RF("start","end","cancel","interrupt"),lY=[],fk=0,v3=1,Ab=2,Jh=3,m3=4,Pb=5,Qh=6;function Zv(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;fY(e,n,{name:t,index:r,group:i,on:uY,tween:lY,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fk})}function Kw(e,t){var n=Yr(e,t);if(n.state>fk)throw new Error("too late; already scheduled");return n}function Ti(e,t){var n=Yr(e,t);if(n.state>Jh)throw new Error("too late; already running");return n}function Yr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fY(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=lk(a,0,n.time);function a(u){n.state=v3,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var l,f,d,h;if(n.state!==v3)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===Jh)return p3(o);h.state===m3?(h.state=Qh,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=Qh,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(p3(function(){n.state===Jh&&(n.state=m3,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Ab,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ab){for(n.state=Jh,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Pb,1),f=-1,d=i.length;++f<d;)i[f].call(e,l);n.state===Pb&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Qh,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function dY(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Ab&&r.state<Pb,r.state=Qh,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function hY(e){return this.each(function(){dY(this,e)})}function pY(e,t){var n,r;return function(){var i=Ti(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function vY(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ti(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}a.tween=i}}function mY(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yr(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?pY:vY)(n,e,t))}function Zw(e,t,n){var r=e._id;return e.each(function(){var i=Ti(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Yr(i,r).value[t]}}function dk(e,t){var n;return(typeof t=="number"?Kt:t instanceof Qo?yi:(n=Qo(t))?(t=n,yi):tk)(e,t)}function gY(e){return function(){this.removeAttribute(e)}}function _Y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yY(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function $Y(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function bY(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function SY(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function xY(e,t){var n=Wv(e),r=n==="transform"?nY:dk;return this.attrTween(e,typeof t=="function"?(n.local?SY:bY)(n,r,Zw(this,"attr."+e,t)):t==null?(n.local?_Y:gY)(n):(n.local?$Y:yY)(n,r,t))}function wY(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function EY(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function TY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&EY(e,a)),n}return i._value=t,i}function MY(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&wY(e,a)),n}return i._value=t,i}function AY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wv(e);return this.tween(n,(r.local?TY:MY)(r,t))}function PY(e,t){return function(){Kw(this,e).delay=+t.apply(this,arguments)}}function CY(e,t){return t=+t,function(){Kw(this,e).delay=t}}function RY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PY:CY)(t,e)):Yr(this.node(),t).delay}function IY(e,t){return function(){Ti(this,e).duration=+t.apply(this,arguments)}}function OY(e,t){return t=+t,function(){Ti(this,e).duration=t}}function DY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IY:OY)(t,e)):Yr(this.node(),t).duration}function LY(e,t){if(typeof t!="function")throw new Error;return function(){Ti(this,e).ease=t}}function NY(e){var t=this._id;return arguments.length?this.each(LY(t,e)):Yr(this.node(),t).ease}function UY(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ti(this,e).ease=n}}function FY(e){if(typeof e!="function")throw new Error;return this.each(UY(this._id,e))}function kY(e){typeof e!="function"&&(e=OF(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&s.push(c);return new na(r,this._parents,this._name,this._id)}function BY(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c=t[s],u=n[s],l=c.length,f=o[s]=new Array(l),d,h=0;h<l;++h)(d=c[h]||u[h])&&(f[h]=d);for(;s<r;++s)o[s]=t[s];return new na(o,this._parents,this._name,this._id)}function zY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HY(e,t,n){var r,i,a=zY(t)?Kw:Ti;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function GY(e,t){var n=this._id;return arguments.length<2?Yr(this.node(),n).on.on(e):this.each(HY(n,e,t))}function VY(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function jY(){return this.on("end.remove",VY(this._id))}function WY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zw(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,u=a[o]=new Array(c),l,f,d=0;d<c;++d)(l=s[d])&&(f=e.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),u[d]=f,Zv(u[d],t,n,d,u,Yr(l,n)));return new na(a,this._parents,t,n)}function XY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=IF(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var d=e.call(l,l.__data__,f,c),h,m=Yr(l,n),g=0,p=d.length;g<p;++g)(h=d[g])&&Zv(h,t,n,g,d,m);a.push(d),o.push(l)}return new na(a,o,t,n)}var YY=ef.prototype.constructor;function qY(){return new YY(this._groups,this._parents)}function KY(e,t){var n,r,i;return function(){var a=Gc(this,e),o=(this.style.removeProperty(e),Gc(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function hk(e){return function(){this.style.removeProperty(e)}}function ZY(e,t,n){var r,i=n+"",a;return function(){var o=Gc(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function JY(e,t,n){var r,i,a;return function(){var o=Gc(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Gc(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function QY(e,t){var n,r,i,a="style."+t,o="end."+a,s;return function(){var c=Ti(this,e),u=c.on,l=c.value[a]==null?s||(s=hk(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(o,i=l),c.on=r}}function eq(e,t,n){var r=(e+="")=="transform"?tY:dk;return t==null?this.styleTween(e,KY(e,r)).on("end.style."+e,hk(e)):typeof t=="function"?this.styleTween(e,JY(e,r,Zw(this,"style."+e,t))).each(QY(this._id,e)):this.styleTween(e,ZY(e,r,t),n).on("end.style."+e,null)}function tq(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function nq(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&tq(e,o,n)),r}return a._value=t,a}function rq(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,nq(e,t,n??""))}function iq(e){return function(){this.textContent=e}}function aq(e){return function(){var t=e(this);this.textContent=t??""}}function oq(e){return this.tween("text",typeof e=="function"?aq(Zw(this,"text",e)):iq(e==null?"":e+""))}function sq(e){return function(t){this.textContent=e.call(this,t)}}function cq(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&sq(i)),t}return r._value=e,r}function uq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cq(e))}function lq(){for(var e=this._name,t=this._id,n=pk(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,u=0;u<s;++u)if(c=o[u]){var l=Yr(c,t);Zv(c,e,n,u,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new na(r,this._parents,e,n)}function fq(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var u=Ti(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&a()})}var dq=0;function na(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function pk(){return++dq}var Oi=ef.prototype;na.prototype={constructor:na,select:WY,selectAll:XY,selectChild:Oi.selectChild,selectChildren:Oi.selectChildren,filter:kY,merge:BY,selection:qY,transition:lq,call:Oi.call,nodes:Oi.nodes,node:Oi.node,size:Oi.size,empty:Oi.empty,each:Oi.each,on:GY,attr:xY,attrTween:AY,style:eq,styleTween:rq,text:oq,textTween:uq,remove:jY,tween:mY,delay:RY,duration:DY,ease:NY,easeVarying:FY,end:fq,[Symbol.iterator]:Oi[Symbol.iterator]};function hq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pq={time:null,delay:0,duration:250,ease:hq};function vq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mq(e){var t,n;e instanceof na?(t=e._id,e=e._name):(t=pk(),(n=pq).time=qw(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,u=0;u<s;++u)(c=o[u])&&Zv(c,e,t,u,o,n||vq(c,t));return new na(r,this._parents,e,t)}ef.prototype.interrupt=hY;ef.prototype.transition=mq;const Cb=Math.PI,Rb=2*Cb,Ro=1e-6,gq=Rb-Ro;function vk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _q(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vk;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vk:_q(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-t,u=i-n,l=o-t,f=s-n,d=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ro)if(!(Math.abs(f*c-u*l)>Ro)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,m=i-s,g=c*c+u*u,p=h*h+m*m,v=Math.sqrt(g),y=Math.sqrt(d),_=a*Math.tan((Cb-Math.acos((g+d-p)/(2*v*y)))/2),S=_/y,O=_/v;Math.abs(S-1)>Ro&&this._append`L${t+S*l},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*h>l*m)},${this._x1=t+O*c},${this._y1=n+O*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,l=n+c,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Ro||Math.abs(this._y1-l)>Ro)&&this._append`L${u},${l}`,r&&(d<0&&(d=d%Rb+Rb),d>gq?this._append`A${r},${r},0,1,${f},${t-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=l}`:d>Ro&&this._append`A${r},${r},0,${+(d>=Cb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var g3={},Q_={},e0=34,Mu=10,t0=13;function mk(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function $q(e,t){var n=mk(e);return function(r,i){return t(n(r),i,e)}}function _3(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function kn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function bq(e){return e<0?"-"+kn(-e,6):e>9999?"+"+kn(e,6):kn(e,4)}function Sq(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":bq(e.getUTCFullYear())+"-"+kn(e.getUTCMonth()+1,2)+"-"+kn(e.getUTCDate(),2)+(i?"T"+kn(t,2)+":"+kn(n,2)+":"+kn(r,2)+"."+kn(i,3)+"Z":r?"T"+kn(t,2)+":"+kn(n,2)+":"+kn(r,2)+"Z":n||t?"T"+kn(t,2)+":"+kn(n,2)+"Z":"")}function gk(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,m,g=i(f,function(p,v){if(h)return h(p,v-1);m=p,h=d?$q(p,d):mk(p)});return g.columns=m||[],g}function i(f,d){var h=[],m=f.length,g=0,p=0,v,y=m<=0,_=!1;f.charCodeAt(m-1)===Mu&&--m,f.charCodeAt(m-1)===t0&&--m;function S(){if(y)return Q_;if(_)return _=!1,g3;var M,P=g,D;if(f.charCodeAt(P)===e0){for(;g++<m&&f.charCodeAt(g)!==e0||f.charCodeAt(++g)===e0;);return(M=g)>=m?y=!0:(D=f.charCodeAt(g++))===Mu?_=!0:D===t0&&(_=!0,f.charCodeAt(g)===Mu&&++g),f.slice(P+1,M-1).replace(/""/g,'"')}for(;g<m;){if((D=f.charCodeAt(M=g++))===Mu)_=!0;else if(D===t0)_=!0,f.charCodeAt(g)===Mu&&++g;else if(D!==n)continue;return f.slice(P,M)}return y=!0,f.slice(P,m)}for(;(v=S())!==Q_;){for(var O=[];v!==g3&&v!==Q_;)O.push(v),v=S();d&&(O=d(O,p++))==null||h.push(O)}return h}function a(f,d){return f.map(function(h){return d.map(function(m){return l(h[m])}).join(e)})}function o(f,d){return d==null&&(d=_3(f)),[d.map(l).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=_3(f)),a(f,d).join(`
`)}function c(f){return f.map(u).join(`
`)}function u(f){return f.map(l).join(e)}function l(f){return f==null?"":f instanceof Date?Sq(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var xq=gk(","),wq=xq.parse;function Eq(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Jw(e,t){return fetch(e,t).then(Eq)}function Tq(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Jw(t,n).then(function(i){return e(i,r)})}}function Mq(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=gk(e);return Jw(t,n).then(function(a){return i.parse(a,r)})}var Aq=Tq(wq);function Pq(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Cq(e,t){return fetch(e,t).then(Pq)}function Rq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wc(e){return e=Kp(Math.abs(e)),e?e[1]:NaN}function Iq(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Oq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Dq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nl(e){if(!(t=Dq.exec(e)))throw new Error("invalid format: "+e);var t;return new Qw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nl.prototype=Qw.prototype;function Qw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _k;function Nq(e,t){var n=Kp(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(_k=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Kp(e,Math.max(0,t+a-1))[0]}function y3(e,t){var n=Kp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>y3(e*100,t),r:y3,s:Nq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b3(e){return e}var S3=Array.prototype.map,x3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Uq(e){var t=e.grouping===void 0||e.thousands===void 0?b3:Iq(S3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?b3:Oq(S3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Nl(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,p=f.zero,v=f.width,y=f.comma,_=f.precision,S=f.trim,O=f.type;O==="n"?(y=!0,O="g"):$3[O]||(_===void 0&&(_=12),S=!0,O="g"),(p||d==="0"&&h==="=")&&(p=!0,d="0",h="=");var M=g==="$"?n:g==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=g==="$"?r:/[%p]/.test(O)?o:"",D=$3[O],X=/[defgprs%]/.test(O);_=_===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(b){var I=M,T=P,E,A,x;if(O==="c")T=D(b)+T,b="";else{b=+b;var N=b<0||1/b<0;if(b=isNaN(b)?c:D(Math.abs(b),_),S&&(b=Lq(b)),N&&+b==0&&m!=="+"&&(N=!1),I=(N?m==="("?m:s:m==="-"||m==="("?"":m)+I,T=(O==="s"?x3[8+_k/3]:"")+T+(N&&m==="("?")":""),X){for(E=-1,A=b.length;++E<A;)if(x=b.charCodeAt(E),48>x||x>57){T=(x===46?i+b.slice(E+1):b.slice(E))+T,b=b.slice(0,E);break}}}y&&!p&&(b=t(b,1/0));var R=I.length+b.length+T.length,F=R<v?new Array(v-R+1).join(d):"";switch(y&&p&&(b=t(F+b,F.length?v-T.length:1/0),F=""),h){case"<":b=I+b+T+F;break;case"=":b=I+F+b+T;break;case"^":b=F.slice(0,R=F.length>>1)+I+b+T+F.slice(R);break;default:b=F+I+b+T;break}return a(b)}return $.toString=function(){return f+""},$}function l(f,d){var h=u((f=Nl(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Wc(d)/3)))*3,g=Math.pow(10,-m),p=x3[8+m/3];return function(v){return h(g*v)+p}}return{format:u,formatPrefix:l}}var od,eE,yk;Fq({thousands:",",grouping:[3],currency:["$",""]});function Fq(e){return od=Uq(e),eE=od.format,yk=od.formatPrefix,od}function kq(e){return Math.max(0,-Wc(Math.abs(e)))}function Bq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wc(t)/3)))*3-Wc(Math.abs(e)))}function zq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wc(t)-Wc(e))+1}function Mi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zp=Symbol("implicit");function Qv(){var e=new ZA,t=[],n=[],r=Zp;function i(a){let o=e.get(a);if(o===void 0){if(r!==Zp)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ZA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Qv(t,n).unknown(r)},Mi.apply(i,arguments),i}function em(){var e=Qv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,c=0,u=0,l=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;a=(g-m)/Math.max(1,d-c+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(d-c))*l,o=a*(1-c),s&&(m=Math.round(m),o=Math.round(o));var p=Rl(d).map(function(v){return m+a*v});return n(h?p.reverse():p)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),f()):l},e.copy=function(){return em(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},Mi.apply(f(),arguments)}function $k(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $k(t())},e}function bk(){return $k(em.apply(null,arguments).paddingInner(1))}function Hq(e){return function(){return e}}function Ib(e){return+e}var w3=[0,1];function vr(e){return e}function Ob(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hq(isNaN(t)?NaN:.5)}function Gq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Vq(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Ob(i,r),a=n(o,a)):(r=Ob(r,i),a=n(a,o)),function(s){return a(r(s))}}function jq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ob(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var c=kw(e,s,1,r)-1;return a[c](i[c](s))}}function rf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tm(){var e=w3,t=w3,n=nf,r,i,a,o=vr,s,c,u;function l(){var d=Math.min(e.length,t.length);return o!==vr&&(o=Gq(e[0],e[d-1])),s=d>2?jq:Vq,c=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(c||(c=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(t,e.map(r),Kt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Ib),l()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=qv,l()},f.clamp=function(d){return arguments.length?(o=d?!0:vr,l()):o!==vr},f.interpolate=function(d){return arguments.length?(n=d,l()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,l()}}function Sk(){return tm()(vr,vr)}function Wq(e,t,n,r){var i=$b(e,t,n),a;switch(r=Nl(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Bq(i,o))&&(r.precision=a),yk(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=kq(i))&&(r.precision=a-(r.type==="%")*2);break}}return eE(r)}function af(e){var t=e.domain;return e.ticks=function(n){var r=t();return Pl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Wq(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,u,l=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);l-- >0;){if(u=yb(o,s,n),u===c)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function tE(){var e=Sk();return e.copy=function(){return rf(e,tE())},Mi.apply(e,arguments),af(e)}function nE(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ib),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return nE(e).unknown(t)},e=arguments.length?Array.from(e,Ib):[0,1],af(n)}function xk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function E3(e){return Math.log(e)}function T3(e){return Math.exp(e)}function Xq(e){return-Math.log(-e)}function Yq(e){return-Math.exp(-e)}function qq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kq(e){return e===10?qq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function M3(e){return(t,n)=>-e(-t,n)}function wk(e){const t=e(E3,T3),n=t.domain;let r=10,i,a;function o(){return i=Zq(r),a=Kq(r),n()[0]<0?(i=M3(i),a=M3(a),e(Xq,Yq)):e(E3,T3),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const f=l<u;f&&([u,l]=[l,u]);let d=i(u),h=i(l),m,g;const p=s==null?10:+s;let v=[];if(!(r%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<u)){if(g>l)break;v.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<u)){if(g>l)break;v.push(g)}v.length*2<p&&(v=Pl(u,l,p))}else v=Pl(d,h,Math.min(h-d,p)).map(a);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nl(c)).precision==null&&(c.trim=!0),c=eE(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return l=>{let f=l/a(Math.round(i(l)));return f*r<r-.5&&(f*=r),f<=u?c(l):""}},t.nice=()=>n(xk(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function rE(){const e=wk(tm()).domain([1,10]);return e.copy=()=>rf(e,rE()).base(e.base()),Mi.apply(e,arguments),e}function A3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ek(e){var t=1,n=e(A3(t),P3(t));return n.constant=function(r){return arguments.length?e(A3(t=+r),P3(t)):t},af(n)}function iE(){var e=Ek(tm());return e.copy=function(){return rf(e,iE()).constant(e.constant())},Mi.apply(e,arguments)}function C3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qq(e){return e<0?-e*e:e*e}function Tk(e){var t=e(vr,vr),n=1;function r(){return n===1?e(vr,vr):n===.5?e(Jq,Qq):e(C3(n),C3(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},af(t)}function aE(){var e=Tk(tm());return e.copy=function(){return rf(e,aE()).exponent(e.exponent())},Mi.apply(e,arguments),e}function oE(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=Fj(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[kw(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ji),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return oE().domain(e).range(t).unknown(r)},Mi.apply(a,arguments)}function sE(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[kw(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sE().domain(e).range(t).unknown(n)},Mi.apply(i,arguments)}const n0=new Date,r0=new Date;function Qt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>Qt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(n0.setTime(+a),r0.setTime(+o),e(n0),e(r0),Math.floor(n(n0,r0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Jp=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jp);Jp.range;const Yi=1e3,mr=Yi*60,qi=mr*60,ra=qi*24,cE=ra*7,R3=ra*30,i0=ra*365,Hr=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds());Hr.range;const of=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getMinutes());of.range;const sf=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getUTCMinutes());sf.range;const cf=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*mr)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getHours());cf.range;const uf=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCHours());uf.range;const ms=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mr)/ra,e=>e.getDate()-1);ms.range;const fu=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);fu.range;const Mk=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));Mk.range;function gs(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mr)/cE)}const ja=gs(0),Xc=gs(1),uE=gs(2),lE=gs(3),Wa=gs(4),fE=gs(5),dE=gs(6);ja.range;Xc.range;uE.range;lE.range;Wa.range;fE.range;dE.range;function _s(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/cE)}const Xa=_s(0),Yc=_s(1),hE=_s(2),pE=_s(3),Ya=_s(4),vE=_s(5),mE=_s(6);Xa.range;Yc.range;hE.range;pE.range;Ya.range;vE.range;mE.range;const Qi=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qi.range;const ea=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ea.range;const Wr=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wr.range;const Xr=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xr.range;function Ak(e,t,n,r,i,a){const o=[[Hr,1,Yi],[Hr,5,5*Yi],[Hr,15,15*Yi],[Hr,30,30*Yi],[a,1,mr],[a,5,5*mr],[a,15,15*mr],[a,30,30*mr],[i,1,qi],[i,3,3*qi],[i,6,6*qi],[i,12,12*qi],[r,1,ra],[r,2,2*ra],[n,1,cE],[t,1,R3],[t,3,3*R3],[e,1,i0]];function s(u,l,f){const d=l<u;d&&([u,l]=[l,u]);const h=f&&typeof f.range=="function"?f:c(u,l,f),m=h?h.range(u,+l+1):[];return d?m.reverse():m}function c(u,l,f){const d=Math.abs(l-u)/f,h=Fw(([,,p])=>p).right(o,d);if(h===o.length)return e.every($b(u/i0,l/i0,f));if(h===0)return Jp.every(Math.max($b(u,l,f),1));const[m,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return m.every(g)}return[s,c]}const[eK,tK]=Ak(Xr,ea,Xa,Mk,uf,sf),[nK,rK]=Ak(Wr,Qi,ja,ms,cf,of);function a0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function o0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Au(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function iK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Pu(i),l=Cu(i),f=Pu(a),d=Cu(a),h=Pu(o),m=Cu(o),g=Pu(s),p=Cu(s),v=Pu(c),y=Cu(c),_={a:N,A:R,b:F,B:k,c:null,d:U3,e:U3,f:MK,g:UK,G:kK,H:wK,I:EK,j:TK,L:Pk,m:AK,M:PK,p:ee,q:de,Q:B3,s:z3,S:CK,u:RK,U:IK,V:OK,w:DK,W:LK,x:null,X:null,y:NK,Y:FK,Z:BK,"%":k3},S={a:ge,A:j,b:Z,B:_e,c:null,d:F3,e:F3,f:VK,g:eZ,G:nZ,H:zK,I:HK,j:GK,L:Rk,m:jK,M:WK,p:he,q:we,Q:B3,s:z3,S:XK,u:YK,U:qK,V:KK,w:ZK,W:JK,x:null,X:null,y:QK,Y:tZ,Z:rZ,"%":k3},O={a:$,A:b,b:I,B:T,c:E,d:L3,e:L3,f:$K,g:D3,G:O3,H:N3,I:N3,j:mK,L:yK,m:vK,M:gK,p:X,q:pK,Q:SK,s:xK,S:_K,u:uK,U:lK,V:fK,w:cK,W:dK,x:A,X:x,y:D3,Y:O3,Z:hK,"%":bK};_.x=M(n,_),_.X=M(r,_),_.c=M(t,_),S.x=M(n,S),S.X=M(r,S),S.c=M(t,S);function M(Q,se){return function(me){var K=[],U=-1,ue=0,pe=Q.length,ye,ve,He;for(me instanceof Date||(me=new Date(+me));++U<pe;)Q.charCodeAt(U)===37&&(K.push(Q.slice(ue,U)),(ve=I3[ye=Q.charAt(++U)])!=null?ye=Q.charAt(++U):ve=ye==="e"?" ":"0",(He=se[ye])&&(ye=He(me,ve)),K.push(ye),ue=U+1);return K.push(Q.slice(ue,U)),K.join("")}}function P(Q,se){return function(me){var K=Au(1900,void 0,1),U=D(K,Q,me+="",0),ue,pe;if(U!=me.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(se&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ue=o0(Au(K.y,0,1)),pe=ue.getUTCDay(),ue=pe>4||pe===0?Yc.ceil(ue):Yc(ue),ue=fu.offset(ue,(K.V-1)*7),K.y=ue.getUTCFullYear(),K.m=ue.getUTCMonth(),K.d=ue.getUTCDate()+(K.w+6)%7):(ue=a0(Au(K.y,0,1)),pe=ue.getDay(),ue=pe>4||pe===0?Xc.ceil(ue):Xc(ue),ue=ms.offset(ue,(K.V-1)*7),K.y=ue.getFullYear(),K.m=ue.getMonth(),K.d=ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),pe="Z"in K?o0(Au(K.y,0,1)).getUTCDay():a0(Au(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(pe+5)%7:K.w+K.U*7-(pe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,o0(K)):a0(K)}}function D(Q,se,me,K){for(var U=0,ue=se.length,pe=me.length,ye,ve;U<ue;){if(K>=pe)return-1;if(ye=se.charCodeAt(U++),ye===37){if(ye=se.charAt(U++),ve=O[ye in I3?se.charAt(U++):ye],!ve||(K=ve(Q,me,K))<0)return-1}else if(ye!=me.charCodeAt(K++))return-1}return K}function X(Q,se,me){var K=u.exec(se.slice(me));return K?(Q.p=l.get(K[0].toLowerCase()),me+K[0].length):-1}function $(Q,se,me){var K=h.exec(se.slice(me));return K?(Q.w=m.get(K[0].toLowerCase()),me+K[0].length):-1}function b(Q,se,me){var K=f.exec(se.slice(me));return K?(Q.w=d.get(K[0].toLowerCase()),me+K[0].length):-1}function I(Q,se,me){var K=v.exec(se.slice(me));return K?(Q.m=y.get(K[0].toLowerCase()),me+K[0].length):-1}function T(Q,se,me){var K=g.exec(se.slice(me));return K?(Q.m=p.get(K[0].toLowerCase()),me+K[0].length):-1}function E(Q,se,me){return D(Q,t,se,me)}function A(Q,se,me){return D(Q,n,se,me)}function x(Q,se,me){return D(Q,r,se,me)}function N(Q){return o[Q.getDay()]}function R(Q){return a[Q.getDay()]}function F(Q){return c[Q.getMonth()]}function k(Q){return s[Q.getMonth()]}function ee(Q){return i[+(Q.getHours()>=12)]}function de(Q){return 1+~~(Q.getMonth()/3)}function ge(Q){return o[Q.getUTCDay()]}function j(Q){return a[Q.getUTCDay()]}function Z(Q){return c[Q.getUTCMonth()]}function _e(Q){return s[Q.getUTCMonth()]}function he(Q){return i[+(Q.getUTCHours()>=12)]}function we(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var se=M(Q+="",_);return se.toString=function(){return Q},se},parse:function(Q){var se=P(Q+="",!1);return se.toString=function(){return Q},se},utcFormat:function(Q){var se=M(Q+="",S);return se.toString=function(){return Q},se},utcParse:function(Q){var se=P(Q+="",!0);return se.toString=function(){return Q},se}}}var I3={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,aK=/^%/,oK=/[\\^$*+?|[\]().{}]/g;function st(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function sK(e){return e.replace(oK,"\\$&")}function Pu(e){return new RegExp("^(?:"+e.map(sK).join("|")+")","i")}function Cu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cK(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O3(e,t,n){var r=dn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function D3(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pK(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vK(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function L3(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function N3(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _K(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $K(e,t,n){var r=dn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bK(e,t,n){var r=aK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function SK(e,t,n){var r=dn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=dn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function U3(e,t){return st(e.getDate(),t,2)}function wK(e,t){return st(e.getHours(),t,2)}function EK(e,t){return st(e.getHours()%12||12,t,2)}function TK(e,t){return st(1+ms.count(Wr(e),e),t,3)}function Pk(e,t){return st(e.getMilliseconds(),t,3)}function MK(e,t){return Pk(e,t)+"000"}function AK(e,t){return st(e.getMonth()+1,t,2)}function PK(e,t){return st(e.getMinutes(),t,2)}function CK(e,t){return st(e.getSeconds(),t,2)}function RK(e){var t=e.getDay();return t===0?7:t}function IK(e,t){return st(ja.count(Wr(e)-1,e),t,2)}function Ck(e){var t=e.getDay();return t>=4||t===0?Wa(e):Wa.ceil(e)}function OK(e,t){return e=Ck(e),st(Wa.count(Wr(e),e)+(Wr(e).getDay()===4),t,2)}function DK(e){return e.getDay()}function LK(e,t){return st(Xc.count(Wr(e)-1,e),t,2)}function NK(e,t){return st(e.getFullYear()%100,t,2)}function UK(e,t){return e=Ck(e),st(e.getFullYear()%100,t,2)}function FK(e,t){return st(e.getFullYear()%1e4,t,4)}function kK(e,t){var n=e.getDay();return e=n>=4||n===0?Wa(e):Wa.ceil(e),st(e.getFullYear()%1e4,t,4)}function BK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function F3(e,t){return st(e.getUTCDate(),t,2)}function zK(e,t){return st(e.getUTCHours(),t,2)}function HK(e,t){return st(e.getUTCHours()%12||12,t,2)}function GK(e,t){return st(1+fu.count(Xr(e),e),t,3)}function Rk(e,t){return st(e.getUTCMilliseconds(),t,3)}function VK(e,t){return Rk(e,t)+"000"}function jK(e,t){return st(e.getUTCMonth()+1,t,2)}function WK(e,t){return st(e.getUTCMinutes(),t,2)}function XK(e,t){return st(e.getUTCSeconds(),t,2)}function YK(e){var t=e.getUTCDay();return t===0?7:t}function qK(e,t){return st(Xa.count(Xr(e)-1,e),t,2)}function Ik(e){var t=e.getUTCDay();return t>=4||t===0?Ya(e):Ya.ceil(e)}function KK(e,t){return e=Ik(e),st(Ya.count(Xr(e),e)+(Xr(e).getUTCDay()===4),t,2)}function ZK(e){return e.getUTCDay()}function JK(e,t){return st(Yc.count(Xr(e)-1,e),t,2)}function QK(e,t){return st(e.getUTCFullYear()%100,t,2)}function eZ(e,t){return e=Ik(e),st(e.getUTCFullYear()%100,t,2)}function tZ(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function nZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ya(e):Ya.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function rZ(){return"+0000"}function k3(){return"%"}function B3(e){return+e}function z3(e){return Math.floor(+e/1e3)}var Ns,Ok,Dk;iZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iZ(e){return Ns=iK(e),Ok=Ns.format,Ns.parse,Dk=Ns.utcFormat,Ns.utcParse,Ns}function aZ(e){return new Date(e)}function oZ(e){return e instanceof Date?+e:+new Date(+e)}function gE(e,t,n,r,i,a,o,s,c,u){var l=Sk(),f=l.invert,d=l.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),y=u("%b %d"),_=u("%B"),S=u("%Y");function O(M){return(c(M)<M?h:s(M)<M?m:o(M)<M?g:a(M)<M?p:r(M)<M?i(M)<M?v:y:n(M)<M?_:S)(M)}return l.invert=function(M){return new Date(f(M))},l.domain=function(M){return arguments.length?d(Array.from(M,oZ)):d().map(aZ)},l.ticks=function(M){var P=d();return e(P[0],P[P.length-1],M??10)},l.tickFormat=function(M,P){return P==null?O:u(P)},l.nice=function(M){var P=d();return(!M||typeof M.range!="function")&&(M=t(P[0],P[P.length-1],M??10)),M?d(xk(P,M)):l},l.copy=function(){return rf(l,gE(e,t,n,r,i,a,o,s,c,u))},l}function Lk(){return Mi.apply(gE(nK,rK,Wr,Qi,ja,ms,cf,of,Hr,Ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nk(){return Mi.apply(gE(eK,tK,Xr,ea,Xa,fu,uf,sf,Hr,Dk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rm(){var e=0,t=.5,n=1,r=1,i,a,o,s,c,u=vr,l,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+l(g))-a)*(r*g<r*a?s:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=l(e=+e),a=l(t=+t),o=l(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(p){var v,y,_;return arguments.length?([v,y,_]=p,u=Yw(g,[v,y,_]),h):[u(0),u(.5),u(1)]}}return h.range=m(nf),h.rangeRound=m(qv),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return l=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function _E(){var e=af(rm()(vr));return e.copy=function(){return nm(e,_E())},Jv.apply(e,arguments)}function yE(){var e=wk(rm()).domain([.1,1,10]);return e.copy=function(){return nm(e,yE()).base(e.base())},Jv.apply(e,arguments)}function $E(){var e=Ek(rm());return e.copy=function(){return nm(e,$E()).constant(e.constant())},Jv.apply(e,arguments)}function bE(){var e=Tk(rm());return e.copy=function(){return nm(e,bE()).exponent(e.exponent())},Jv.apply(e,arguments)}function Ze(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Uk=Ze("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fk=Ze("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),kk=Ze("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Bk=Ze("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zk=Ze("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Hk=Ze("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Gk=Ze("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Vk=Ze("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),jk=Ze("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Wk=Ze("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),yt=e=>jX(e[e.length-1]);var SE=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ze);const im=yt(SE);var xE=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ze);const am=yt(xE);var wE=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ze);const om=yt(wE);var EE=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ze);const sm=yt(EE);var Ul=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ze);const qa=yt(Ul);var TE=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ze);const cm=yt(TE);var Fl=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ze);const Ka=yt(Fl);var ME=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ze);const um=yt(ME);var AE=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ze);const lm=yt(AE);var PE=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ze);const fm=yt(PE);var CE=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ze);const dm=yt(CE);var RE=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ze);const hm=yt(RE);var IE=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ze);const pm=yt(IE);var OE=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ze);const vm=yt(OE);var DE=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ze);const mm=yt(DE);var LE=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ze);const gm=yt(LE);var NE=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ze);const _m=yt(NE);var UE=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ze);const ym=yt(UE);var FE=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ze);const $m=yt(FE);var kE=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ze);const bm=yt(kE);var BE=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ze);const Sm=yt(BE);var zE=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ze);const xm=yt(zE);var HE=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ze);const wm=yt(HE);var GE=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ze);const Em=yt(GE);var VE=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ze);const Tm=yt(VE);var jE=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ze);const Mm=yt(jE);var WE=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ze);const Am=yt(WE);function Pm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Cm=Xw(_i(300,.5,0),_i(-240,.5,1));var Rm=Xw(_i(-100,.75,.35),_i(80,1.5,.8)),Im=Xw(_i(260,.75,.35),_i(80,1.5,.8)),sd=_i();function Om(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return sd.h=360*e-100,sd.s=1.5-1.5*t,sd.l=.8-.9*t,sd+""}var cd=Ol(),sZ=Math.PI/3,cZ=Math.PI*2/3;function Dm(e){var t;return e=(.5-e)*Math.PI,cd.r=255*(t=Math.sin(e))*t,cd.g=255*(t=Math.sin(e+sZ))*t,cd.b=255*(t=Math.sin(e+cZ))*t,cd+""}function Lm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Nm(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Um=Nm(Ze("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Fm=Nm(Ze("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),km=Nm(Ze("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Bm=Nm(Ze("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Bt(e){return function(){return e}}const H3=Math.abs,$n=Math.atan2,Vi=Math.cos,uZ=Math.max,Lc=Math.min,Bn=Math.sin,Tt=Math.sqrt,xn=1e-12,Za=Math.PI,Qp=Za/2,Ba=2*Za;function lZ(e){return e>1?0:e<-1?Za:Math.acos(e)}function G3(e){return e>=1?Qp:e<=-1?-Qp:Math.asin(e)}function Xk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new yq(t)}function fZ(e){return e.innerRadius}function dZ(e){return e.outerRadius}function hZ(e){return e.startAngle}function pZ(e){return e.endAngle}function vZ(e){return e&&e.padAngle}function mZ(e,t,n,r,i,a,o,s){var c=n-e,u=r-t,l=o-i,f=s-a,d=f*c-l*u;if(!(d*d<xn))return d=(l*(t-a)-f*(e-i))/d,[e+d*c,t+d*u]}function ud(e,t,n,r,i,a,o){var s=e-n,c=t-r,u=(o?a:-a)/Tt(s*s+c*c),l=u*c,f=-u*s,d=e+l,h=t+f,m=n+l,g=r+f,p=(d+m)/2,v=(h+g)/2,y=m-d,_=g-h,S=y*y+_*_,O=i-a,M=d*g-m*h,P=(_<0?-1:1)*Tt(uZ(0,O*O*S-M*M)),D=(M*_-y*P)/S,X=(-M*y-_*P)/S,$=(M*_+y*P)/S,b=(-M*y+_*P)/S,I=D-p,T=X-v,E=$-p,A=b-v;return I*I+T*T>E*E+A*A&&(D=$,X=b),{cx:D,cy:X,x01:-l,y01:-f,x11:D*(i/O-1),y11:X*(i/O-1)}}function iit(){var e=fZ,t=dZ,n=Bt(0),r=null,i=hZ,a=pZ,o=vZ,s=null,c=Xk(u);function u(){var l,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Qp,g=a.apply(this,arguments)-Qp,p=H3(g-m),v=g>m;if(s||(s=l=c()),h<d&&(f=h,h=d,d=f),!(h>xn))s.moveTo(0,0);else if(p>Ba-xn)s.moveTo(h*Vi(m),h*Bn(m)),s.arc(0,0,h,m,g,!v),d>xn&&(s.moveTo(d*Vi(g),d*Bn(g)),s.arc(0,0,d,g,m,v));else{var y=m,_=g,S=m,O=g,M=p,P=p,D=o.apply(this,arguments)/2,X=D>xn&&(r?+r.apply(this,arguments):Tt(d*d+h*h)),$=Lc(H3(h-d)/2,+n.apply(this,arguments)),b=$,I=$,T,E;if(X>xn){var A=G3(X/d*Bn(D)),x=G3(X/h*Bn(D));(M-=A*2)>xn?(A*=v?1:-1,S+=A,O-=A):(M=0,S=O=(m+g)/2),(P-=x*2)>xn?(x*=v?1:-1,y+=x,_-=x):(P=0,y=_=(m+g)/2)}var N=h*Vi(y),R=h*Bn(y),F=d*Vi(O),k=d*Bn(O);if($>xn){var ee=h*Vi(_),de=h*Bn(_),ge=d*Vi(S),j=d*Bn(S),Z;if(p<Za)if(Z=mZ(N,R,ge,j,ee,de,F,k)){var _e=N-Z[0],he=R-Z[1],we=ee-Z[0],Q=de-Z[1],se=1/Bn(lZ((_e*we+he*Q)/(Tt(_e*_e+he*he)*Tt(we*we+Q*Q)))/2),me=Tt(Z[0]*Z[0]+Z[1]*Z[1]);b=Lc($,(d-me)/(se-1)),I=Lc($,(h-me)/(se+1))}else b=I=0}P>xn?I>xn?(T=ud(ge,j,N,R,h,I,v),E=ud(ee,de,F,k,h,I,v),s.moveTo(T.cx+T.x01,T.cy+T.y01),I<$?s.arc(T.cx,T.cy,I,$n(T.y01,T.x01),$n(E.y01,E.x01),!v):(s.arc(T.cx,T.cy,I,$n(T.y01,T.x01),$n(T.y11,T.x11),!v),s.arc(0,0,h,$n(T.cy+T.y11,T.cx+T.x11),$n(E.cy+E.y11,E.cx+E.x11),!v),s.arc(E.cx,E.cy,I,$n(E.y11,E.x11),$n(E.y01,E.x01),!v))):(s.moveTo(N,R),s.arc(0,0,h,y,_,!v)):s.moveTo(N,R),!(d>xn)||!(M>xn)?s.lineTo(F,k):b>xn?(T=ud(F,k,ee,de,d,-b,v),E=ud(N,R,ge,j,d,-b,v),s.lineTo(T.cx+T.x01,T.cy+T.y01),b<$?s.arc(T.cx,T.cy,b,$n(T.y01,T.x01),$n(E.y01,E.x01),!v):(s.arc(T.cx,T.cy,b,$n(T.y01,T.x01),$n(T.y11,T.x11),!v),s.arc(0,0,d,$n(T.cy+T.y11,T.cx+T.x11),$n(E.cy+E.y11,E.cx+E.x11),v),s.arc(E.cx,E.cy,b,$n(E.y11,E.x11),$n(E.y01,E.x01),!v))):s.arc(0,0,d,O,S,v)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Za/2;return[Vi(f)*l,Bn(f)*l]},u.innerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Bt(+l),u):e},u.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Bt(+l),u):t},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:Bt(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Bt(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Bt(+l),u):i},u.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Bt(+l),u):a},u.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:Bt(+l),u):o},u.context=function(l){return arguments.length?(s=l??null,u):s},u}function Yk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qk(e){this._context=e}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gZ(e){return new qk(e)}function _Z(e){return e[0]}function yZ(e){return e[1]}function ait(e,t){var n=Bt(!0),r=null,i=gZ,a=null,o=Xk(s);e=typeof e=="function"?e:e===void 0?_Z:Bt(e),t=typeof t=="function"?t:t===void 0?yZ:Bt(t);function s(c){var u,l=(c=Yk(c)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=l;++u)!(u<l&&n(f=c[u],u,c))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,u,c),+t(f,u,c));if(h)return a=null,h+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Bt(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function $Z(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function bZ(e){return e}function oit(){var e=bZ,t=$Z,n=null,r=Bt(0),i=Bt(Ba),a=Bt(0);function o(s){var c,u=(s=Yk(s)).length,l,f,d=0,h=new Array(u),m=new Array(u),g=+r.apply(this,arguments),p=Math.min(Ba,Math.max(-Ba,i.apply(this,arguments)-g)),v,y=Math.min(Math.abs(p)/u,a.apply(this,arguments)),_=y*(p<0?-1:1),S;for(c=0;c<u;++c)(S=m[h[c]=c]=+e(s[c],c,s))>0&&(d+=S);for(t!=null?h.sort(function(O,M){return t(m[O],m[M])}):n!=null&&h.sort(function(O,M){return n(s[O],s[M])}),c=0,f=d?(p-u*_)/d:0;c<u;++c,g=v)l=h[c],S=m[l],v=g+(S>0?S*f:0)+_,m[l]={data:s[l],index:c,value:S,startAngle:g,endAngle:v,padAngle:y};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Bt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Bt(+s),o):a},o}class Kk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function sit(e){return new Kk(e,!0)}function cit(e){return new Kk(e,!1)}const SZ=Tt(3),XE={draw(e,t){const n=Tt(t+Lc(t/28,.75))*.59436,r=n/2,i=r*SZ;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},zm={draw(e,t){const n=Tt(t/Za);e.moveTo(n,0),e.arc(0,0,n,0,Ba)}},YE={draw(e,t){const n=Tt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Zk=Tt(1/3),xZ=Zk*2,qE={draw(e,t){const n=Tt(t/xZ),r=n*Zk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},KE={draw(e,t){const n=Tt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},ZE={draw(e,t){const n=Tt(t-Lc(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},JE={draw(e,t){const n=Tt(t),r=-n/2;e.rect(r,r,n,n)}},QE={draw(e,t){const n=Tt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},wZ=.8908130915292852,Jk=Bn(Za/10)/Bn(7*Za/10),EZ=Bn(Ba/10)*Jk,TZ=-Vi(Ba/10)*Jk,e2={draw(e,t){const n=Tt(t*wZ),r=EZ*n,i=TZ*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Ba*a/5,s=Vi(o),c=Bn(o);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},s0=Tt(3),t2={draw(e,t){const n=-Tt(t/(s0*3));e.moveTo(0,n*2),e.lineTo(-s0*n,-n),e.lineTo(s0*n,-n),e.closePath()}},MZ=Tt(3),n2={draw(e,t){const n=Tt(t)*.6824,r=n/2,i=n*MZ/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},ur=-.5,lr=Tt(3)/2,Db=1/Tt(12),AZ=(Db/2+1)*3,r2={draw(e,t){const n=Tt(t/AZ),r=n/2,i=n*Db,a=r,o=n*Db+n,s=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(ur*r-lr*i,lr*r+ur*i),e.lineTo(ur*a-lr*o,lr*a+ur*o),e.lineTo(ur*s-lr*c,lr*s+ur*c),e.lineTo(ur*r+lr*i,ur*i-lr*r),e.lineTo(ur*a+lr*o,ur*o-lr*a),e.lineTo(ur*s+lr*c,ur*c-lr*s),e.closePath()}},i2={draw(e,t){const n=Tt(t-Lc(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Qk=[zm,YE,qE,JE,e2,t2,r2],e5=[zm,ZE,i2,n2,XE,QE,KE];function Ja(){}function ev(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uit(e){return new Hm(e)}function t5(e){this._context=e}t5.prototype={areaStart:Ja,areaEnd:Ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lit(e){return new t5(e)}function n5(e){this._context=e}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fit(e){return new n5(e)}function r5(e,t){this._basis=new Hm(e),this._beta=t}r5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+c*a),this._beta*t[s]+(1-this._beta)*(i+c*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const dit=function e(t){function n(r){return t===1?new Hm(r):new r5(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function tv(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function a2(e,t){this._context=e,this._k=(1-t)/6}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tv(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:tv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hit=function e(t){function n(r){return new a2(r,t)}return n.tension=function(r){return e(+r)},n}(0);function o2(e,t){this._context=e,this._k=(1-t)/6}o2.prototype={areaStart:Ja,areaEnd:Ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pit=function e(t){function n(r){return new o2(r,t)}return n.tension=function(r){return e(+r)},n}(0);function s2(e,t){this._context=e,this._k=(1-t)/6}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vit=function e(t){function n(r){return new s2(r,t)}return n.tension=function(r){return e(+r)},n}(0);function c2(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>xn){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>xn){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function i5(e,t){this._context=e,this._alpha=t}i5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:c2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mit=function e(t){function n(r){return t?new i5(r,t):new a2(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function a5(e,t){this._context=e,this._alpha=t}a5.prototype={areaStart:Ja,areaEnd:Ja,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:c2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const git=function e(t){function n(r){return t?new a5(r,t):new o2(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function o5(e,t){this._context=e,this._alpha=t}o5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:c2(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _it=function e(t){function n(r){return t?new o5(r,t):new s2(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function s5(e){this._context=e}s5.prototype={areaStart:Ja,areaEnd:Ja,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yit(e){return new s5(e)}function V3(e){return e<0?-1:1}function j3(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(V3(a)+V3(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function W3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function c0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function nv(e){this._context=e}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c0(this,this._t0,W3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c0(this,W3(this,n=j3(this,e,t)),n);break;default:c0(this,this._t0,n=j3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function c5(e){this._context=new u5(e)}(c5.prototype=Object.create(nv.prototype)).point=function(e,t){nv.prototype.point.call(this,t,e)};function u5(e){this._context=e}u5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function $it(e){return new nv(e)}function bit(e){return new c5(e)}function l5(e){this._context=e}l5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=X3(e),i=X3(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function X3(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Sit(e){return new l5(e)}function Gm(e,t){this._context=e,this._t=t}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function xit(e){return new Gm(e,.5)}function wit(e){return new Gm(e,0)}function Eit(e){return new Gm(e,1)}function sl(e,t,n){this.k=e,this.x=t,this.y=n}sl.prototype={constructor:sl,scale:function(e){return e===1?this:new sl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sl.prototype;const PZ=De({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(e){return(t,n)=>(z(),ne("span",{class:vt(["VPBadge",t.type])},[oe(t.$slots,"default",{},()=>[gi(nt(t.text),1)])],2))}}),CZ={key:0,class:"VPBackdrop"},RZ=De({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(e){return(t,n)=>(z(),Ge(Lw,{name:"fade"},{default:fe(()=>[t.show?(z(),ne("div",CZ)):Re("",!0)]),_:1}))}}),IZ=ke(RZ,[["__scopeId","data-v-54a304ca"]]),et=qo;function OZ(e,t){let n,r=!1;return()=>{n&&clearTimeout(n),r?n=setTimeout(e,t):(e(),(r=!0)&&setTimeout(()=>r=!1,t))}}function Lb(e){return/^\//.test(e)?e:`/${e}`}function u2(e){const{pathname:t,search:n,hash:r,protocol:i}=new URL(e,"http://a.com");if(hj(e)||e.startsWith("#")||!i.startsWith("http")||!pj(t))return e;const{site:a}=et(),o=t.endsWith("/")||t.endsWith(".html")?e:e.replace(/(?:(^\.+)\/)?.*$/,`$1${t.replace(/(\.md)?$/,a.value.cleanUrls?"":".html")}${n}${r}`);return Nw(o)}function lf({correspondingLink:e=!1}={}){const{site:t,localeIndex:n,page:r,theme:i,hash:a}=et(),o=Ve(()=>{var c,u;return{label:(c=t.value.locales[n.value])==null?void 0:c.label,link:((u=t.value.locales[n.value])==null?void 0:u.link)||(n.value==="root"?"/":`/${n.value}/`)}});return{localeLinks:Ve(()=>Object.entries(t.value.locales).flatMap(([c,u])=>o.value.label===u.label?[]:{text:u.label,link:DZ(u.link||(c==="root"?"/":`/${c}/`),i.value.i18nRouting!==!1&&e,r.value.relativePath.slice(o.value.link.length-1),!t.value.cleanUrls)+a.value})),currentLang:o}}function DZ(e,t,n,r){return t?e.replace(/\/$/,"")+Lb(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,r?".html":"")):e}const LZ=e=>(Wt("data-v-6ff51ddd"),e=e(),Xt(),e),NZ={class:"NotFound"},UZ={class:"code"},FZ={class:"title"},kZ=LZ(()=>te("div",{class:"divider"},null,-1)),BZ={class:"quote"},zZ={class:"action"},HZ=["href","aria-label"],GZ=De({__name:"NotFound",setup(e){const{theme:t}=et(),{currentLang:n}=lf();return(r,i)=>{var a,o,s,c,u;return z(),ne("div",NZ,[te("p",UZ,nt(((a=q(t).notFound)==null?void 0:a.code)??"404"),1),te("h1",FZ,nt(((o=q(t).notFound)==null?void 0:o.title)??"PAGE NOT FOUND"),1),kZ,te("blockquote",BZ,nt(((s=q(t).notFound)==null?void 0:s.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),te("div",zZ,[te("a",{class:"link",href:q(Nw)(q(n).link),"aria-label":((c=q(t).notFound)==null?void 0:c.linkLabel)??"go to home"},nt(((u=q(t).notFound)==null?void 0:u.linkText)??"Take me home"),9,HZ)])])}}}),VZ=ke(GZ,[["__scopeId","data-v-6ff51ddd"]]);function f5(e,t){if(Array.isArray(e))return ep(e);if(e==null)return[];t=Lb(t);const n=Object.keys(e).sort((i,a)=>a.split("/").length-i.split("/").length).find(i=>t.startsWith(Lb(i))),r=n?e[n]:[];return Array.isArray(r)?ep(r):ep(r.items,r.base)}function jZ(e){const t=[];let n=0;for(const r in e){const i=e[r];if(i.items){n=t.push(i);continue}t[n]||t.push({items:[]}),t[n].items.push(i)}return t}function WZ(e){const t=[];function n(r){for(const i of r)i.text&&i.link&&t.push({text:i.text,link:i.link,docFooterText:i.docFooterText}),i.items&&n(i.items)}return n(e),t}function Nb(e,t){return Array.isArray(t)?t.some(n=>Nb(e,n)):Ko(e,t.link)?!0:t.items?Nb(e,t.items):!1}function ep(e,t){return[...e].map(n=>{const r={...n},i=r.base||t;return i&&r.link&&(r.link=i+r.link),r.items&&(r.items=ep(r.items,i)),r})}function pa(){const{frontmatter:e,page:t,theme:n}=et(),r=mb("(min-width: 960px)"),i=at(!1),a=Ve(()=>{const g=n.value.sidebar,p=t.value.relativePath;return g?f5(g,p):[]}),o=at(a.value);jn(a,(g,p)=>{JSON.stringify(g)!==JSON.stringify(p)&&(o.value=a.value)});const s=Ve(()=>e.value.sidebar!==!1&&o.value.length>0&&e.value.layout!=="home"),c=Ve(()=>u?e.value.aside==null?n.value.aside==="left":e.value.aside==="left":!1),u=Ve(()=>e.value.layout==="home"?!1:e.value.aside!=null?!!e.value.aside:n.value.aside!==!1),l=Ve(()=>s.value&&r.value),f=Ve(()=>s.value?jZ(o.value):[]);function d(){i.value=!0}function h(){i.value=!1}function m(){i.value?h():d()}return{isOpen:i,sidebar:o,sidebarGroups:f,hasSidebar:s,hasAside:u,leftAside:c,isSidebarEnabled:l,open:d,close:h,toggle:m}}function XZ(e,t){let n;Hv(()=>{n=e.value?document.activeElement:void 0}),ha(()=>{window.addEventListener("keyup",r)}),Uw(()=>{window.removeEventListener("keyup",r)});function r(i){i.key==="Escape"&&e.value&&(t(),n==null||n.focus())}}function YZ(e){const{page:t,hash:n}=et(),r=at(!1),i=Ve(()=>e.value.collapsed!=null),a=Ve(()=>!!e.value.link),o=at(!1),s=()=>{o.value=Ko(t.value.relativePath,e.value.link)};jn([t,e,n],s),ha(s);const c=Ve(()=>o.value?!0:e.value.items?Nb(t.value.relativePath,e.value.items):!1),u=Ve(()=>!!(e.value.items&&e.value.items.length));Hv(()=>{r.value=!!(i.value&&e.value.collapsed)}),lF(()=>{(o.value||c.value)&&(r.value=!1)});function l(){i.value&&(r.value=!r.value)}return{collapsed:r,collapsible:i,isLink:a,isActiveLink:o,hasActiveLink:c,hasChildren:u,toggle:l}}function qZ(){const{hasSidebar:e}=pa(),t=mb("(min-width: 960px)"),n=mb("(min-width: 1280px)");return{isAsideEnabled:Ve(()=>!n.value&&!t.value?!1:e.value?n.value:t.value)}}const Ub=[];function d5(e){return typeof e.outline=="object"&&!Array.isArray(e.outline)&&e.outline.label||e.outlineTitle||"On this page"}function l2(e){const t=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(n=>n.id&&n.hasChildNodes()).map(n=>{const r=Number(n.tagName[1]);return{element:n,title:KZ(n),link:"#"+n.id,level:r}});return ZZ(t,e)}function KZ(e){let t="";for(const n of e.childNodes)if(n.nodeType===1){if(n.classList.contains("VPBadge")||n.classList.contains("header-anchor")||n.classList.contains("ignore-header"))continue;t+=n.textContent}else n.nodeType===3&&(t+=n.textContent);return t.trim()}function ZZ(e,t){if(t===!1)return[];const n=(typeof t=="object"&&!Array.isArray(t)?t.level:t)||2,[r,i]=typeof n=="number"?[n,n]:n==="deep"?[2,6]:n;e=e.filter(o=>o.level>=r&&o.level<=i),Ub.length=0;for(const{element:o,link:s}of e)Ub.push({element:o,link:s});const a=[];e:for(let o=0;o<e.length;o++){const s=e[o];if(o===0)a.push(s);else{for(let c=o-1;c>=0;c--){const u=e[c];if(u.level<s.level){(u.children||(u.children=[])).push(s);continue e}}a.push(s)}}return a}function JZ(e,t){const{isAsideEnabled:n}=qZ(),r=OZ(a,100);let i=null;ha(()=>{requestAnimationFrame(a),window.addEventListener("scroll",r)}),vj(()=>{o(location.hash)}),Uw(()=>{window.removeEventListener("scroll",r)});function a(){if(!n.value)return;const s=window.scrollY,c=window.innerHeight,u=document.body.offsetHeight,l=Math.abs(s+c-u)<1,f=Ub.map(({element:h,link:m})=>({link:m,top:QZ(h)})).filter(({top:h})=>!Number.isNaN(h)).sort((h,m)=>h.top-m.top);if(!f.length){o(null);return}if(s<1){o(null);return}if(l){o(f[f.length-1].link);return}let d=null;for(const{link:h,top:m}of f){if(m>s+mj()+4)break;d=h}o(d)}function o(s){i&&i.classList.remove("active"),s==null?i=null:i=e.value.querySelector(`a[href="${decodeURIComponent(s)}"]`);const c=i;c?(c.classList.add("active"),t.value.style.top=c.offsetTop+39+"px",t.value.style.opacity="1"):(t.value.style.top="33px",t.value.style.opacity="0")}}function QZ(e){let t=0;for(;e!==document.body;){if(e===null)return NaN;t+=e.offsetTop,e=e.offsetParent}return t}const eJ=["href","title"],tJ=De({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(e){function t({target:n}){const r=n.href.split("#")[1],i=document.getElementById(decodeURIComponent(r));i==null||i.focus({preventScroll:!0})}return(n,r)=>{const i=fi("VPDocOutlineItem",!0);return z(),ne("ul",{class:vt(["VPDocOutlineItem",n.root?"root":"nested"])},[(z(!0),ne(gt,null,fn(n.headers,({children:a,link:o,title:s})=>(z(),ne("li",null,[te("a",{class:"outline-link",href:o,onClick:t,title:s},nt(s),9,eJ),a!=null&&a.length?(z(),Ge(i,{key:0,headers:a},null,8,["headers"])):Re("",!0)]))),256))],2)}}}),h5=ke(tJ,[["__scopeId","data-v-53c99d69"]]),nJ={class:"content"},rJ={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},iJ=De({__name:"VPDocAsideOutline",setup(e){const{frontmatter:t,theme:n}=et(),r=fF([]);Gv(()=>{r.value=l2(t.value.outline??n.value.outline)});const i=at(),a=at();return JZ(i,a),(o,s)=>(z(),ne("nav",{"aria-labelledby":"doc-outline-aria-label",class:vt(["VPDocAsideOutline",{"has-outline":r.value.length>0}]),ref_key:"container",ref:i},[te("div",nJ,[te("div",{class:"outline-marker",ref_key:"marker",ref:a},null,512),te("div",rJ,nt(q(d5)(q(n))),1),Fe(h5,{headers:r.value,root:!0},null,8,["headers"])])],2))}}),aJ=ke(iJ,[["__scopeId","data-v-f610f197"]]),oJ={class:"VPDocAsideCarbonAds"},sJ=De({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(e){const t=()=>null;return(n,r)=>(z(),ne("div",oJ,[Fe(q(t),{"carbon-ads":n.carbonAds},null,8,["carbon-ads"])]))}}),cJ=e=>(Wt("data-v-cb998dce"),e=e(),Xt(),e),uJ={class:"VPDocAside"},lJ=cJ(()=>te("div",{class:"spacer"},null,-1)),fJ=De({__name:"VPDocAside",setup(e){const{theme:t}=et();return(n,r)=>(z(),ne("div",uJ,[oe(n.$slots,"aside-top",{},void 0,!0),oe(n.$slots,"aside-outline-before",{},void 0,!0),Fe(aJ),oe(n.$slots,"aside-outline-after",{},void 0,!0),lJ,oe(n.$slots,"aside-ads-before",{},void 0,!0),q(t).carbonAds?(z(),Ge(sJ,{key:0,"carbon-ads":q(t).carbonAds},null,8,["carbon-ads"])):Re("",!0),oe(n.$slots,"aside-ads-after",{},void 0,!0),oe(n.$slots,"aside-bottom",{},void 0,!0)]))}}),dJ=ke(fJ,[["__scopeId","data-v-cb998dce"]]);function hJ(){const{theme:e,page:t}=et();return Ve(()=>{const{text:n="Edit this page",pattern:r=""}=e.value.editLink||{};let i;return typeof r=="function"?i=r(t.value):i=r.replace(/:path/g,t.value.filePath),{url:i,text:n}})}function pJ(){const{page:e,theme:t,frontmatter:n}=et();return Ve(()=>{var u,l,f,d,h,m,g,p;const r=f5(t.value.sidebar,e.value.relativePath),i=WZ(r),a=vJ(i,v=>v.link.replace(/[?#].*$/,"")),o=a.findIndex(v=>Ko(e.value.relativePath,v.link)),s=((u=t.value.docFooter)==null?void 0:u.prev)===!1&&!n.value.prev||n.value.prev===!1,c=((l=t.value.docFooter)==null?void 0:l.next)===!1&&!n.value.next||n.value.next===!1;return{prev:s?void 0:{text:(typeof n.value.prev=="string"?n.value.prev:typeof n.value.prev=="object"?n.value.prev.text:void 0)??((f=a[o-1])==null?void 0:f.docFooterText)??((d=a[o-1])==null?void 0:d.text),link:(typeof n.value.prev=="object"?n.value.prev.link:void 0)??((h=a[o-1])==null?void 0:h.link)},next:c?void 0:{text:(typeof n.value.next=="string"?n.value.next:typeof n.value.next=="object"?n.value.next.text:void 0)??((m=a[o+1])==null?void 0:m.docFooterText)??((g=a[o+1])==null?void 0:g.text),link:(typeof n.value.next=="object"?n.value.next.link:void 0)??((p=a[o+1])==null?void 0:p.link)}}})}function vJ(e,t){const n=new Set;return e.filter(r=>{const i=t(r);return n.has(i)?!1:n.add(i)})}const pi=De({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(e){const t=e,n=Ve(()=>t.tag??(t.href?"a":"span")),r=Ve(()=>t.href&&dF.test(t.href)||t.target==="_blank");return(i,a)=>(z(),Ge(Vo(n.value),{class:vt(["VPLink",{link:i.href,"vp-external-link-icon":r.value,"no-icon":i.noIcon}]),href:i.href?q(u2)(i.href):void 0,target:i.target??(r.value?"_blank":void 0),rel:i.rel??(r.value?"noreferrer":void 0)},{default:fe(()=>[oe(i.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),mJ={class:"VPLastUpdated"},gJ=["datetime"],_J=De({__name:"VPDocFooterLastUpdated",setup(e){const{theme:t,page:n,frontmatter:r,lang:i}=et(),a=Ve(()=>new Date(r.value.lastUpdated??n.value.lastUpdated)),o=Ve(()=>a.value.toISOString()),s=at("");return ha(()=>{Hv(()=>{var c,u,l;s.value=new Intl.DateTimeFormat((u=(c=t.value.lastUpdated)==null?void 0:c.formatOptions)!=null&&u.forceLocale?i.value:void 0,((l=t.value.lastUpdated)==null?void 0:l.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(a.value)})}),(c,u)=>{var l;return z(),ne("p",mJ,[gi(nt(((l=q(t).lastUpdated)==null?void 0:l.text)||q(t).lastUpdatedText||"Last updated")+": ",1),te("time",{datetime:o.value},nt(s.value),9,gJ)])}}}),yJ=ke(_J,[["__scopeId","data-v-19a7ae4e"]]),p5=e=>(Wt("data-v-5941af80"),e=e(),Xt(),e),$J={key:0,class:"VPDocFooter"},bJ={key:0,class:"edit-info"},SJ={key:0,class:"edit-link"},xJ=p5(()=>te("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),wJ={key:1,class:"last-updated"},EJ={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},TJ=p5(()=>te("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),MJ={class:"pager"},AJ=["innerHTML"],PJ=["innerHTML"],CJ={class:"pager"},RJ=["innerHTML"],IJ=["innerHTML"],OJ=De({__name:"VPDocFooter",setup(e){const{theme:t,page:n,frontmatter:r}=et(),i=hJ(),a=pJ(),o=Ve(()=>t.value.editLink&&r.value.editLink!==!1),s=Ve(()=>n.value.lastUpdated&&r.value.lastUpdated!==!1),c=Ve(()=>o.value||s.value||a.value.prev||a.value.next);return(u,l)=>{var f,d,h,m;return c.value?(z(),ne("footer",$J,[oe(u.$slots,"doc-footer-before",{},void 0,!0),o.value||s.value?(z(),ne("div",bJ,[o.value?(z(),ne("div",SJ,[Fe(pi,{class:"edit-link-button",href:q(i).url,"no-icon":!0},{default:fe(()=>[xJ,gi(" "+nt(q(i).text),1)]),_:1},8,["href"])])):Re("",!0),s.value?(z(),ne("div",wJ,[Fe(yJ)])):Re("",!0)])):Re("",!0),(f=q(a).prev)!=null&&f.link||(d=q(a).next)!=null&&d.link?(z(),ne("nav",EJ,[TJ,te("div",MJ,[(h=q(a).prev)!=null&&h.link?(z(),Ge(pi,{key:0,class:"pager-link prev",href:q(a).prev.link},{default:fe(()=>{var g;return[te("span",{class:"desc",innerHTML:((g=q(t).docFooter)==null?void 0:g.prev)||"Previous page"},null,8,AJ),te("span",{class:"title",innerHTML:q(a).prev.text},null,8,PJ)]}),_:1},8,["href"])):Re("",!0)]),te("div",CJ,[(m=q(a).next)!=null&&m.link?(z(),Ge(pi,{key:0,class:"pager-link next",href:q(a).next.link},{default:fe(()=>{var g;return[te("span",{class:"desc",innerHTML:((g=q(t).docFooter)==null?void 0:g.next)||"Next page"},null,8,RJ),te("span",{class:"title",innerHTML:q(a).next.text},null,8,IJ)]}),_:1},8,["href"])):Re("",!0)])])):Re("",!0)])):Re("",!0)}}}),DJ=ke(OJ,[["__scopeId","data-v-5941af80"]]),LJ=e=>(Wt("data-v-e6f2a212"),e=e(),Xt(),e),NJ={class:"container"},UJ=LJ(()=>te("div",{class:"aside-curtain"},null,-1)),FJ={class:"aside-container"},kJ={class:"aside-content"},BJ={class:"content"},zJ={class:"content-container"},HJ={class:"main"},GJ=De({__name:"VPDoc",setup(e){const{theme:t}=et(),n=ps(),{hasSidebar:r,hasAside:i,leftAside:a}=pa(),o=Ve(()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(s,c)=>{const u=fi("Content");return z(),ne("div",{class:vt(["VPDoc",{"has-sidebar":q(r),"has-aside":q(i)}])},[oe(s.$slots,"doc-top",{},void 0,!0),te("div",NJ,[q(i)?(z(),ne("div",{key:0,class:vt(["aside",{"left-aside":q(a)}])},[UJ,te("div",FJ,[te("div",kJ,[Fe(dJ,null,{"aside-top":fe(()=>[oe(s.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":fe(()=>[oe(s.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":fe(()=>[oe(s.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":fe(()=>[oe(s.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":fe(()=>[oe(s.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":fe(()=>[oe(s.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):Re("",!0),te("div",BJ,[te("div",zJ,[oe(s.$slots,"doc-before",{},void 0,!0),te("main",HJ,[Fe(u,{class:vt(["vp-doc",[o.value,q(t).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),Fe(DJ,null,{"doc-footer-before":fe(()=>[oe(s.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),oe(s.$slots,"doc-after",{},void 0,!0)])])]),oe(s.$slots,"doc-bottom",{},void 0,!0)],2)}}}),VJ=ke(GJ,[["__scopeId","data-v-e6f2a212"]]),jJ=De({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(e){const t=e,n=Ve(()=>t.href&&dF.test(t.href)),r=Ve(()=>t.tag||t.href?"a":"button");return(i,a)=>(z(),Ge(Vo(r.value),{class:vt(["VPButton",[i.size,i.theme]]),href:i.href?q(u2)(i.href):void 0,target:t.target??(n.value?"_blank":void 0),rel:t.rel??(n.value?"noreferrer":void 0)},{default:fe(()=>[gi(nt(i.text),1)]),_:1},8,["class","href","target","rel"]))}}),WJ=ke(jJ,[["__scopeId","data-v-c9cf0e3c"]]),XJ=["src","alt"],YJ=De({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(e){return(t,n)=>{const r=fi("VPImage",!0);return t.image?(z(),ne(gt,{key:0},[typeof t.image=="string"||"src"in t.image?(z(),ne("img",qh({key:0,class:"VPImage"},typeof t.image=="string"?t.$attrs:{...t.image,...t.$attrs},{src:q(Nw)(typeof t.image=="string"?t.image:t.image.src),alt:t.alt??(typeof t.image=="string"?"":t.image.alt||"")}),null,16,XJ)):(z(),ne(gt,{key:1},[Fe(r,qh({class:"dark",image:t.image.dark,alt:t.image.alt},t.$attrs),null,16,["image","alt"]),Fe(r,qh({class:"light",image:t.image.light,alt:t.image.alt},t.$attrs),null,16,["image","alt"])],64))],64)):Re("",!0)}}}),rv=ke(YJ,[["__scopeId","data-v-ab19afbb"]]),qJ=e=>(Wt("data-v-b10c5094"),e=e(),Xt(),e),KJ={class:"container"},ZJ={class:"main"},JJ={key:0,class:"name"},QJ=["innerHTML"],eQ=["innerHTML"],tQ=["innerHTML"],nQ={key:0,class:"actions"},rQ={key:0,class:"image"},iQ={class:"image-container"},aQ=qJ(()=>te("div",{class:"image-bg"},null,-1)),oQ=De({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(e){const t=Vv("hero-image-slot-exists");return(n,r)=>(z(),ne("div",{class:vt(["VPHero",{"has-image":n.image||q(t)}])},[te("div",KJ,[te("div",ZJ,[oe(n.$slots,"home-hero-info-before",{},void 0,!0),oe(n.$slots,"home-hero-info",{},()=>[n.name?(z(),ne("h1",JJ,[te("span",{innerHTML:n.name,class:"clip"},null,8,QJ)])):Re("",!0),n.text?(z(),ne("p",{key:1,innerHTML:n.text,class:"text"},null,8,eQ)):Re("",!0),n.tagline?(z(),ne("p",{key:2,innerHTML:n.tagline,class:"tagline"},null,8,tQ)):Re("",!0)],!0),oe(n.$slots,"home-hero-info-after",{},void 0,!0),n.actions?(z(),ne("div",nQ,[(z(!0),ne(gt,null,fn(n.actions,i=>(z(),ne("div",{key:i.link,class:"action"},[Fe(WJ,{tag:"a",size:"medium",theme:i.theme,text:i.text,href:i.link,target:i.target,rel:i.rel},null,8,["theme","text","href","target","rel"])]))),128))])):Re("",!0),oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),n.image||q(t)?(z(),ne("div",rQ,[te("div",iQ,[aQ,oe(n.$slots,"home-hero-image",{},()=>[n.image?(z(),Ge(rv,{key:0,class:"image-src",image:n.image},null,8,["image"])):Re("",!0)],!0)])])):Re("",!0)])],2))}}),sQ=ke(oQ,[["__scopeId","data-v-b10c5094"]]),cQ=De({__name:"VPHomeHero",setup(e){const{frontmatter:t}=et();return(n,r)=>q(t).hero?(z(),Ge(sQ,{key:0,class:"VPHomeHero",name:q(t).hero.name,text:q(t).hero.text,tagline:q(t).hero.tagline,image:q(t).hero.image,actions:q(t).hero.actions},{"home-hero-info-before":fe(()=>[oe(n.$slots,"home-hero-info-before")]),"home-hero-info":fe(()=>[oe(n.$slots,"home-hero-info")]),"home-hero-info-after":fe(()=>[oe(n.$slots,"home-hero-info-after")]),"home-hero-actions-after":fe(()=>[oe(n.$slots,"home-hero-actions-after")]),"home-hero-image":fe(()=>[oe(n.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):Re("",!0)}}),uQ=e=>(Wt("data-v-bd37d1a2"),e=e(),Xt(),e),lQ={class:"box"},fQ={key:0,class:"icon"},dQ=["innerHTML"],hQ=["innerHTML"],pQ=["innerHTML"],vQ={key:4,class:"link-text"},mQ={class:"link-text-value"},gQ=uQ(()=>te("span",{class:"vpi-arrow-right link-text-icon"},null,-1)),_Q=De({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(e){return(t,n)=>(z(),Ge(pi,{class:"VPFeature",href:t.link,rel:t.rel,target:t.target,"no-icon":!0,tag:t.link?"a":"div"},{default:fe(()=>[te("article",lQ,[typeof t.icon=="object"&&t.icon.wrap?(z(),ne("div",fQ,[Fe(rv,{image:t.icon,alt:t.icon.alt,height:t.icon.height||48,width:t.icon.width||48},null,8,["image","alt","height","width"])])):typeof t.icon=="object"?(z(),Ge(rv,{key:1,image:t.icon,alt:t.icon.alt,height:t.icon.height||48,width:t.icon.width||48},null,8,["image","alt","height","width"])):t.icon?(z(),ne("div",{key:2,class:"icon",innerHTML:t.icon},null,8,dQ)):Re("",!0),te("h2",{class:"title",innerHTML:t.title},null,8,hQ),t.details?(z(),ne("p",{key:3,class:"details",innerHTML:t.details},null,8,pQ)):Re("",!0),t.linkText?(z(),ne("div",vQ,[te("p",mQ,[gi(nt(t.linkText)+" ",1),gQ])])):Re("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),yQ=ke(_Q,[["__scopeId","data-v-bd37d1a2"]]),$Q={key:0,class:"VPFeatures"},bQ={class:"container"},SQ={class:"items"},xQ=De({__name:"VPFeatures",props:{features:{}},setup(e){const t=e,n=Ve(()=>{const r=t.features.length;if(r){if(r===2)return"grid-2";if(r===3)return"grid-3";if(r%3===0)return"grid-6";if(r>3)return"grid-4"}else return});return(r,i)=>r.features?(z(),ne("div",$Q,[te("div",bQ,[te("div",SQ,[(z(!0),ne(gt,null,fn(r.features,a=>(z(),ne("div",{key:a.title,class:vt(["item",[n.value]])},[Fe(yQ,{icon:a.icon,title:a.title,details:a.details,link:a.link,"link-text":a.linkText,rel:a.rel,target:a.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):Re("",!0)}}),wQ=ke(xQ,[["__scopeId","data-v-b1eea84a"]]),EQ=De({__name:"VPHomeFeatures",setup(e){const{frontmatter:t}=et();return(n,r)=>q(t).features?(z(),Ge(wQ,{key:0,class:"VPHomeFeatures",features:q(t).features},null,8,["features"])):Re("",!0)}}),TQ=De({__name:"VPHomeContent",setup(e){const{width:t}=gj({initialWidth:0,includeScrollbar:!1});return(n,r)=>(z(),ne("div",{class:"vp-doc container",style:hF(q(t)?{"--vp-offset":`calc(50% - ${q(t)/2}px)`}:{})},[oe(n.$slots,"default",{},void 0,!0)],4))}}),MQ=ke(TQ,[["__scopeId","data-v-c141a4bd"]]),AQ={class:"VPHome"},PQ=De({__name:"VPHome",setup(e){const{frontmatter:t}=et();return(n,r)=>{const i=fi("Content");return z(),ne("div",AQ,[oe(n.$slots,"home-hero-before",{},void 0,!0),Fe(cQ,null,{"home-hero-info-before":fe(()=>[oe(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":fe(()=>[oe(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":fe(()=>[oe(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":fe(()=>[oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":fe(()=>[oe(n.$slots,"home-hero-image",{},void 0,!0)]),_:3}),oe(n.$slots,"home-hero-after",{},void 0,!0),oe(n.$slots,"home-features-before",{},void 0,!0),Fe(EQ),oe(n.$slots,"home-features-after",{},void 0,!0),q(t).markdownStyles!==!1?(z(),Ge(MQ,{key:0},{default:fe(()=>[Fe(i)]),_:1})):(z(),Ge(i,{key:1}))])}}}),CQ=ke(PQ,[["__scopeId","data-v-07b1ad08"]]),RQ={},IQ={class:"VPPage"};function OQ(e,t){const n=fi("Content");return z(),ne("div",IQ,[oe(e.$slots,"page-top"),Fe(n),oe(e.$slots,"page-bottom")])}const DQ=ke(RQ,[["render",OQ]]),LQ=De({__name:"VPContent",setup(e){const{page:t,frontmatter:n}=et(),{hasSidebar:r}=pa();return(i,a)=>(z(),ne("div",{class:vt(["VPContent",{"has-sidebar":q(r),"is-home":q(n).layout==="home"}]),id:"VPContent"},[q(t).isNotFound?oe(i.$slots,"not-found",{key:0},()=>[Fe(VZ)],!0):q(n).layout==="page"?(z(),Ge(DQ,{key:1},{"page-top":fe(()=>[oe(i.$slots,"page-top",{},void 0,!0)]),"page-bottom":fe(()=>[oe(i.$slots,"page-bottom",{},void 0,!0)]),_:3})):q(n).layout==="home"?(z(),Ge(CQ,{key:2},{"home-hero-before":fe(()=>[oe(i.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":fe(()=>[oe(i.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":fe(()=>[oe(i.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":fe(()=>[oe(i.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":fe(()=>[oe(i.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":fe(()=>[oe(i.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":fe(()=>[oe(i.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":fe(()=>[oe(i.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":fe(()=>[oe(i.$slots,"home-features-after",{},void 0,!0)]),_:3})):q(n).layout&&q(n).layout!=="doc"?(z(),Ge(Vo(q(n).layout),{key:3})):(z(),Ge(VJ,{key:4},{"doc-top":fe(()=>[oe(i.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":fe(()=>[oe(i.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":fe(()=>[oe(i.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":fe(()=>[oe(i.$slots,"doc-before",{},void 0,!0)]),"doc-after":fe(()=>[oe(i.$slots,"doc-after",{},void 0,!0)]),"aside-top":fe(()=>[oe(i.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":fe(()=>[oe(i.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":fe(()=>[oe(i.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":fe(()=>[oe(i.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":fe(()=>[oe(i.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":fe(()=>[oe(i.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),NQ=ke(LQ,[["__scopeId","data-v-9a6c75ad"]]),UQ={class:"container"},FQ=["innerHTML"],kQ=["innerHTML"],BQ=De({__name:"VPFooter",setup(e){const{theme:t,frontmatter:n}=et(),{hasSidebar:r}=pa();return(i,a)=>q(t).footer&&q(n).footer!==!1?(z(),ne("footer",{key:0,class:vt(["VPFooter",{"has-sidebar":q(r)}])},[te("div",UQ,[q(t).footer.message?(z(),ne("p",{key:0,class:"message",innerHTML:q(t).footer.message},null,8,FQ)):Re("",!0),q(t).footer.copyright?(z(),ne("p",{key:1,class:"copyright",innerHTML:q(t).footer.copyright},null,8,kQ)):Re("",!0)])],2)):Re("",!0)}}),zQ=ke(BQ,[["__scopeId","data-v-566314d4"]]);function HQ(){const{theme:e,frontmatter:t}=et(),n=fF([]),r=Ve(()=>n.value.length>0);return Gv(()=>{n.value=l2(t.value.outline??e.value.outline)}),{headers:n,hasLocalNav:r}}const GQ=e=>(Wt("data-v-883964e0"),e=e(),Xt(),e),VQ={class:"menu-text"},jQ=GQ(()=>te("span",{class:"vpi-chevron-right icon"},null,-1)),WQ={class:"header"},XQ={class:"outline"},YQ=De({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(e){const t=e,{theme:n}=et(),r=at(!1),i=at(0),a=at(),o=at();function s(f){var d;(d=a.value)!=null&&d.contains(f.target)||(r.value=!1)}jn(r,f=>{if(f){document.addEventListener("click",s);return}document.removeEventListener("click",s)}),gb("Escape",()=>{r.value=!1}),Gv(()=>{r.value=!1});function c(){r.value=!r.value,i.value=window.innerHeight+Math.min(window.scrollY-t.navHeight,0)}function u(f){f.target.classList.contains("outline-link")&&(o.value&&(o.value.style.transition="none"),pF(()=>{r.value=!1}))}function l(){r.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(f,d)=>(z(),ne("div",{class:"VPLocalNavOutlineDropdown",style:hF({"--vp-vh":i.value+"px"}),ref_key:"main",ref:a},[f.headers.length>0?(z(),ne("button",{key:0,onClick:c,class:vt({open:r.value})},[te("span",VQ,nt(q(d5)(q(n))),1),jQ],2)):(z(),ne("button",{key:1,onClick:l},nt(q(n).returnToTopLabel||"Return to top"),1)),Fe(Lw,{name:"flyout"},{default:fe(()=>[r.value?(z(),ne("div",{key:0,ref_key:"items",ref:o,class:"items",onClick:u},[te("div",WQ,[te("a",{class:"top-link",href:"#",onClick:l},nt(q(n).returnToTopLabel||"Return to top"),1)]),te("div",XQ,[Fe(h5,{headers:f.headers},null,8,["headers"])])],512)):Re("",!0)]),_:1})],4))}}),qQ=ke(YQ,[["__scopeId","data-v-883964e0"]]),KQ=e=>(Wt("data-v-2488c25a"),e=e(),Xt(),e),ZQ={class:"container"},JQ=["aria-expanded"],QQ=KQ(()=>te("span",{class:"vpi-align-left menu-icon"},null,-1)),eee={class:"menu-text"},tee=De({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(e){const{theme:t,frontmatter:n}=et(),{hasSidebar:r}=pa(),{headers:i}=HQ(),{y:a}=vF(),o=at(0);ha(()=>{o.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),Gv(()=>{i.value=l2(n.value.outline??t.value.outline)});const s=Ve(()=>i.value.length===0),c=Ve(()=>s.value&&!r.value),u=Ve(()=>({VPLocalNav:!0,"has-sidebar":r.value,empty:s.value,fixed:c.value}));return(l,f)=>q(n).layout!=="home"&&(!c.value||q(a)>=o.value)?(z(),ne("div",{key:0,class:vt(u.value)},[te("div",ZQ,[q(r)?(z(),ne("button",{key:0,class:"menu","aria-expanded":l.open,"aria-controls":"VPSidebarNav",onClick:f[0]||(f[0]=d=>l.$emit("open-menu"))},[QQ,te("span",eee,nt(q(t).sidebarMenuLabel||"Menu"),1)],8,JQ)):Re("",!0),Fe(qQ,{headers:q(i),navHeight:o.value},null,8,["headers","navHeight"])])],2)):Re("",!0)}}),nee=ke(tee,[["__scopeId","data-v-2488c25a"]]);function ree(){const e=at(!1);function t(){e.value=!0,window.addEventListener("resize",i)}function n(){e.value=!1,window.removeEventListener("resize",i)}function r(){e.value?n():t()}function i(){window.outerWidth>=768&&n()}const a=ps();return jn(()=>a.path,n),{isScreenOpen:e,openScreen:t,closeScreen:n,toggleScreen:r}}const iee={},aee={class:"VPSwitch",type:"button",role:"switch"},oee={class:"check"},see={key:0,class:"icon"};function cee(e,t){return z(),ne("button",aee,[te("span",oee,[e.$slots.default?(z(),ne("span",see,[oe(e.$slots,"default",{},void 0,!0)])):Re("",!0)])])}const uee=ke(iee,[["render",cee],["__scopeId","data-v-b4ccac88"]]),v5=e=>(Wt("data-v-7df97737"),e=e(),Xt(),e),lee=v5(()=>te("span",{class:"vpi-sun sun"},null,-1)),fee=v5(()=>te("span",{class:"vpi-moon moon"},null,-1)),dee=De({__name:"VPSwitchAppearance",setup(e){const{isDark:t,theme:n}=et(),r=Vv("toggle-appearance",()=>{t.value=!t.value}),i=Ve(()=>t.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme");return(a,o)=>(z(),Ge(uee,{title:i.value,class:"VPSwitchAppearance","aria-checked":q(t),onClick:q(r)},{default:fe(()=>[lee,fee]),_:1},8,["title","aria-checked","onClick"]))}}),f2=ke(dee,[["__scopeId","data-v-7df97737"]]),hee={key:0,class:"VPNavBarAppearance"},pee=De({__name:"VPNavBarAppearance",setup(e){const{site:t}=et();return(n,r)=>q(t).appearance&&q(t).appearance!=="force-dark"?(z(),ne("div",hee,[Fe(f2)])):Re("",!0)}}),vee=ke(pee,[["__scopeId","data-v-283b26e9"]]),d2=at();let m5=!1,u0=0;function mee(e){const t=at(!1);if(jv){!m5&&gee(),u0++;const n=jn(d2,r=>{var i,a,o;r===e.el.value||(i=e.el.value)!=null&&i.contains(r)?(t.value=!0,(a=e.onFocus)==null||a.call(e)):(t.value=!1,(o=e.onBlur)==null||o.call(e))});Uw(()=>{n(),u0--,u0||_ee()})}return _j(t)}function gee(){document.addEventListener("focusin",g5),m5=!0,d2.value=document.activeElement}function _ee(){document.removeEventListener("focusin",g5)}function g5(){d2.value=document.activeElement}const yee={class:"VPMenuLink"},$ee=De({__name:"VPMenuLink",props:{item:{}},setup(e){const{page:t}=et();return(n,r)=>(z(),ne("div",yee,[Fe(pi,{class:vt({active:q(Ko)(q(t).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,target:n.item.target,rel:n.item.rel},{default:fe(()=>[gi(nt(n.item.text),1)]),_:1},8,["class","href","target","rel"])]))}}),Vm=ke($ee,[["__scopeId","data-v-f51f088d"]]),bee={class:"VPMenuGroup"},See={key:0,class:"title"},xee=De({__name:"VPMenuGroup",props:{text:{},items:{}},setup(e){return(t,n)=>(z(),ne("div",bee,[t.text?(z(),ne("p",See,nt(t.text),1)):Re("",!0),(z(!0),ne(gt,null,fn(t.items,r=>(z(),ne(gt,null,["link"in r?(z(),Ge(Vm,{key:0,item:r},null,8,["item"])):Re("",!0)],64))),256))]))}}),wee=ke(xee,[["__scopeId","data-v-a6b0397c"]]),Eee={class:"VPMenu"},Tee={key:0,class:"items"},Mee=De({__name:"VPMenu",props:{items:{}},setup(e){return(t,n)=>(z(),ne("div",Eee,[t.items?(z(),ne("div",Tee,[(z(!0),ne(gt,null,fn(t.items,r=>(z(),ne(gt,{key:r.text},["link"in r?(z(),Ge(Vm,{key:0,item:r},null,8,["item"])):(z(),Ge(wee,{key:1,text:r.text,items:r.items},null,8,["text","items"]))],64))),128))])):Re("",!0),oe(t.$slots,"default",{},void 0,!0)]))}}),Aee=ke(Mee,[["__scopeId","data-v-e42ed9b3"]]),Pee=e=>(Wt("data-v-af5898d3"),e=e(),Xt(),e),Cee=["aria-expanded","aria-label"],Ree={key:0,class:"text"},Iee=["innerHTML"],Oee=Pee(()=>te("span",{class:"vpi-chevron-down text-icon"},null,-1)),Dee={key:1,class:"vpi-more-horizontal icon"},Lee={class:"menu"},Nee=De({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(e){const t=at(!1),n=at();mee({el:n,onBlur:r});function r(){t.value=!1}return(i,a)=>(z(),ne("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:a[1]||(a[1]=o=>t.value=!0),onMouseleave:a[2]||(a[2]=o=>t.value=!1)},[te("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":t.value,"aria-label":i.label,onClick:a[0]||(a[0]=o=>t.value=!t.value)},[i.button||i.icon?(z(),ne("span",Ree,[i.icon?(z(),ne("span",{key:0,class:vt([i.icon,"option-icon"])},null,2)):Re("",!0),i.button?(z(),ne("span",{key:1,innerHTML:i.button},null,8,Iee)):Re("",!0),Oee])):(z(),ne("span",Dee))],8,Cee),te("div",Lee,[Fe(Aee,{items:i.items},{default:fe(()=>[oe(i.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),h2=ke(Nee,[["__scopeId","data-v-af5898d3"]]),Uee=["href","aria-label","innerHTML"],Fee=De({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(e){const t=e,n=Ve(()=>typeof t.icon=="object"?t.icon.svg:`<span class="vpi-social-${t.icon}" />`);return(r,i)=>(z(),ne("a",{class:"VPSocialLink no-icon",href:r.link,"aria-label":r.ariaLabel??(typeof r.icon=="string"?r.icon:""),target:"_blank",rel:"noopener",innerHTML:n.value},null,8,Uee))}}),kee=ke(Fee,[["__scopeId","data-v-358b6670"]]),Bee={class:"VPSocialLinks"},zee=De({__name:"VPSocialLinks",props:{links:{}},setup(e){return(t,n)=>(z(),ne("div",Bee,[(z(!0),ne(gt,null,fn(t.links,({link:r,icon:i,ariaLabel:a})=>(z(),Ge(kee,{key:r,icon:i,link:r,ariaLabel:a},null,8,["icon","link","ariaLabel"]))),128))]))}}),p2=ke(zee,[["__scopeId","data-v-e71e869c"]]),Hee={key:0,class:"group translations"},Gee={class:"trans-title"},Vee={key:1,class:"group"},jee={class:"item appearance"},Wee={class:"label"},Xee={class:"appearance-action"},Yee={key:2,class:"group"},qee={class:"item social-links"},Kee=De({__name:"VPNavBarExtra",setup(e){const{site:t,theme:n}=et(),{localeLinks:r,currentLang:i}=lf({correspondingLink:!0}),a=Ve(()=>r.value.length&&i.value.label||t.value.appearance||n.value.socialLinks);return(o,s)=>a.value?(z(),Ge(h2,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:fe(()=>[q(r).length&&q(i).label?(z(),ne("div",Hee,[te("p",Gee,nt(q(i).label),1),(z(!0),ne(gt,null,fn(q(r),c=>(z(),Ge(Vm,{key:c.link,item:c},null,8,["item"]))),128))])):Re("",!0),q(t).appearance&&q(t).appearance!=="force-dark"?(z(),ne("div",Vee,[te("div",jee,[te("p",Wee,nt(q(n).darkModeSwitchLabel||"Appearance"),1),te("div",Xee,[Fe(f2)])])])):Re("",!0),q(n).socialLinks?(z(),ne("div",Yee,[te("div",qee,[Fe(p2,{class:"social-links-list",links:q(n).socialLinks},null,8,["links"])])])):Re("",!0)]),_:1})):Re("",!0)}}),Zee=ke(Kee,[["__scopeId","data-v-8e87c032"]]),Jee=e=>(Wt("data-v-6bee1efd"),e=e(),Xt(),e),Qee=["aria-expanded"],ete=Jee(()=>te("span",{class:"container"},[te("span",{class:"top"}),te("span",{class:"middle"}),te("span",{class:"bottom"})],-1)),tte=[ete],nte=De({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(e){return(t,n)=>(z(),ne("button",{type:"button",class:vt(["VPNavBarHamburger",{active:t.active}]),"aria-label":"mobile navigation","aria-expanded":t.active,"aria-controls":"VPNavScreen",onClick:n[0]||(n[0]=r=>t.$emit("click"))},tte,10,Qee))}}),rte=ke(nte,[["__scopeId","data-v-6bee1efd"]]),ite=["innerHTML"],ate=De({__name:"VPNavBarMenuLink",props:{item:{}},setup(e){const{page:t}=et();return(n,r)=>(z(),Ge(pi,{class:vt({VPNavBarMenuLink:!0,active:q(Ko)(q(t).relativePath,n.item.activeMatch||n.item.link,!!n.item.activeMatch)}),href:n.item.link,noIcon:n.item.noIcon,target:n.item.target,rel:n.item.rel,tabindex:"0"},{default:fe(()=>[te("span",{innerHTML:n.item.text},null,8,ite)]),_:1},8,["class","href","noIcon","target","rel"]))}}),ote=ke(ate,[["__scopeId","data-v-08fbf4b6"]]),ste=De({__name:"VPNavBarMenuGroup",props:{item:{}},setup(e){const t=e,{page:n}=et(),r=a=>"link"in a?Ko(n.value.relativePath,a.link,!!t.item.activeMatch):a.items.some(r),i=Ve(()=>r(t.item));return(a,o)=>(z(),Ge(h2,{class:vt({VPNavBarMenuGroup:!0,active:q(Ko)(q(n).relativePath,a.item.activeMatch,!!a.item.activeMatch)||i.value}),button:a.item.text,items:a.item.items},null,8,["class","button","items"]))}}),cte=e=>(Wt("data-v-f732b5d0"),e=e(),Xt(),e),ute={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},lte=cte(()=>te("span",{id:"main-nav-aria-label",class:"visually-hidden"},"Main Navigation",-1)),fte=De({__name:"VPNavBarMenu",setup(e){const{theme:t}=et();return(n,r)=>q(t).nav?(z(),ne("nav",ute,[lte,(z(!0),ne(gt,null,fn(q(t).nav,i=>(z(),ne(gt,{key:i.text},["link"in i?(z(),Ge(ote,{key:0,item:i},null,8,["item"])):(z(),Ge(ste,{key:1,item:i},null,8,["item"]))],64))),128))])):Re("",!0)}}),dte=ke(fte,[["__scopeId","data-v-f732b5d0"]]);function hte(e){const{localeIndex:t,theme:n}=et();function r(i){var m,g,p;const a=i.split("."),o=(m=n.value.search)==null?void 0:m.options,s=o&&typeof o=="object",c=s&&((p=(g=o.locales)==null?void 0:g[t.value])==null?void 0:p.translations)||null,u=s&&o.translations||null;let l=c,f=u,d=e;const h=a.pop();for(const v of a){let y=null;const _=d==null?void 0:d[v];_&&(y=d=_);const S=f==null?void 0:f[v];S&&(y=f=S);const O=l==null?void 0:l[v];O&&(y=l=O),_||(d=y),S||(f=y),O||(l=y)}return(l==null?void 0:l[h])??(f==null?void 0:f[h])??(d==null?void 0:d[h])??""}return r}const pte=["aria-label"],vte={class:"DocSearch-Button-Container"},mte=te("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1),gte={class:"DocSearch-Button-Placeholder"},_te=te("span",{class:"DocSearch-Button-Keys"},[te("kbd",{class:"DocSearch-Button-Key"}),te("kbd",{class:"DocSearch-Button-Key"},"K")],-1),Y3=De({__name:"VPNavBarSearchButton",setup(e){const n=hte({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(r,i)=>(z(),ne("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":q(n)("button.buttonAriaLabel")},[te("span",vte,[mte,te("span",gte,nt(q(n)("button.buttonText")),1)]),_te],8,pte))}}),yte={class:"VPNavBarSearch"},$te={id:"local-search"},bte={key:1,id:"docsearch"},Ste=De({__name:"VPNavBarSearch",setup(e){const t=yj(()=>mF(()=>import("./VPLocalSearchBox.DiaMDQJW.js"),__vite__mapDeps([0,1]))),n=()=>null,{theme:r}=et(),i=at(!1),a=at(!1);ha(()=>{});function o(){i.value||(i.value=!0,setTimeout(s,16))}function s(){const f=new Event("keydown");f.key="k",f.metaKey=!0,window.dispatchEvent(f),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||s()},16)}function c(f){const d=f.target,h=d.tagName;return d.isContentEditable||h==="INPUT"||h==="SELECT"||h==="TEXTAREA"}const u=at(!1);gb("k",f=>{(f.ctrlKey||f.metaKey)&&(f.preventDefault(),u.value=!0)}),gb("/",f=>{c(f)||(f.preventDefault(),u.value=!0)});const l="local";return(f,d)=>{var h;return z(),ne("div",yte,[q(l)==="local"?(z(),ne(gt,{key:0},[u.value?(z(),Ge(q(t),{key:0,onClose:d[0]||(d[0]=m=>u.value=!1)})):Re("",!0),te("div",$te,[Fe(Y3,{onClick:d[1]||(d[1]=m=>u.value=!0)})])],64)):q(l)==="algolia"?(z(),ne(gt,{key:1},[i.value?(z(),Ge(q(n),{key:0,algolia:((h=q(r).search)==null?void 0:h.options)??q(r).algolia,onVnodeBeforeMount:d[2]||(d[2]=m=>a.value=!0)},null,8,["algolia"])):Re("",!0),a.value?Re("",!0):(z(),ne("div",bte,[Fe(Y3,{onClick:o})]))],64)):Re("",!0)])}}}),xte=De({__name:"VPNavBarSocialLinks",setup(e){const{theme:t}=et();return(n,r)=>q(t).socialLinks?(z(),Ge(p2,{key:0,class:"VPNavBarSocialLinks",links:q(t).socialLinks},null,8,["links"])):Re("",!0)}}),wte=ke(xte,[["__scopeId","data-v-ef6192dc"]]),Ete=["href","rel","target"],Tte={key:1},Mte={key:2},Ate=De({__name:"VPNavBarTitle",setup(e){const{site:t,theme:n}=et(),{hasSidebar:r}=pa(),{currentLang:i}=lf(),a=Ve(()=>{var c;return typeof n.value.logoLink=="string"?n.value.logoLink:(c=n.value.logoLink)==null?void 0:c.link}),o=Ve(()=>{var c;return typeof n.value.logoLink=="string"||(c=n.value.logoLink)==null?void 0:c.rel}),s=Ve(()=>{var c;return typeof n.value.logoLink=="string"||(c=n.value.logoLink)==null?void 0:c.target});return(c,u)=>(z(),ne("div",{class:vt(["VPNavBarTitle",{"has-sidebar":q(r)}])},[te("a",{class:"title",href:a.value??q(u2)(q(i).link),rel:o.value,target:s.value},[oe(c.$slots,"nav-bar-title-before",{},void 0,!0),q(n).logo?(z(),Ge(rv,{key:0,class:"logo",image:q(n).logo},null,8,["image"])):Re("",!0),q(n).siteTitle?(z(),ne("span",Tte,nt(q(n).siteTitle),1)):q(n).siteTitle===void 0?(z(),ne("span",Mte,nt(q(t).title),1)):Re("",!0),oe(c.$slots,"nav-bar-title-after",{},void 0,!0)],8,Ete)],2))}}),Pte=ke(Ate,[["__scopeId","data-v-0ad69264"]]),Cte={class:"items"},Rte={class:"title"},Ite=De({__name:"VPNavBarTranslations",setup(e){const{theme:t}=et(),{localeLinks:n,currentLang:r}=lf({correspondingLink:!0});return(i,a)=>q(n).length&&q(r).label?(z(),Ge(h2,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:q(t).langMenuLabel||"Change language"},{default:fe(()=>[te("div",Cte,[te("p",Rte,nt(q(r).label),1),(z(!0),ne(gt,null,fn(q(n),o=>(z(),Ge(Vm,{key:o.link,item:o},null,8,["item"]))),128))])]),_:1},8,["label"])):Re("",!0)}}),Ote=ke(Ite,[["__scopeId","data-v-acee064b"]]),Dte=e=>(Wt("data-v-844edcde"),e=e(),Xt(),e),Lte={class:"wrapper"},Nte={class:"container"},Ute={class:"title"},Fte={class:"content"},kte={class:"content-body"},Bte=Dte(()=>te("div",{class:"divider"},[te("div",{class:"divider-line"})],-1)),zte=De({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(e){const{y:t}=vF(),{hasSidebar:n}=pa(),{frontmatter:r}=et(),i=at({});return lF(()=>{i.value={"has-sidebar":n.value,home:r.value.layout==="home",top:t.value===0}}),(a,o)=>(z(),ne("div",{class:vt(["VPNavBar",i.value])},[te("div",Lte,[te("div",Nte,[te("div",Ute,[Fe(Pte,null,{"nav-bar-title-before":fe(()=>[oe(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":fe(()=>[oe(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),te("div",Fte,[te("div",kte,[oe(a.$slots,"nav-bar-content-before",{},void 0,!0),Fe(Ste,{class:"search"}),Fe(dte,{class:"menu"}),Fe(Ote,{class:"translations"}),Fe(vee,{class:"appearance"}),Fe(wte,{class:"social-links"}),Fe(Zee,{class:"extra"}),oe(a.$slots,"nav-bar-content-after",{},void 0,!0),Fe(rte,{class:"hamburger",active:a.isScreenOpen,onClick:o[0]||(o[0]=s=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),Bte],2))}}),Hte=ke(zte,[["__scopeId","data-v-844edcde"]]),Gte={key:0,class:"VPNavScreenAppearance"},Vte={class:"text"},jte=De({__name:"VPNavScreenAppearance",setup(e){const{site:t,theme:n}=et();return(r,i)=>q(t).appearance&&q(t).appearance!=="force-dark"?(z(),ne("div",Gte,[te("p",Vte,nt(q(n).darkModeSwitchLabel||"Appearance"),1),Fe(f2)])):Re("",!0)}}),Wte=ke(jte,[["__scopeId","data-v-338d9b48"]]),Xte=De({__name:"VPNavScreenMenuLink",props:{item:{}},setup(e){const t=Vv("close-screen");return(n,r)=>(z(),Ge(pi,{class:"VPNavScreenMenuLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:q(t),innerHTML:n.item.text},null,8,["href","target","rel","onClick","innerHTML"]))}}),Yte=ke(Xte,[["__scopeId","data-v-1a934d60"]]),qte=De({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(e){const t=Vv("close-screen");return(n,r)=>(z(),Ge(pi,{class:"VPNavScreenMenuGroupLink",href:n.item.link,target:n.item.target,rel:n.item.rel,onClick:q(t)},{default:fe(()=>[gi(nt(n.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),_5=ke(qte,[["__scopeId","data-v-aea78dd1"]]),Kte={class:"VPNavScreenMenuGroupSection"},Zte={key:0,class:"title"},Jte=De({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(e){return(t,n)=>(z(),ne("div",Kte,[t.text?(z(),ne("p",Zte,nt(t.text),1)):Re("",!0),(z(!0),ne(gt,null,fn(t.items,r=>(z(),Ge(_5,{key:r.text,item:r},null,8,["item"]))),128))]))}}),Qte=ke(Jte,[["__scopeId","data-v-f60dbfa7"]]),ene=e=>(Wt("data-v-d2212c70"),e=e(),Xt(),e),tne=["aria-controls","aria-expanded"],nne=["innerHTML"],rne=ene(()=>te("span",{class:"vpi-plus button-icon"},null,-1)),ine=["id"],ane={key:1,class:"group"},one=De({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(e){const t=e,n=at(!1),r=Ve(()=>`NavScreenGroup-${t.text.replace(" ","-").toLowerCase()}`);function i(){n.value=!n.value}return(a,o)=>(z(),ne("div",{class:vt(["VPNavScreenMenuGroup",{open:n.value}])},[te("button",{class:"button","aria-controls":r.value,"aria-expanded":n.value,onClick:i},[te("span",{class:"button-text",innerHTML:a.text},null,8,nne),rne],8,tne),te("div",{id:r.value,class:"items"},[(z(!0),ne(gt,null,fn(a.items,s=>(z(),ne(gt,{key:s.text},["link"in s?(z(),ne("div",{key:s.text,class:"item"},[Fe(_5,{item:s},null,8,["item"])])):(z(),ne("div",ane,[Fe(Qte,{text:s.text,items:s.items},null,8,["text","items"])]))],64))),128))],8,ine)],2))}}),sne=ke(one,[["__scopeId","data-v-d2212c70"]]),cne={key:0,class:"VPNavScreenMenu"},une=De({__name:"VPNavScreenMenu",setup(e){const{theme:t}=et();return(n,r)=>q(t).nav?(z(),ne("nav",cne,[(z(!0),ne(gt,null,fn(q(t).nav,i=>(z(),ne(gt,{key:i.text},["link"in i?(z(),Ge(Yte,{key:0,item:i},null,8,["item"])):(z(),Ge(sne,{key:1,text:i.text||"",items:i.items},null,8,["text","items"]))],64))),128))])):Re("",!0)}}),lne=De({__name:"VPNavScreenSocialLinks",setup(e){const{theme:t}=et();return(n,r)=>q(t).socialLinks?(z(),Ge(p2,{key:0,class:"VPNavScreenSocialLinks",links:q(t).socialLinks},null,8,["links"])):Re("",!0)}}),y5=e=>(Wt("data-v-516e4bc3"),e=e(),Xt(),e),fne=y5(()=>te("span",{class:"vpi-languages icon lang"},null,-1)),dne=y5(()=>te("span",{class:"vpi-chevron-down icon chevron"},null,-1)),hne={class:"list"},pne=De({__name:"VPNavScreenTranslations",setup(e){const{localeLinks:t,currentLang:n}=lf({correspondingLink:!0}),r=at(!1);function i(){r.value=!r.value}return(a,o)=>q(t).length&&q(n).label?(z(),ne("div",{key:0,class:vt(["VPNavScreenTranslations",{open:r.value}])},[te("button",{class:"title",onClick:i},[fne,gi(" "+nt(q(n).label)+" ",1),dne]),te("ul",hne,[(z(!0),ne(gt,null,fn(q(t),s=>(z(),ne("li",{key:s.link,class:"item"},[Fe(pi,{class:"link",href:s.link},{default:fe(()=>[gi(nt(s.text),1)]),_:2},1032,["href"])]))),128))])],2)):Re("",!0)}}),vne=ke(pne,[["__scopeId","data-v-516e4bc3"]]),mne={class:"container"},gne=De({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(e){const t=at(null),n=gF(jv?document.body:null);return(r,i)=>(z(),Ge(Lw,{name:"fade",onEnter:i[0]||(i[0]=a=>n.value=!0),onAfterLeave:i[1]||(i[1]=a=>n.value=!1)},{default:fe(()=>[r.open?(z(),ne("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:t,id:"VPNavScreen"},[te("div",mne,[oe(r.$slots,"nav-screen-content-before",{},void 0,!0),Fe(une,{class:"menu"}),Fe(vne,{class:"translations"}),Fe(Wte,{class:"appearance"}),Fe(lne,{class:"social-links"}),oe(r.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):Re("",!0)]),_:3}))}}),_ne=ke(gne,[["__scopeId","data-v-57cce842"]]),yne={key:0,class:"VPNav"},$ne=De({__name:"VPNav",setup(e){const{isScreenOpen:t,closeScreen:n,toggleScreen:r}=ree(),{frontmatter:i}=et(),a=Ve(()=>i.value.navbar!==!1);return _F("close-screen",n),Hv(()=>{jv&&document.documentElement.classList.toggle("hide-nav",!a.value)}),(o,s)=>a.value?(z(),ne("header",yne,[Fe(Hte,{"is-screen-open":q(t),onToggleScreen:q(r)},{"nav-bar-title-before":fe(()=>[oe(o.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":fe(()=>[oe(o.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":fe(()=>[oe(o.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":fe(()=>[oe(o.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),Fe(_ne,{open:q(t)},{"nav-screen-content-before":fe(()=>[oe(o.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":fe(()=>[oe(o.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):Re("",!0)}}),bne=ke($ne,[["__scopeId","data-v-7ad780c2"]]),$5=e=>(Wt("data-v-c24f735a"),e=e(),Xt(),e),Sne=["role","tabindex"],xne=$5(()=>te("div",{class:"indicator"},null,-1)),wne=$5(()=>te("span",{class:"vpi-chevron-right caret-icon"},null,-1)),Ene=[wne],Tne={key:1,class:"items"},Mne=De({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(e){const t=e,{collapsed:n,collapsible:r,isLink:i,isActiveLink:a,hasActiveLink:o,hasChildren:s,toggle:c}=YZ(Ve(()=>t.item)),u=Ve(()=>s.value?"section":"div"),l=Ve(()=>i.value?"a":"div"),f=Ve(()=>s.value?t.depth+2===7?"p":`h${t.depth+2}`:"p"),d=Ve(()=>i.value?void 0:"button"),h=Ve(()=>[[`level-${t.depth}`],{collapsible:r.value},{collapsed:n.value},{"is-link":i.value},{"is-active":a.value},{"has-active":o.value}]);function m(p){"key"in p&&p.key!=="Enter"||!t.item.link&&c()}function g(){t.item.link&&c()}return(p,v)=>{const y=fi("VPSidebarItem",!0);return z(),Ge(Vo(u.value),{class:vt(["VPSidebarItem",h.value])},{default:fe(()=>[p.item.text?(z(),ne("div",qh({key:0,class:"item",role:d.value},$j(p.item.items?{click:m,keydown:m}:{},!0),{tabindex:p.item.items&&0}),[xne,p.item.link?(z(),Ge(pi,{key:0,tag:l.value,class:"link",href:p.item.link,rel:p.item.rel,target:p.item.target},{default:fe(()=>[(z(),Ge(Vo(f.value),{class:"text",innerHTML:p.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(z(),Ge(Vo(f.value),{key:1,class:"text",innerHTML:p.item.text},null,8,["innerHTML"])),p.item.collapsed!=null&&p.item.items&&p.item.items.length?(z(),ne("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:g,onKeydown:bj(g,["enter"]),tabindex:"0"},Ene,32)):Re("",!0)],16,Sne)):Re("",!0),p.item.items&&p.item.items.length?(z(),ne("div",Tne,[p.depth<5?(z(!0),ne(gt,{key:0},fn(p.item.items,_=>(z(),Ge(y,{key:_.text,item:_,depth:p.depth+1},null,8,["item","depth"]))),128)):Re("",!0)])):Re("",!0)]),_:1},8,["class"])}}}),Ane=ke(Mne,[["__scopeId","data-v-c24f735a"]]),b5=e=>(Wt("data-v-4871f9f5"),e=e(),Xt(),e),Pne=b5(()=>te("div",{class:"curtain"},null,-1)),Cne={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},Rne=b5(()=>te("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),Ine=De({__name:"VPSidebar",props:{open:{type:Boolean}},setup(e){const{sidebarGroups:t,hasSidebar:n}=pa(),r=e,i=at(null),a=gF(jv?document.body:null);return jn([r,i],()=>{var o;r.open?(a.value=!0,(o=i.value)==null||o.focus()):a.value=!1},{immediate:!0,flush:"post"}),(o,s)=>q(n)?(z(),ne("aside",{key:0,class:vt(["VPSidebar",{open:o.open}]),ref_key:"navEl",ref:i,onClick:s[0]||(s[0]=Sj(()=>{},["stop"]))},[Pne,te("nav",Cne,[Rne,oe(o.$slots,"sidebar-nav-before",{},void 0,!0),(z(!0),ne(gt,null,fn(q(t),c=>(z(),ne("div",{key:c.text,class:"group"},[Fe(Ane,{item:c,depth:0},null,8,["item"])]))),128)),oe(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):Re("",!0)}}),One=ke(Ine,[["__scopeId","data-v-4871f9f5"]]),Dne=De({__name:"VPSkipLink",setup(e){const t=ps(),n=at();jn(()=>t.path,()=>n.value.focus());function r({target:i}){const a=document.getElementById(decodeURIComponent(i.hash).slice(1));if(a){const o=()=>{a.removeAttribute("tabindex"),a.removeEventListener("blur",o)};a.setAttribute("tabindex","-1"),a.addEventListener("blur",o),a.focus(),window.scrollTo(0,0)}}return(i,a)=>(z(),ne(gt,null,[te("span",{ref_key:"backToTop",ref:n,tabindex:"-1"},null,512),te("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:r}," Skip to content ")],64))}}),Lne=ke(Dne,[["__scopeId","data-v-c8291ffa"]]),Nne=De({__name:"Layout",setup(e){const{isOpen:t,open:n,close:r}=pa(),i=ps();jn(()=>i.path,r),XZ(t,r);const{frontmatter:a}=et(),o=xj(),s=Ve(()=>!!o["home-hero-image"]);return _F("hero-image-slot-exists",s),(c,u)=>{const l=fi("Content");return q(a).layout!==!1?(z(),ne("div",{key:0,class:vt(["Layout",q(a).pageClass])},[oe(c.$slots,"layout-top",{},void 0,!0),Fe(Lne),Fe(IZ,{class:"backdrop",show:q(t),onClick:q(r)},null,8,["show","onClick"]),Fe(bne,null,{"nav-bar-title-before":fe(()=>[oe(c.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":fe(()=>[oe(c.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":fe(()=>[oe(c.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":fe(()=>[oe(c.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":fe(()=>[oe(c.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":fe(()=>[oe(c.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),Fe(nee,{open:q(t),onOpenMenu:q(n)},null,8,["open","onOpenMenu"]),Fe(One,{open:q(t)},{"sidebar-nav-before":fe(()=>[oe(c.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":fe(()=>[oe(c.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),Fe(NQ,null,{"page-top":fe(()=>[oe(c.$slots,"page-top",{},void 0,!0)]),"page-bottom":fe(()=>[oe(c.$slots,"page-bottom",{},void 0,!0)]),"not-found":fe(()=>[oe(c.$slots,"not-found",{},void 0,!0)]),"home-hero-before":fe(()=>[oe(c.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":fe(()=>[oe(c.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":fe(()=>[oe(c.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":fe(()=>[oe(c.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":fe(()=>[oe(c.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":fe(()=>[oe(c.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":fe(()=>[oe(c.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":fe(()=>[oe(c.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":fe(()=>[oe(c.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":fe(()=>[oe(c.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":fe(()=>[oe(c.$slots,"doc-before",{},void 0,!0)]),"doc-after":fe(()=>[oe(c.$slots,"doc-after",{},void 0,!0)]),"doc-top":fe(()=>[oe(c.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":fe(()=>[oe(c.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":fe(()=>[oe(c.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":fe(()=>[oe(c.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":fe(()=>[oe(c.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":fe(()=>[oe(c.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":fe(()=>[oe(c.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":fe(()=>[oe(c.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),Fe(zQ),oe(c.$slots,"layout-bottom",{},void 0,!0)],2)):(z(),Ge(l,{key:1}))}}}),Une=ke(Nne,[["__scopeId","data-v-d8b57b2d"]]),S5={Layout:Une,enhanceApp:({app:e})=>{e.component("Badge",PZ)}},Fne={class:"pwd"},kne={__name:"Layout",setup(e){const t=ps(),{Layout:n}=S5,{frontmatter:r,theme:i}=qo(),a=at(!0),o=at(""),s=at("");let c=[];wj(()=>{window.addEventListener("load",()=>{c=JSON.parse(localStorage.getItem("validRoutePath"))||[],console.log(c)}),window.addEventListener("beforeunload",()=>{localStorage.setItem("validRoutePath",JSON.stringify(c))})}),r.value.password&&(a.value=!1),s.value=r.value.password?String(r.value.password):void 0;const u=Ve(()=>a.value&&c.includes(t.path)),l=()=>a.value=c.includes(t.path),f=d=>{o.value=d};return jn(o,()=>{(o.value===String(r.value.password)||o.value===i.value.rootPassword)&&c.push(t.path),l()}),jn(()=>t.path,d=>{s.value=r.value.password?String(r.value.password):void 0,r.value.password?((o.value===String(r.value.password)||o.value===i.value.rootPassword)&&c.push(t.path),l()):a.value=!0}),(d,h)=>{const m=fi("Comment"),g=fi("Footer"),p=fi("Passwd");return a.value?(z(),Ge(q(n),{key:0},Ej({"doc-after":fe(()=>[Fe(m)]),"layout-bottom":fe(()=>[Fe(g)]),_:2},[u.value?{name:"doc-before",fn:fe(()=>[te("span",Fne,"password："+nt(s.value),1)]),key:"0"}:void 0]),1024)):(z(),Ge(p,{key:1,onChange:f}))}}},Bne=ke(kne,[["__scopeId","data-v-e6fa476a"]]);function zne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ts(){ts=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(I,T,E){I[T]=E.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(I,T,E){return Object.defineProperty(I,T,{value:E,enumerable:!0,configurable:!0,writable:!0}),I[T]}try{c({},"")}catch{c=function(T,E,A){return T[E]=A}}function u(I,T,E,A){var x=T&&T.prototype instanceof d?T:d,N=Object.create(x.prototype),R=new X(A||[]);return r(N,"_invoke",{value:O(I,E,R)}),N}function l(I,T,E){try{return{type:"normal",arg:I.call(T,E)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var f={};function d(){}function h(){}function m(){}var g={};c(g,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p($([])));v&&v!==t&&n.call(v,a)&&(g=v);var y=m.prototype=d.prototype=Object.create(g);function _(I){["next","throw","return"].forEach(function(T){c(I,T,function(E){return this._invoke(T,E)})})}function S(I,T){function E(x,N,R,F){var k=l(I[x],I,N);if(k.type!=="throw"){var ee=k.arg,de=ee.value;return de&&typeof de=="object"&&n.call(de,"__await")?T.resolve(de.__await).then(function(ge){E("next",ge,R,F)},function(ge){E("throw",ge,R,F)}):T.resolve(de).then(function(ge){ee.value=ge,R(ee)},function(ge){return E("throw",ge,R,F)})}F(k.arg)}var A;r(this,"_invoke",{value:function(x,N){function R(){return new T(function(F,k){E(x,N,F,k)})}return A=A?A.then(R,R):R()}})}function O(I,T,E){var A="suspendedStart";return function(x,N){if(A==="executing")throw new Error("Generator is already running");if(A==="completed"){if(x==="throw")throw N;return b()}for(E.method=x,E.arg=N;;){var R=E.delegate;if(R){var F=M(R,E);if(F){if(F===f)continue;return F}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(A==="suspendedStart")throw A="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);A="executing";var k=l(I,T,E);if(k.type==="normal"){if(A=E.done?"completed":"suspendedYield",k.arg===f)continue;return{value:k.arg,done:E.done}}k.type==="throw"&&(A="completed",E.method="throw",E.arg=k.arg)}}}function M(I,T){var E=T.method,A=I.iterator[E];if(A===void 0)return T.delegate=null,E==="throw"&&I.iterator.return&&(T.method="return",T.arg=void 0,M(I,T),T.method==="throw")||E!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+E+"' method")),f;var x=l(A,I.iterator,T.arg);if(x.type==="throw")return T.method="throw",T.arg=x.arg,T.delegate=null,f;var N=x.arg;return N?N.done?(T[I.resultName]=N.value,T.next=I.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,f):N:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,f)}function P(I){var T={tryLoc:I[0]};1 in I&&(T.catchLoc=I[1]),2 in I&&(T.finallyLoc=I[2],T.afterLoc=I[3]),this.tryEntries.push(T)}function D(I){var T=I.completion||{};T.type="normal",delete T.arg,I.completion=T}function X(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(P,this),this.reset(!0)}function $(I){if(I){var T=I[a];if(T)return T.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var E=-1,A=function x(){for(;++E<I.length;)if(n.call(I,E))return x.value=I[E],x.done=!1,x;return x.value=void 0,x.done=!0,x};return A.next=A}}return{next:b}}function b(){return{value:void 0,done:!0}}return h.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(I){var T=typeof I=="function"&&I.constructor;return!!T&&(T===h||(T.displayName||T.name)==="GeneratorFunction")},e.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,m):(I.__proto__=m,c(I,s,"GeneratorFunction")),I.prototype=Object.create(y),I},e.awrap=function(I){return{__await:I}},_(S.prototype),c(S.prototype,o,function(){return this}),e.AsyncIterator=S,e.async=function(I,T,E,A,x){x===void 0&&(x=Promise);var N=new S(u(I,T,E,A),x);return e.isGeneratorFunction(T)?N:N.next().then(function(R){return R.done?R.value:N.next()})},_(y),c(y,s,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(I){var T=Object(I),E=[];for(var A in T)E.push(A);return E.reverse(),function x(){for(;E.length;){var N=E.pop();if(N in T)return x.value=N,x.done=!1,x}return x.done=!0,x}},e.values=$,X.prototype={constructor:X,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!I)for(var T in this)T.charAt(0)==="t"&&n.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var T=this;function E(k,ee){return N.type="throw",N.arg=I,T.next=k,ee&&(T.method="next",T.arg=void 0),!!ee}for(var A=this.tryEntries.length-1;A>=0;--A){var x=this.tryEntries[A],N=x.completion;if(x.tryLoc==="root")return E("end");if(x.tryLoc<=this.prev){var R=n.call(x,"catchLoc"),F=n.call(x,"finallyLoc");if(R&&F){if(this.prev<x.catchLoc)return E(x.catchLoc,!0);if(this.prev<x.finallyLoc)return E(x.finallyLoc)}else if(R){if(this.prev<x.catchLoc)return E(x.catchLoc,!0)}else{if(!F)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return E(x.finallyLoc)}}}},abrupt:function(I,T){for(var E=this.tryEntries.length-1;E>=0;--E){var A=this.tryEntries[E];if(A.tryLoc<=this.prev&&n.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var x=A;break}}x&&(I==="break"||I==="continue")&&x.tryLoc<=T&&T<=x.finallyLoc&&(x=null);var N=x?x.completion:{};return N.type=I,N.arg=T,x?(this.method="next",this.next=x.finallyLoc,f):this.complete(N)},complete:function(I,T){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&T&&(this.next=T),f},finish:function(I){for(var T=this.tryEntries.length-1;T>=0;--T){var E=this.tryEntries[T];if(E.finallyLoc===I)return this.complete(E.completion,E.afterLoc),D(E),f}},catch:function(I){for(var T=this.tryEntries.length-1;T>=0;--T){var E=this.tryEntries[T];if(E.tryLoc===I){var A=E.completion;if(A.type==="throw"){var x=A.arg;D(E)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(I,T,E){return this.delegate={iterator:$(I),resultName:T,nextLoc:E},this.method==="next"&&(this.arg=void 0),f}},e}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E5(r.key),r)}}function Pn(e,t,n){return t&&Hne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gne(e,t,n){return t=E5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x5(e,t){return jne(e)||zne(e,t)||w5(e,t)||Yne()}function Fb(e){return Vne(e)||Wne(e)||w5(e)||Xne()}function Vne(e){if(Array.isArray(e))return kb(e)}function jne(e){if(Array.isArray(e))return e}function Wne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w5(e,t){if(e){if(typeof e=="string")return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(e,t)}}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E5(e){var t=qne(e,"string");return typeof t=="symbol"?t:String(t)}var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ru=function(e){return e&&e.Math===Math&&e},Dt=Ru(typeof globalThis=="object"&&globalThis)||Ru(typeof window=="object"&&window)||Ru(typeof self=="object"&&self)||Ru(typeof ln=="object"&&ln)||Ru(typeof ln=="object"&&ln)||function(){return this}()||Function("return this")(),T5={exports:{}},q3=Dt,Kne=Object.defineProperty,v2=function(e,t){try{Kne(q3,e,{value:t,configurable:!0,writable:!0})}catch{q3[e]=t}return t},Zne=Dt,Jne=v2,K3="__core-js_shared__",Qne=Zne[K3]||Jne(K3,{}),m2=Qne,Z3=m2;(T5.exports=function(e,t){return Z3[e]||(Z3[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var g2=T5.exports,ht=function(e){try{return!!e()}catch{return!0}},ere=ht,jm=!ere(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),M5=jm,A5=Function.prototype,Bb=A5.call,tre=M5&&A5.bind.bind(Bb,Bb),_t=M5?tre:function(e){return function(){return Bb.apply(e,arguments)}},ao=function(e){return e==null},nre=ao,rre=TypeError,ys=function(e){if(nre(e))throw new rre("Can't call method on "+e);return e},ire=ys,are=Object,Ai=function(e){return are(ire(e))},ore=_t,sre=Ai,cre=ore({}.hasOwnProperty),Sr=Object.hasOwn||function(t,n){return cre(sre(t),n)},ure=_t,lre=0,fre=Math.random(),dre=ure(1 .toString),_2=function(e){return"Symbol("+(e===void 0?"":e)+")_"+dre(++lre+fre,36)},$s=typeof navigator<"u"&&String(navigator.userAgent)||"",P5=Dt,l0=$s,J3=P5.process,Q3=P5.Deno,eP=J3&&J3.versions||Q3&&Q3.version,tP=eP&&eP.v8,Nr,iv;tP&&(Nr=tP.split("."),iv=Nr[0]>0&&Nr[0]<4?1:+(Nr[0]+Nr[1]));!iv&&l0&&(Nr=l0.match(/Edge\/(\d+)/),(!Nr||Nr[1]>=74)&&(Nr=l0.match(/Chrome\/(\d+)/),Nr&&(iv=+Nr[1])));var ff=iv,nP=ff,hre=ht,pre=Dt,vre=pre.String,C5=!!Object.getOwnPropertySymbols&&!hre(function(){var e=Symbol("symbol detection");return!vre(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&nP&&nP<41}),mre=C5,R5=mre&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gre=Dt,_re=g2,rP=Sr,yre=_2,$re=C5,bre=R5,xc=gre.Symbol,f0=_re("wks"),Sre=bre?xc.for||xc:xc&&xc.withoutSetter||yre,Lt=function(e){return rP(f0,e)||(f0[e]=$re&&rP(xc,e)?xc[e]:Sre("Symbol."+e)),f0[e]},xre=Lt,wre=xre("toStringTag"),I5={};I5[wre]="z";var y2=String(I5)==="[object z]",zb=typeof document=="object"&&document.all,Ere=typeof zb>"u"&&zb!==void 0,O5={all:zb,IS_HTMLDDA:Ere},D5=O5,Tre=D5.all,Pt=D5.IS_HTMLDDA?function(e){return typeof e=="function"||e===Tre}:function(e){return typeof e=="function"},qr={},Mre=ht,Xn=!Mre(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),iP=Pt,L5=O5,Are=L5.all,mn=L5.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:iP(e)||e===Are}:function(e){return typeof e=="object"?e!==null:iP(e)},Pre=Dt,aP=mn,Hb=Pre.document,Cre=aP(Hb)&&aP(Hb.createElement),Wm=function(e){return Cre?Hb.createElement(e):{}},Rre=Xn,Ire=ht,Ore=Wm,N5=!Rre&&!Ire(function(){return Object.defineProperty(Ore("div"),"a",{get:function(){return 7}}).a!==7}),Dre=Xn,Lre=ht,U5=Dre&&Lre(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Nre=mn,Ure=String,Fre=TypeError,Dn=function(e){if(Nre(e))return e;throw new Fre(Ure(e)+" is not an object")},kre=jm,ld=Function.prototype.call,gn=kre?ld.bind(ld):function(){return ld.apply(ld,arguments)},d0=Dt,Bre=Pt,zre=function(e){return Bre(e)?e:void 0},bs=function(e,t){return arguments.length<2?zre(d0[e]):d0[e]&&d0[e][t]},Hre=_t,$2=Hre({}.isPrototypeOf),Gre=bs,Vre=Pt,jre=$2,Wre=R5,Xre=Object,F5=Wre?function(e){return typeof e=="symbol"}:function(e){var t=Gre("Symbol");return Vre(t)&&jre(t.prototype,Xre(e))},Yre=String,df=function(e){try{return Yre(e)}catch{return"Object"}},qre=Pt,Kre=df,Zre=TypeError,Pi=function(e){if(qre(e))return e;throw new Zre(Kre(e)+" is not a function")},Jre=Pi,Qre=ao,Xm=function(e,t){var n=e[t];return Qre(n)?void 0:Jre(n)},h0=gn,p0=Pt,v0=mn,eie=TypeError,tie=function(e,t){var n,r;if(t==="string"&&p0(n=e.toString)&&!v0(r=h0(n,e))||p0(n=e.valueOf)&&!v0(r=h0(n,e))||t!=="string"&&p0(n=e.toString)&&!v0(r=h0(n,e)))return r;throw new eie("Can't convert object to primitive value")},nie=gn,oP=mn,sP=F5,rie=Xm,iie=tie,aie=Lt,oie=TypeError,sie=aie("toPrimitive"),cie=function(e,t){if(!oP(e)||sP(e))return e;var n=rie(e,sie),r;if(n){if(t===void 0&&(t="default"),r=nie(n,e,t),!oP(r)||sP(r))return r;throw new oie("Can't convert object to primitive value")}return t===void 0&&(t="number"),iie(e,t)},uie=cie,lie=F5,b2=function(e){var t=uie(e,"string");return lie(t)?t:t+""},fie=Xn,die=N5,hie=U5,fd=Dn,cP=b2,pie=TypeError,m0=Object.defineProperty,vie=Object.getOwnPropertyDescriptor,g0="enumerable",_0="configurable",y0="writable";qr.f=fie?hie?function(t,n,r){if(fd(t),n=cP(n),fd(r),typeof t=="function"&&n==="prototype"&&"value"in r&&y0 in r&&!r[y0]){var i=vie(t,n);i&&i[y0]&&(t[n]=r.value,r={configurable:_0 in r?r[_0]:i[_0],enumerable:g0 in r?r[g0]:i[g0],writable:!1})}return m0(t,n,r)}:m0:function(t,n,r){if(fd(t),n=cP(n),fd(r),die)try{return m0(t,n,r)}catch{}if("get"in r||"set"in r)throw new pie("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var k5={exports:{}},Gb=Xn,mie=Sr,B5=Function.prototype,gie=Gb&&Object.getOwnPropertyDescriptor,S2=mie(B5,"name"),_ie=S2&&(function(){}).name==="something",yie=S2&&(!Gb||Gb&&gie(B5,"name").configurable),Ym={EXISTS:S2,PROPER:_ie,CONFIGURABLE:yie},$ie=_t,bie=Pt,Vb=m2,Sie=$ie(Function.toString);bie(Vb.inspectSource)||(Vb.inspectSource=function(e){return Sie(e)});var x2=Vb.inspectSource,xie=Dt,wie=Pt,uP=xie.WeakMap,Eie=wie(uP)&&/native code/.test(String(uP)),qm=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Tie=Xn,Mie=qr,Aie=qm,du=Tie?function(e,t,n){return Mie.f(e,t,Aie(1,n))}:function(e,t,n){return e[t]=n,e},Pie=g2,Cie=_2,lP=Pie("keys"),w2=function(e){return lP[e]||(lP[e]=Cie(e))},Km={},Rie=Eie,z5=Dt,Iie=mn,Oie=du,$0=Sr,b0=m2,Die=w2,Lie=Km,fP="Object already initialized",jb=z5.TypeError,Nie=z5.WeakMap,av,kl,ov,Uie=function(e){return ov(e)?kl(e):av(e,{})},Fie=function(e){return function(t){var n;if(!Iie(t)||(n=kl(t)).type!==e)throw new jb("Incompatible receiver, "+e+" required");return n}};if(Rie||b0.state){var ni=b0.state||(b0.state=new Nie);ni.get=ni.get,ni.has=ni.has,ni.set=ni.set,av=function(e,t){if(ni.has(e))throw new jb(fP);return t.facade=e,ni.set(e,t),t},kl=function(e){return ni.get(e)||{}},ov=function(e){return ni.has(e)}}else{var Us=Die("state");Lie[Us]=!0,av=function(e,t){if($0(e,Us))throw new jb(fP);return t.facade=e,Oie(e,Us,t),t},kl=function(e){return $0(e,Us)?e[Us]:{}},ov=function(e){return $0(e,Us)}}var Ss={set:av,get:kl,has:ov,enforce:Uie,getterFor:Fie},E2=_t,kie=ht,Bie=Pt,dd=Sr,Wb=Xn,zie=Ym.CONFIGURABLE,Hie=x2,H5=Ss,Gie=H5.enforce,Vie=H5.get,dP=String,tp=Object.defineProperty,jie=E2("".slice),Wie=E2("".replace),Xie=E2([].join),Yie=Wb&&!kie(function(){return tp(function(){},"length",{value:8}).length!==8}),qie=String(String).split("String"),Kie=k5.exports=function(e,t,n){jie(dP(t),0,7)==="Symbol("&&(t="["+Wie(dP(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!dd(e,"name")||zie&&e.name!==t)&&(Wb?tp(e,"name",{value:t,configurable:!0}):e.name=t),Yie&&n&&dd(n,"arity")&&e.length!==n.arity&&tp(e,"length",{value:n.arity});try{n&&dd(n,"constructor")&&n.constructor?Wb&&tp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=Gie(e);return dd(r,"source")||(r.source=Xie(qie,typeof t=="string"?t:"")),e};Function.prototype.toString=Kie(function(){return Bie(this)&&Vie(this).source||Hie(this)},"toString");var G5=k5.exports,Zie=Pt,Jie=qr,Qie=G5,eae=v2,va=function(e,t,n,r){r||(r={});var i=r.enumerable,a=r.name!==void 0?r.name:t;if(Zie(n)&&Qie(n,a,r),r.global)i?e[t]=n:eae(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=n:Jie.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},V5=_t,tae=V5({}.toString),nae=V5("".slice),ma=function(e){return nae(tae(e),8,-1)},rae=y2,iae=Pt,np=ma,aae=Lt,oae=aae("toStringTag"),sae=Object,cae=np(function(){return arguments}())==="Arguments",uae=function(e,t){try{return e[t]}catch{}},Zm=rae?np:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=uae(t=sae(e),oae))=="string"?n:cae?np(t):(r=np(t))==="Object"&&iae(t.callee)?"Arguments":r},lae=y2,fae=Zm,dae=lae?{}.toString:function(){return"[object "+fae(this)+"]"},hae=y2,pae=va,vae=dae;hae||pae(Object.prototype,"toString",vae,{unsafe:!0});var hf={},Jm={},j5={}.propertyIsEnumerable,W5=Object.getOwnPropertyDescriptor,mae=W5&&!j5.call({1:2},1);Jm.f=mae?function(t){var n=W5(this,t);return!!n&&n.enumerable}:j5;var gae=_t,_ae=ht,yae=ma,S0=Object,$ae=gae("".split),Qm=_ae(function(){return!S0("z").propertyIsEnumerable(0)})?function(e){return yae(e)==="String"?$ae(e,""):S0(e)}:S0,bae=Qm,Sae=ys,ga=function(e){return bae(Sae(e))},xae=Xn,wae=gn,Eae=Jm,Tae=qm,Mae=ga,Aae=b2,Pae=Sr,Cae=N5,hP=Object.getOwnPropertyDescriptor;hf.f=xae?hP:function(t,n){if(t=Mae(t),n=Aae(n),Cae)try{return hP(t,n)}catch{}if(Pae(t,n))return Tae(!wae(Eae.f,t,n),t[n])};var eg={},Rae=Math.ceil,Iae=Math.floor,Oae=Math.trunc||function(t){var n=+t;return(n>0?Iae:Rae)(n)},Dae=Oae,tg=function(e){var t=+e;return t!==t||t===0?0:Dae(t)},Lae=tg,Nae=Math.max,Uae=Math.min,ng=function(e,t){var n=Lae(e);return n<0?Nae(n+t,0):Uae(n,t)},Fae=tg,kae=Math.min,T2=function(e){return e>0?kae(Fae(e),9007199254740991):0},Bae=T2,_a=function(e){return Bae(e.length)},zae=ga,Hae=ng,Gae=_a,pP=function(e){return function(t,n,r){var i=zae(t),a=Gae(i),o=Hae(r,a),s;if(e&&n!==n){for(;a>o;)if(s=i[o++],s!==s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},X5={includes:pP(!0),indexOf:pP(!1)},Vae=_t,x0=Sr,jae=ga,Wae=X5.indexOf,Xae=Km,vP=Vae([].push),Y5=function(e,t){var n=jae(e),r=0,i=[],a;for(a in n)!x0(Xae,a)&&x0(n,a)&&vP(i,a);for(;t.length>r;)x0(n,a=t[r++])&&(~Wae(i,a)||vP(i,a));return i},M2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Yae=Y5,qae=M2,Kae=qae.concat("length","prototype");eg.f=Object.getOwnPropertyNames||function(t){return Yae(t,Kae)};var A2={};A2.f=Object.getOwnPropertySymbols;var Zae=bs,Jae=_t,Qae=eg,eoe=A2,toe=Dn,noe=Jae([].concat),roe=Zae("Reflect","ownKeys")||function(t){var n=Qae.f(toe(t)),r=eoe.f;return r?noe(n,r(t)):n},mP=Sr,ioe=roe,aoe=hf,ooe=qr,soe=function(e,t,n){for(var r=ioe(t),i=ooe.f,a=aoe.f,o=0;o<r.length;o++){var s=r[o];!mP(e,s)&&!(n&&mP(n,s))&&i(e,s,a(t,s))}},coe=ht,uoe=Pt,loe=/#|\.prototype\./,pf=function(e,t){var n=doe[foe(e)];return n===poe?!0:n===hoe?!1:uoe(t)?coe(t):!!t},foe=pf.normalize=function(e){return String(e).replace(loe,".").toLowerCase()},doe=pf.data={},hoe=pf.NATIVE="N",poe=pf.POLYFILL="P",P2=pf,w0=Dt,voe=hf.f,moe=du,goe=va,_oe=v2,yoe=soe,$oe=P2,bt=function(e,t){var n=e.target,r=e.global,i=e.stat,a,o,s,c,u,l;if(r?o=w0:i?o=w0[n]||_oe(n,{}):o=(w0[n]||{}).prototype,o)for(s in t){if(u=t[s],e.dontCallGetSet?(l=voe(o,s),c=l&&l.value):c=o[s],a=$oe(r?s:n+(i?".":"#")+s,e.forced),!a&&c!==void 0){if(typeof u==typeof c)continue;yoe(u,c)}(e.sham||c&&c.sham)&&moe(u,"sham",!0),goe(o,s,u,e)}},boe=Dt,Soe=ma,rg=Soe(boe.process)==="process",xoe=_t,woe=Pi,Eoe=function(e,t,n){try{return xoe(woe(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}},Toe=Pt,Moe=String,Aoe=TypeError,Poe=function(e){if(typeof e=="object"||Toe(e))return e;throw new Aoe("Can't set "+Moe(e)+" as a prototype")},Coe=Eoe,Roe=Dn,Ioe=Poe,C2=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=Coe(Object.prototype,"__proto__","set"),n(t,[]),e=t instanceof Array}catch{}return function(i,a){return Roe(i),Ioe(a),e?n(i,a):i.__proto__=a,i}}():void 0),Ooe=qr.f,Doe=Sr,Loe=Lt,gP=Loe("toStringTag"),vf=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Doe(e,gP)&&Ooe(e,gP,{configurable:!0,value:t})},_P=G5,Noe=qr,R2=function(e,t,n){return n.get&&_P(n.get,t,{getter:!0}),n.set&&_P(n.set,t,{setter:!0}),Noe.f(e,t,n)},Uoe=bs,Foe=R2,koe=Lt,Boe=Xn,yP=koe("species"),q5=function(e){var t=Uoe(e);Boe&&t&&!t[yP]&&Foe(t,yP,{configurable:!0,get:function(){return this}})},zoe=$2,Hoe=TypeError,ig=function(e,t){if(zoe(t,e))return e;throw new Hoe("Incorrect invocation")},Goe=_t,Voe=ht,K5=Pt,joe=Zm,Woe=bs,Xoe=x2,Z5=function(){},Yoe=[],J5=Woe("Reflect","construct"),I2=/^\s*(?:class|function)\b/,qoe=Goe(I2.exec),Koe=!I2.test(Z5),Iu=function(t){if(!K5(t))return!1;try{return J5(Z5,Yoe,t),!0}catch{return!1}},Q5=function(t){if(!K5(t))return!1;switch(joe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Koe||!!qoe(I2,Xoe(t))}catch{return!0}};Q5.sham=!0;var ag=!J5||Voe(function(){var e;return Iu(Iu.call)||!Iu(Object)||!Iu(function(){e=!0})||e})?Q5:Iu,Zoe=ag,Joe=df,Qoe=TypeError,ese=function(e){if(Zoe(e))return e;throw new Qoe(Joe(e)+" is not a constructor")},$P=Dn,tse=ese,nse=ao,rse=Lt,ise=rse("species"),ase=function(e,t){var n=$P(e).constructor,r;return n===void 0||nse(r=$P(n)[ise])?t:tse(r)},ose=jm,e8=Function.prototype,bP=e8.apply,SP=e8.call,t8=typeof Reflect=="object"&&Reflect.apply||(ose?SP.bind(bP):function(){return SP.apply(bP,arguments)}),sse=ma,cse=_t,O2=function(e){if(sse(e)==="Function")return cse(e)},xP=O2,use=Pi,lse=jm,fse=xP(xP.bind),hu=function(e,t){return use(e),t===void 0?e:lse?fse(e,t):function(){return e.apply(t,arguments)}},dse=bs,n8=dse("document","documentElement"),hse=_t,r8=hse([].slice),pse=TypeError,vse=function(e,t){if(e<t)throw new pse("Not enough arguments");return e},mse=$s,i8=/(?:ipad|iphone|ipod).*applewebkit/i.test(mse),nr=Dt,gse=t8,_se=hu,wP=Pt,yse=Sr,a8=ht,EP=n8,$se=r8,TP=Wm,bse=vse,Sse=i8,xse=rg,Xb=nr.setImmediate,Yb=nr.clearImmediate,wse=nr.process,E0=nr.Dispatch,Ese=nr.Function,MP=nr.MessageChannel,Tse=nr.String,T0=0,ml={},AP="onreadystatechange",Bl,$o,M0,A0;a8(function(){Bl=nr.location});var D2=function(e){if(yse(ml,e)){var t=ml[e];delete ml[e],t()}},P0=function(e){return function(){D2(e)}},PP=function(e){D2(e.data)},CP=function(e){nr.postMessage(Tse(e),Bl.protocol+"//"+Bl.host)};(!Xb||!Yb)&&(Xb=function(t){bse(arguments.length,1);var n=wP(t)?t:Ese(t),r=$se(arguments,1);return ml[++T0]=function(){gse(n,void 0,r)},$o(T0),T0},Yb=function(t){delete ml[t]},xse?$o=function(e){wse.nextTick(P0(e))}:E0&&E0.now?$o=function(e){E0.now(P0(e))}:MP&&!Sse?(M0=new MP,A0=M0.port2,M0.port1.onmessage=PP,$o=_se(A0.postMessage,A0)):nr.addEventListener&&wP(nr.postMessage)&&!nr.importScripts&&Bl&&Bl.protocol!=="file:"&&!a8(CP)?($o=CP,nr.addEventListener("message",PP,!1)):AP in TP("script")?$o=function(e){EP.appendChild(TP("script"))[AP]=function(){EP.removeChild(this),D2(e)}}:$o=function(e){setTimeout(P0(e),0)});var o8={set:Xb,clear:Yb},s8=function(){this.head=null,this.tail=null};s8.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var c8=s8,Mse=$s,Ase=/ipad|iphone|ipod/i.test(Mse)&&typeof Pebble<"u",Pse=$s,Cse=/web0s(?!.*chrome)/i.test(Pse),ns=Dt,RP=hu,Rse=hf.f,C0=o8.set,Ise=c8,Ose=i8,Dse=Ase,Lse=Cse,R0=rg,IP=ns.MutationObserver||ns.WebKitMutationObserver,OP=ns.document,DP=ns.process,hd=ns.Promise,LP=Rse(ns,"queueMicrotask"),qb=LP&&LP.value,Fs,I0,O0,pd,NP;if(!qb){var vd=new Ise,md=function(){var e,t;for(R0&&(e=DP.domain)&&e.exit();t=vd.get();)try{t()}catch(n){throw vd.head&&Fs(),n}e&&e.enter()};!Ose&&!R0&&!Lse&&IP&&OP?(I0=!0,O0=OP.createTextNode(""),new IP(md).observe(O0,{characterData:!0}),Fs=function(){O0.data=I0=!I0}):!Dse&&hd&&hd.resolve?(pd=hd.resolve(void 0),pd.constructor=hd,NP=RP(pd.then,pd),Fs=function(){NP(md)}):R0?Fs=function(){DP.nextTick(md)}:(C0=RP(C0,ns),Fs=function(){C0(md)}),qb=function(e){vd.head||Fs(),vd.add(e)}}var Nse=qb,Use=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},og=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},Fse=Dt,sg=Fse.Promise,u8=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",kse=u8,Bse=rg,zse=!kse&&!Bse&&typeof window=="object"&&typeof document=="object",Hse=Dt,gl=sg,Gse=Pt,Vse=P2,jse=x2,Wse=Lt,Xse=zse,Yse=u8,D0=ff;gl&&gl.prototype;var qse=Wse("species"),Kb=!1,l8=Gse(Hse.PromiseRejectionEvent),Kse=Vse("Promise",function(){var e=jse(gl),t=e!==String(gl);if(!t&&D0===66)return!0;if(!D0||D0<51||!/native code/.test(e)){var n=new gl(function(a){a(1)}),r=function(a){a(function(){},function(){})},i=n.constructor={};if(i[qse]=r,Kb=n.then(function(){})instanceof r,!Kb)return!0}return!t&&(Xse||Yse)&&!l8}),mf={CONSTRUCTOR:Kse,REJECTION_EVENT:l8,SUBCLASSING:Kb},xs={},UP=Pi,Zse=TypeError,Jse=function(e){var t,n;this.promise=new e(function(r,i){if(t!==void 0||n!==void 0)throw new Zse("Bad Promise constructor");t=r,n=i}),this.resolve=UP(t),this.reject=UP(n)};xs.f=function(e){return new Jse(e)};var Qse=bt,sv=rg,Qa=Dt,qc=gn,FP=va,kP=C2,ece=vf,tce=q5,nce=Pi,rp=Pt,rce=mn,ice=ig,ace=ase,f8=o8.set,L2=Nse,oce=Use,sce=og,cce=c8,d8=Ss,cv=sg,N2=mf,h8=xs,cg="Promise",p8=N2.CONSTRUCTOR,uce=N2.REJECTION_EVENT,lce=N2.SUBCLASSING,L0=d8.getterFor(cg),fce=d8.set,_c=cv&&cv.prototype,No=cv,gd=_c,v8=Qa.TypeError,Zb=Qa.document,U2=Qa.process,Jb=h8.f,dce=Jb,hce=!!(Zb&&Zb.createEvent&&Qa.dispatchEvent),m8="unhandledrejection",pce="rejectionhandled",BP=0,g8=1,vce=2,F2=1,_8=2,_d,zP,mce,HP,y8=function(e){var t;return rce(e)&&rp(t=e.then)?t:!1},$8=function(e,t){var n=t.value,r=t.state===g8,i=r?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain,c,u,l;try{i?(r||(t.rejection===_8&&_ce(t),t.rejection=F2),i===!0?c=n:(s&&s.enter(),c=i(n),s&&(s.exit(),l=!0)),c===e.promise?o(new v8("Promise-chain cycle")):(u=y8(c))?qc(u,c,a,o):a(c)):o(n)}catch(f){s&&!l&&s.exit(),o(f)}},b8=function(e,t){e.notified||(e.notified=!0,L2(function(){for(var n=e.reactions,r;r=n.get();)$8(r,e);e.notified=!1,t&&!e.rejection&&gce(e)}))},S8=function(e,t,n){var r,i;hce?(r=Zb.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),Qa.dispatchEvent(r)):r={promise:t,reason:n},!uce&&(i=Qa["on"+e])?i(r):e===m8&&oce("Unhandled promise rejection",n)},gce=function(e){qc(f8,Qa,function(){var t=e.facade,n=e.value,r=GP(e),i;if(r&&(i=sce(function(){sv?U2.emit("unhandledRejection",n,t):S8(m8,t,n)}),e.rejection=sv||GP(e)?_8:F2,i.error))throw i.value})},GP=function(e){return e.rejection!==F2&&!e.parent},_ce=function(e){qc(f8,Qa,function(){var t=e.facade;sv?U2.emit("rejectionHandled",t):S8(pce,t,e.value)})},wc=function(e,t,n){return function(r){e(t,r,n)}},Nc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=vce,b8(e,!0))},Qb=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new v8("Promise can't be resolved itself");var r=y8(t);r?L2(function(){var i={done:!1};try{qc(r,t,wc(Qb,i,e),wc(Nc,i,e))}catch(a){Nc(i,a,e)}}):(e.value=t,e.state=g8,b8(e,!1))}catch(i){Nc({done:!1},i,e)}}};if(p8&&(No=function(t){ice(this,gd),nce(t),qc(_d,this);var n=L0(this);try{t(wc(Qb,n),wc(Nc,n))}catch(r){Nc(n,r)}},gd=No.prototype,_d=function(t){fce(this,{type:cg,done:!1,notified:!1,parent:!1,reactions:new cce,rejection:!1,state:BP,value:void 0})},_d.prototype=FP(gd,"then",function(t,n){var r=L0(this),i=Jb(ace(this,No));return r.parent=!0,i.ok=rp(t)?t:!0,i.fail=rp(n)&&n,i.domain=sv?U2.domain:void 0,r.state===BP?r.reactions.add(i):L2(function(){$8(i,r)}),i.promise}),zP=function(){var e=new _d,t=L0(e);this.promise=e,this.resolve=wc(Qb,t),this.reject=wc(Nc,t)},h8.f=Jb=function(e){return e===No||e===mce?new zP(e):dce(e)},rp(cv)&&_c!==Object.prototype)){HP=_c.then,lce||FP(_c,"then",function(t,n){var r=this;return new No(function(i,a){qc(HP,r,i,a)}).then(t,n)},{unsafe:!0});try{delete _c.constructor}catch{}kP&&kP(_c,gd)}Qse({global:!0,constructor:!0,wrap:!0,forced:p8},{Promise:No});ece(No,cg,!1);tce(cg);var gf={},yce=Lt,$ce=gf,bce=yce("iterator"),Sce=Array.prototype,x8=function(e){return e!==void 0&&($ce.Array===e||Sce[bce]===e)},xce=Zm,VP=Xm,wce=ao,Ece=gf,Tce=Lt,Mce=Tce("iterator"),k2=function(e){if(!wce(e))return VP(e,Mce)||VP(e,"@@iterator")||Ece[xce(e)]},Ace=gn,Pce=Pi,Cce=Dn,Rce=df,Ice=k2,Oce=TypeError,w8=function(e,t){var n=arguments.length<2?Ice(e):t;if(Pce(n))return Cce(Ace(n,e));throw new Oce(Rce(e)+" is not iterable")},Dce=gn,jP=Dn,Lce=Xm,E8=function(e,t,n){var r,i;jP(e);try{if(r=Lce(e,"return"),!r){if(t==="throw")throw n;return n}r=Dce(r,e)}catch(a){i=!0,r=a}if(t==="throw")throw n;if(i)throw r;return jP(r),n},Nce=hu,Uce=gn,Fce=Dn,kce=df,Bce=x8,zce=_a,WP=$2,Hce=w8,Gce=k2,XP=E8,Vce=TypeError,ip=function(e,t){this.stopped=e,this.result=t},YP=ip.prototype,pu=function(e,t,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_RECORD),o=!!(n&&n.IS_ITERATOR),s=!!(n&&n.INTERRUPTED),c=Nce(t,r),u,l,f,d,h,m,g,p=function(y){return u&&XP(u,"normal",y),new ip(!0,y)},v=function(y){return i?(Fce(y),s?c(y[0],y[1],p):c(y[0],y[1])):s?c(y,p):c(y)};if(a)u=e.iterator;else if(o)u=e;else{if(l=Gce(e),!l)throw new Vce(kce(e)+" is not iterable");if(Bce(l)){for(f=0,d=zce(e);d>f;f++)if(h=v(e[f]),h&&WP(YP,h))return h;return new ip(!1)}u=Hce(e,l)}for(m=a?e.next:u.next;!(g=Uce(m,u)).done;){try{h=v(g.value)}catch(y){XP(u,"throw",y)}if(typeof h=="object"&&h&&WP(YP,h))return h}return new ip(!1)},jce=Lt,T8=jce("iterator"),M8=!1;try{var Wce=0,qP={next:function(){return{done:!!Wce++}},return:function(){M8=!0}};qP[T8]=function(){return this},Array.from(qP,function(){throw 2})}catch{}var B2=function(e,t){try{if(!t&&!M8)return!1}catch{return!1}var n=!1;try{var r={};r[T8]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},Xce=sg,Yce=B2,qce=mf.CONSTRUCTOR,z2=qce||!Yce(function(e){Xce.all(e).then(void 0,function(){})}),Kce=bt,Zce=gn,Jce=Pi,Qce=xs,eue=og,tue=pu,nue=z2;Kce({target:"Promise",stat:!0,forced:nue},{all:function(t){var n=this,r=Qce.f(n),i=r.resolve,a=r.reject,o=eue(function(){var s=Jce(n.resolve),c=[],u=0,l=1;tue(t,function(f){var d=u++,h=!1;l++,Zce(s,n,f).then(function(m){h||(h=!0,c[d]=m,--l||i(c))},a)}),--l||i(c)});return o.error&&a(o.value),r.promise}});var rue=bt,iue=mf.CONSTRUCTOR,eS=sg,aue=bs,oue=Pt,sue=va,KP=eS&&eS.prototype;rue({target:"Promise",proto:!0,forced:iue,real:!0},{catch:function(e){return this.then(void 0,e)}});if(oue(eS)){var ZP=aue("Promise").prototype.catch;KP.catch!==ZP&&sue(KP,"catch",ZP,{unsafe:!0})}var cue=bt,uue=gn,lue=Pi,fue=xs,due=og,hue=pu,pue=z2;cue({target:"Promise",stat:!0,forced:pue},{race:function(t){var n=this,r=fue.f(n),i=r.reject,a=due(function(){var o=lue(n.resolve);hue(t,function(s){uue(o,n,s).then(r.resolve,i)})});return a.error&&i(a.value),r.promise}});var vue=bt,mue=gn,gue=xs,_ue=mf.CONSTRUCTOR;vue({target:"Promise",stat:!0,forced:_ue},{reject:function(t){var n=gue.f(this);return mue(n.reject,void 0,t),n.promise}});var yue=Dn,$ue=mn,bue=xs,Sue=function(e,t){if(yue(e),$ue(t)&&t.constructor===e)return t;var n=bue.f(e),r=n.resolve;return r(t),n.promise},xue=bt,wue=bs,Eue=mf.CONSTRUCTOR,Tue=Sue;wue("Promise");xue({target:"Promise",stat:!0,forced:Eue},{resolve:function(t){return Tue(this,t)}});var A8={},Mue=Y5,Aue=M2,ug=Object.keys||function(t){return Mue(t,Aue)},Pue=Xn,Cue=U5,Rue=qr,Iue=Dn,Oue=ga,Due=ug;A8.f=Pue&&!Cue?Object.defineProperties:function(t,n){Iue(t);for(var r=Oue(n),i=Due(n),a=i.length,o=0,s;a>o;)Rue.f(t,s=i[o++],r[s]);return t};var Lue=Dn,Nue=A8,JP=M2,Uue=Km,Fue=n8,kue=Wm,Bue=w2,QP=">",eC="<",tS="prototype",nS="script",P8=Bue("IE_PROTO"),N0=function(){},C8=function(e){return eC+nS+QP+e+eC+"/"+nS+QP},tC=function(e){e.write(C8("")),e.close();var t=e.parentWindow.Object;return e=null,t},zue=function(){var e=kue("iframe"),t="java"+nS+":",n;return e.style.display="none",Fue.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(C8("document.F=Object")),n.close(),n.F},yd,ap=function(){try{yd=new ActiveXObject("htmlfile")}catch{}ap=typeof document<"u"?document.domain&&yd?tC(yd):zue():tC(yd);for(var e=JP.length;e--;)delete ap[tS][JP[e]];return ap()};Uue[P8]=!0;var lg=Object.create||function(t,n){var r;return t!==null?(N0[tS]=Lue(t),r=new N0,N0[tS]=null,r[P8]=t):r=ap(),n===void 0?r:Nue.f(r,n)},Hue=Lt,Gue=lg,Vue=qr.f,rS=Hue("unscopables"),iS=Array.prototype;iS[rS]===void 0&&Vue(iS,rS,{configurable:!0,value:Gue(null)});var H2=function(e){iS[rS][e]=!0},jue=ht,Wue=!jue(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Xue=Sr,Yue=Pt,que=Ai,Kue=w2,Zue=Wue,nC=Kue("IE_PROTO"),aS=Object,Jue=aS.prototype,G2=Zue?aS.getPrototypeOf:function(e){var t=que(e);if(Xue(t,nC))return t[nC];var n=t.constructor;return Yue(n)&&t instanceof n?n.prototype:t instanceof aS?Jue:null},Que=ht,ele=Pt,tle=mn,rC=G2,nle=va,rle=Lt,oS=rle("iterator"),R8=!1,rs,U0,F0;[].keys&&(F0=[].keys(),"next"in F0?(U0=rC(rC(F0)),U0!==Object.prototype&&(rs=U0)):R8=!0);var ile=!tle(rs)||Que(function(){var e={};return rs[oS].call(e)!==e});ile&&(rs={});ele(rs[oS])||nle(rs,oS,function(){return this});var I8={IteratorPrototype:rs,BUGGY_SAFARI_ITERATORS:R8},ale=I8.IteratorPrototype,ole=lg,sle=qm,cle=vf,ule=gf,lle=function(){return this},fle=function(e,t,n,r){var i=t+" Iterator";return e.prototype=ole(ale,{next:sle(+!r,n)}),cle(e,i,!1),ule[i]=lle,e},dle=bt,hle=gn,O8=Ym,ple=Pt,vle=fle,iC=G2,aC=C2,mle=vf,gle=du,k0=va,_le=Lt,yle=gf,D8=I8,$le=O8.PROPER,ble=O8.CONFIGURABLE,oC=D8.IteratorPrototype,$d=D8.BUGGY_SAFARI_ITERATORS,Ou=_le("iterator"),sC="keys",Du="values",cC="entries",Sle=function(){return this},V2=function(e,t,n,r,i,a,o){vle(n,t,r);var s=function(v){if(v===i&&d)return d;if(!$d&&v&&v in l)return l[v];switch(v){case sC:return function(){return new n(this,v)};case Du:return function(){return new n(this,v)};case cC:return function(){return new n(this,v)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,l=e.prototype,f=l[Ou]||l["@@iterator"]||i&&l[i],d=!$d&&f||s(i),h=t==="Array"&&l.entries||f,m,g,p;if(h&&(m=iC(h.call(new e)),m!==Object.prototype&&m.next&&(iC(m)!==oC&&(aC?aC(m,oC):ple(m[Ou])||k0(m,Ou,Sle)),mle(m,c,!0))),$le&&i===Du&&f&&f.name!==Du&&(ble?gle(l,"name",Du):(u=!0,d=function(){return hle(f,this)})),i)if(g={values:s(Du),keys:a?d:s(sC),entries:s(cC)},o)for(p in g)($d||u||!(p in l))&&k0(l,p,g[p]);else dle({target:t,proto:!0,forced:$d||u},g);return l[Ou]!==d&&k0(l,Ou,d,{name:i}),yle[t]=d,g},j2=function(e,t){return{value:e,done:t}},xle=ga,W2=H2,uC=gf,L8=Ss,wle=qr.f,Ele=V2,bd=j2,Tle=Xn,N8="Array Iterator",Mle=L8.set,Ale=L8.getterFor(N8),Ple=Ele(Array,"Array",function(e,t){Mle(this,{type:N8,target:xle(e),index:0,kind:t})},function(){var e=Ale(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,bd(void 0,!0);switch(e.kind){case"keys":return bd(n,!1);case"values":return bd(t[n],!1)}return bd([n,t[n]],!1)},"values"),lC=uC.Arguments=uC.Array;W2("keys");W2("values");W2("entries");if(Tle&&lC.name!=="values")try{wle(lC,"name",{value:"values"})}catch{}var Cle=bt,Rle=gn,Ile=Pi,Ole=xs,Dle=og,Lle=pu,Nle=z2;Cle({target:"Promise",stat:!0,forced:Nle},{allSettled:function(t){var n=this,r=Ole.f(n),i=r.resolve,a=r.reject,o=Dle(function(){var s=Ile(n.resolve),c=[],u=0,l=1;Lle(t,function(f){var d=u++,h=!1;l++,Rle(s,n,f).then(function(m){h||(h=!0,c[d]={status:"fulfilled",value:m},--l||i(c))},function(m){h||(h=!0,c[d]={status:"rejected",reason:m},--l||i(c))})}),--l||i(c)});return o.error&&a(o.value),r.promise}});var Ule=Zm,Fle=String,oo=function(e){if(Ule(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Fle(e)},X2=_t,kle=tg,Ble=oo,zle=ys,Hle=X2("".charAt),fC=X2("".charCodeAt),Gle=X2("".slice),dC=function(e){return function(t,n){var r=Ble(zle(t)),i=kle(n),a=r.length,o,s;return i<0||i>=a?e?"":void 0:(o=fC(r,i),o<55296||o>56319||i+1===a||(s=fC(r,i+1))<56320||s>57343?e?Hle(r,i):o:e?Gle(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},U8={codeAt:dC(!1),charAt:dC(!0)},Vle=U8.charAt,jle=oo,F8=Ss,Wle=V2,hC=j2,k8="String Iterator",Xle=F8.set,Yle=F8.getterFor(k8);Wle(String,"String",function(e){Xle(this,{type:k8,string:jle(e),index:0})},function(){var t=Yle(this),n=t.string,r=t.index,i;return r>=n.length?hC(void 0,!0):(i=Vle(n,r),t.index+=i.length,hC(i,!1))});var B8={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},qle=Wm,B0=qle("span").classList,pC=B0&&B0.constructor&&B0.constructor.prototype,z8=pC===Object.prototype?void 0:pC,vC=Dt,H8=B8,Kle=z8,cl=Ple,mC=du,Zle=vf,Jle=Lt,z0=Jle("iterator"),H0=cl.values,G8=function(e,t){if(e){if(e[z0]!==H0)try{mC(e,z0,H0)}catch{e[z0]=H0}if(Zle(e,t,!0),H8[t]){for(var n in cl)if(e[n]!==cl[n])try{mC(e,n,cl[n])}catch{e[n]=cl[n]}}}};for(var G0 in H8)G8(vC[G0]&&vC[G0].prototype,G0);G8(Kle,"DOMTokenList");var Qle=Ai,gC=ng,efe=_a,tfe=function(t){for(var n=Qle(this),r=efe(n),i=arguments.length,a=gC(i>1?arguments[1]:void 0,r),o=i>2?arguments[2]:void 0,s=o===void 0?r:gC(o,r);s>a;)n[a++]=t;return n},nfe=bt,rfe=tfe,ife=H2;nfe({target:"Array",proto:!0},{fill:rfe});ife("fill");var afe=ma,Y2=Array.isArray||function(t){return afe(t)==="Array"},ofe=b2,sfe=qr,cfe=qm,fg=function(e,t,n){var r=ofe(t);r in e?sfe.f(e,r,cfe(0,n)):e[r]=n},ufe=ht,lfe=Lt,ffe=ff,dfe=lfe("species"),dg=function(e){return ffe>=51||!ufe(function(){var t=[],n=t.constructor={};return n[dfe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},hfe=bt,_C=Y2,pfe=ag,vfe=mn,yC=ng,mfe=_a,gfe=ga,_fe=fg,yfe=Lt,$fe=dg,bfe=r8,Sfe=$fe("slice"),xfe=yfe("species"),V0=Array,wfe=Math.max;hfe({target:"Array",proto:!0,forced:!Sfe},{slice:function(t,n){var r=gfe(this),i=mfe(r),a=yC(t,i),o=yC(n===void 0?i:n,i),s,c,u;if(_C(r)&&(s=r.constructor,pfe(s)&&(s===V0||_C(s.prototype))?s=void 0:vfe(s)&&(s=s[xfe],s===null&&(s=void 0)),s===V0||s===void 0))return bfe(r,a,o);for(c=new(s===void 0?V0:s)(wfe(o-a,0)),u=0;a<o;a++,u++)a in r&&_fe(c,u,r[a]);return c.length=u,c}});function q2(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?a(l.value):i(l.value).then(s,c)}u((r=r.apply(e,[])).next())})}function je(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var V8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function a(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new i(l,f||c,d),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},s.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,l,f,d,h,m){var g=n?n+u:u;if(!this._events[g])return!1;var p=this._events[g],v=arguments.length,y,_;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,l),!0;case 3:return p.fn.call(p.context,l,f),!0;case 4:return p.fn.call(p.context,l,f,d),!0;case 5:return p.fn.call(p.context,l,f,d,h),!0;case 6:return p.fn.call(p.context,l,f,d,h,m),!0}for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];p.fn.apply(p.context,y)}else{var S=p.length,O;for(_=0;_<S;_++)switch(p[_].once&&this.removeListener(u,p[_].fn,void 0,!0),v){case 1:p[_].fn.call(p[_].context);break;case 2:p[_].fn.call(p[_].context,l);break;case 3:p[_].fn.call(p[_].context,l,f);break;case 4:p[_].fn.call(p[_].context,l,f,d);break;default:if(!y)for(O=1,y=new Array(v-1);O<v;O++)y[O-1]=arguments[O];p[_].fn.apply(p[_].context,y)}}return!0},s.prototype.on=function(u,l,f){return a(this,u,l,f,!1)},s.prototype.once=function(u,l,f){return a(this,u,l,f,!0)},s.prototype.removeListener=function(u,l,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===l&&(!d||m.once)&&(!f||m.context===f)&&o(this,h);else{for(var g=0,p=[],v=m.length;g<v;g++)(m[g].fn!==l||d&&!m[g].once||f&&m[g].context!==f)&&p.push(m[g]);p.length?this._events[h]=p.length===1?p[0]:p:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(V8);var Efe=V8.exports,Tfe=On(Efe),Mfe=Array.isArray,yr=Mfe;function hg(){if(!arguments.length)return[];var e=arguments[0];return yr(e)?e:[e]}var $C=Y2,Afe=ag,Pfe=mn,Cfe=Lt,Rfe=Cfe("species"),bC=Array,Ife=function(e){var t;return $C(e)&&(t=e.constructor,Afe(t)&&(t===bC||$C(t.prototype))?t=void 0:Pfe(t)&&(t=t[Rfe],t===null&&(t=void 0))),t===void 0?bC:t},Ofe=Ife,j8=function(e,t){return new(Ofe(e))(t===0?0:t)},Dfe=hu,Lfe=_t,Nfe=Qm,Ufe=Ai,Ffe=_a,kfe=j8,SC=Lfe([].push),wa=function(e){var t=e===1,n=e===2,r=e===3,i=e===4,a=e===6,o=e===7,s=e===5||a;return function(c,u,l,f){for(var d=Ufe(c),h=Nfe(d),m=Ffe(h),g=Dfe(u,l),p=0,v=f||kfe,y=t?v(c,m):n||o?v(c,0):void 0,_,S;m>p;p++)if((s||p in h)&&(_=h[p],S=g(_,p,d),e))if(t)y[p]=S;else if(S)switch(e){case 3:return!0;case 5:return _;case 6:return p;case 2:SC(y,_)}else switch(e){case 4:return!1;case 7:SC(y,_)}return a?-1:r||i?i:y}},pg={forEach:wa(0),map:wa(1),filter:wa(2),some:wa(3),every:wa(4),find:wa(5),findIndex:wa(6),filterReject:wa(7)},Bfe=bt,zfe=pg.map,Hfe=dg,Gfe=Hfe("map");Bfe({target:"Array",proto:!0,forced:!Gfe},{map:function(t){return zfe(this,t,arguments.length>1?arguments[1]:void 0)}});var xC=Xn,Vfe=_t,jfe=gn,Wfe=ht,j0=ug,Xfe=A2,Yfe=Jm,qfe=Ai,Kfe=Qm,ks=Object.assign,wC=Object.defineProperty,Zfe=Vfe([].concat),Jfe=!ks||Wfe(function(){if(xC&&ks({b:1},ks(wC({},"a",{enumerable:!0,get:function(){wC(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(i){t[i]=i}),ks({},e)[n]!==7||j0(ks({},t)).join("")!==r})?function(t,n){for(var r=qfe(t),i=arguments.length,a=1,o=Xfe.f,s=Yfe.f;i>a;)for(var c=Kfe(arguments[a++]),u=o?Zfe(j0(c),o(c)):j0(c),l=u.length,f=0,d;l>f;)d=u[f++],(!xC||jfe(s,c,d))&&(r[d]=c[d]);return r}:ks,Qfe=bt,EC=Jfe;Qfe({target:"Object",stat:!0,arity:2,forced:Object.assign!==EC},{assign:EC});var W8={exports:{}},X8={},TC=ng,ede=_a,tde=fg,nde=Array,rde=Math.max,Y8=function(e,t,n){for(var r=ede(e),i=TC(t,r),a=TC(n===void 0?r:n,r),o=nde(rde(a-i,0)),s=0;i<a;i++,s++)tde(o,s,e[i]);return o.length=s,o},ide=ma,ade=ga,q8=eg.f,ode=Y8,K8=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],sde=function(e){try{return q8(e)}catch{return ode(K8)}};X8.f=function(t){return K8&&ide(t)==="Window"?sde(t):q8(ade(t))};var cde=ht,ude=cde(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),lde=ht,fde=mn,dde=ma,MC=ude,op=Object.isExtensible,hde=lde(function(){op(1)}),pde=hde||MC?function(t){return!fde(t)||MC&&dde(t)==="ArrayBuffer"?!1:op?op(t):!0}:op,vde=ht,mde=!vde(function(){return Object.isExtensible(Object.preventExtensions({}))}),gde=bt,_de=_t,yde=Km,$de=mn,K2=Sr,bde=qr.f,AC=eg,Sde=X8,Z2=pde,xde=_2,wde=mde,Z8=!1,ia=xde("meta"),Ede=0,J2=function(e){bde(e,ia,{value:{objectID:"O"+Ede++,weakData:{}}})},Tde=function(e,t){if(!$de(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!K2(e,ia)){if(!Z2(e))return"F";if(!t)return"E";J2(e)}return e[ia].objectID},Mde=function(e,t){if(!K2(e,ia)){if(!Z2(e))return!0;if(!t)return!1;J2(e)}return e[ia].weakData},Ade=function(e){return wde&&Z8&&Z2(e)&&!K2(e,ia)&&J2(e),e},Pde=function(){Cde.enable=function(){},Z8=!0;var e=AC.f,t=_de([].splice),n={};n[ia]=1,e(n).length&&(AC.f=function(r){for(var i=e(r),a=0,o=i.length;a<o;a++)if(i[a]===ia){t(i,a,1);break}return i},gde({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Sde.f}))},Cde=W8.exports={enable:Pde,fastKey:Tde,getWeakData:Mde,onFreeze:Ade};yde[ia]=!0;var Q2=W8.exports,Rde=Pt,Ide=mn,PC=C2,Ode=function(e,t,n){var r,i;return PC&&Rde(r=t.constructor)&&r!==n&&Ide(i=r.prototype)&&i!==n.prototype&&PC(e,i),e},Dde=bt,Lde=Dt,Nde=_t,CC=P2,Ude=va,Fde=Q2,kde=pu,Bde=ig,zde=Pt,Hde=ao,W0=mn,X0=ht,Gde=B2,Vde=vf,jde=Ode,eT=function(e,t,n){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=r?"set":"add",o=Lde[e],s=o&&o.prototype,c=o,u={},l=function(v){var y=Nde(s[v]);Ude(s,v,v==="add"?function(S){return y(this,S===0?0:S),this}:v==="delete"?function(_){return i&&!W0(_)?!1:y(this,_===0?0:_)}:v==="get"?function(S){return i&&!W0(S)?void 0:y(this,S===0?0:S)}:v==="has"?function(S){return i&&!W0(S)?!1:y(this,S===0?0:S)}:function(S,O){return y(this,S===0?0:S,O),this})},f=CC(e,!zde(o)||!(i||s.forEach&&!X0(function(){new o().entries().next()})));if(f)c=n.getConstructor(t,e,r,a),Fde.enable();else if(CC(e,!0)){var d=new c,h=d[a](i?{}:-0,1)!==d,m=X0(function(){d.has(1)}),g=Gde(function(v){new o(v)}),p=!i&&X0(function(){for(var v=new o,y=5;y--;)v[a](y,y);return!v.has(-0)});g||(c=t(function(v,y){Bde(v,s);var _=jde(new o,v,c);return Hde(y)||kde(y,_[a],{that:_,AS_ENTRIES:r}),_}),c.prototype=s,s.constructor=c),(m||p)&&(l("delete"),l("has"),r&&l("get")),(p||h)&&l(a),i&&s.clear&&delete s.clear}return u[e]=c,Dde({global:!0,constructor:!0,forced:c!==o},u),Vde(c,e),i||n.setStrong(c,e,r),c},Wde=va,J8=function(e,t,n){for(var r in t)Wde(e,r,t[r],n);return e},Xde=_t,RC=J8,Sd=Q2.getWeakData,Yde=ig,qde=Dn,Kde=ao,Y0=mn,Zde=pu,Q8=pg,IC=Sr,e6=Ss,Jde=e6.set,Qde=e6.getterFor,ehe=Q8.find,the=Q8.findIndex,nhe=Xde([].splice),rhe=0,xd=function(e){return e.frozen||(e.frozen=new t6)},t6=function(){this.entries=[]},q0=function(e,t){return ehe(e.entries,function(n){return n[0]===t})};t6.prototype={get:function(e){var t=q0(this,e);if(t)return t[1]},has:function(e){return!!q0(this,e)},set:function(e,t){var n=q0(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=the(this.entries,function(n){return n[0]===e});return~t&&nhe(this.entries,t,1),!!~t}};var ihe={getConstructor:function(e,t,n,r){var i=e(function(c,u){Yde(c,a),Jde(c,{type:t,id:rhe++,frozen:void 0}),Kde(u)||Zde(u,c[r],{that:c,AS_ENTRIES:n})}),a=i.prototype,o=Qde(t),s=function(c,u,l){var f=o(c),d=Sd(qde(u),!0);return d===!0?xd(f).set(u,l):d[f.id]=l,c};return RC(a,{delete:function(c){var u=o(this);if(!Y0(c))return!1;var l=Sd(c);return l===!0?xd(u).delete(c):l&&IC(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Y0(u))return!1;var f=Sd(u);return f===!0?xd(l).has(u):f&&IC(f,l.id)}}),RC(a,n?{get:function(u){var l=o(this);if(Y0(u)){var f=Sd(u);return f===!0?xd(l).get(u):f?f[l.id]:void 0}},set:function(u,l){return s(this,u,l)}}:{add:function(u){return s(this,u,!0)}}),i}},ahe=eT,ohe=ihe;ahe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},ohe);var Vt;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(Vt||(Vt={}));var $i;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})($i||($i={}));var she="hour",che="minute",uhe=10,lhe=10,fhe=2,dhe=0,hhe=200,phe=12,vhe="#cal-heatmap",mhe="light",ghe="en",_he="red",yhe="YlOrBr",$he="quantize",bhe=[0,100],sp,n6,r6,She=function(){function e(t){An(this,e),sp.add(this),this.calendar=t,this.maxDomainReached=!1,this.minDomainReached=!1}return Pn(e,[{key:"loadNewDomains",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt.SCROLL_NONE,a=this.calendar.options.options,o=this.calendar.templateCollection,s=a.date.min?o.get(a.domain.type).extractUnit(+a.date.min):void 0,c=a.date.max?o.get(a.domain.type).extractUnit(+a.date.max):void 0,u=this.calendar.domainCollection;return je(this,sp,"m",n6).call(this,n,s,c,i)?Vt.SCROLL_NONE:(i!==Vt.SCROLL_NONE&&n.clamp(s,c).slice(a.range,i===Vt.SCROLL_FORWARD),u.merge(n,a.range,function(l,f){var d=null;return n.at(f+1)?d=n.at(f+1):d=r.calendar.dateHelper.intervals(a.domain.type,l,2).pop(),o.get(a.subDomain.type).mapping(l,d).map(function(h){return Object.assign(Object.assign({},h),{v:a.data.defaultValue})})}),je(this,sp,"m",r6).call(this,u.min,u.max,s,c),i===Vt.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[u.min]):i===Vt.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[u.max]),i)}},{key:"jumpTo",value:function(n,r){var i=this.calendar,a=i.domainCollection,o=i.options,s=new Date(a.min),c=new Date(a.max);return n<s?this.loadNewDomains(this.calendar.createDomainCollection(n,s,!1),Vt.SCROLL_BACKWARD):r?this.loadNewDomains(this.calendar.createDomainCollection(n,o.options.range),s<n?Vt.SCROLL_FORWARD:Vt.SCROLL_BACKWARD):n>c?this.loadNewDomains(this.calendar.createDomainCollection(c,n,!1),Vt.SCROLL_FORWARD):Vt.SCROLL_NONE}}]),e}();sp=new WeakSet,n6=function(t,n,r,i){return!!(r&&t.max>=r&&this.maxDomainReached&&i===Vt.SCROLL_FORWARD||n&&t.min<=n&&this.minDomainReached&&i===Vt.SCROLL_BACKWARD)},r6=function(t,n,r,i){if(r){var a=t<=r;this.calendar.eventEmitter.emit(a?"minDateReached":"minDateNotReached"),this.minDomainReached=a}if(i){var o=n>=i;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var xhe=TypeError,whe=9007199254740991,Ehe=function(e){if(e>whe)throw xhe("Maximum allowed index exceeded");return e},The=bt,Mhe=ht,Ahe=Y2,Phe=mn,Che=Ai,Rhe=_a,OC=Ehe,DC=fg,Ihe=j8,Ohe=dg,Dhe=Lt,Lhe=ff,i6=Dhe("isConcatSpreadable"),Nhe=Lhe>=51||!Mhe(function(){var e=[];return e[i6]=!1,e.concat()[0]!==e}),Uhe=function(e){if(!Phe(e))return!1;var t=e[i6];return t!==void 0?!!t:Ahe(e)},Fhe=!Nhe||!Ohe("concat");The({target:"Array",proto:!0,arity:1,forced:Fhe},{concat:function(t){var n=Che(this),r=Ihe(n,0),i=0,a,o,s,c,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?n:arguments[a],Uhe(u))for(c=Rhe(u),OC(i+c),o=0;o<c;o++,i++)o in u&&DC(r,i,u[o]);else OC(i+1),DC(r,i++,u);return r.length=i,r}});var khe=ht,tT=function(e,t){var n=[][e];return!!n&&khe(function(){n.call(null,t||function(){return 1},1)})},Bhe=bt,zhe=_t,Hhe=Qm,Ghe=ga,Vhe=tT,jhe=zhe([].join),Whe=Hhe!==Object,Xhe=Whe||!Vhe("join",",");Bhe({target:"Array",proto:!0,forced:Xhe},{join:function(t){return jhe(Ghe(this),t===void 0?",":t)}});var Yhe=lg,qhe=R2,LC=J8,Khe=hu,Zhe=ig,Jhe=ao,Qhe=pu,epe=V2,wd=j2,tpe=q5,Lu=Xn,NC=Q2.fastKey,a6=Ss,UC=a6.set,K0=a6.getterFor,o6={getConstructor:function(e,t,n,r){var i=e(function(u,l){Zhe(u,a),UC(u,{type:t,index:Yhe(null),first:void 0,last:void 0,size:0}),Lu||(u.size=0),Jhe(l)||Qhe(l,u[r],{that:u,AS_ENTRIES:n})}),a=i.prototype,o=K0(t),s=function(u,l,f){var d=o(u),h=c(u,l),m,g;return h?h.value=f:(d.last=h={index:g=NC(l,!0),key:l,value:f,previous:m=d.last,next:void 0,removed:!1},d.first||(d.first=h),m&&(m.next=h),Lu?d.size++:u.size++,g!=="F"&&(d.index[g]=h)),u},c=function(u,l){var f=o(u),d=NC(l),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===l)return h};return LC(a,{clear:function(){for(var l=this,f=o(l),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,Lu?f.size=0:l.size=0},delete:function(u){var l=this,f=o(l),d=c(l,u);if(d){var h=d.next,m=d.previous;delete f.index[d.index],d.removed=!0,m&&(m.next=h),h&&(h.previous=m),f.first===d&&(f.first=h),f.last===d&&(f.last=m),Lu?f.size--:l.size--}return!!d},forEach:function(l){for(var f=o(this),d=Khe(l,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(l){return!!c(this,l)}}),LC(a,n?{get:function(l){var f=c(this,l);return f&&f.value},set:function(l,f){return s(this,l===0?0:l,f)}}:{add:function(l){return s(this,l=l===0?0:l,l)}}),Lu&&qhe(a,"size",{configurable:!0,get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=K0(t),a=K0(r);epe(e,t,function(o,s){UC(this,{type:r,target:o,state:i(o),kind:s,last:void 0})},function(){for(var o=a(this),s=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=void 0,wd(void 0,!0)):wd(s==="keys"?c.key:s==="values"?c.value:[c.key,c.value],!1)},n?"entries":"values",!n,!0),tpe(t)}},npe=eT,rpe=o6;npe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},rpe);var FC=df,ipe=TypeError,ape=function(e,t){if(!delete e[t])throw new ipe("Cannot delete property "+FC(t)+" of "+FC(e))},kC=Y8,ope=Math.floor,sS=function(e,t){var n=e.length,r=ope(n/2);return n<8?spe(e,t):cpe(e,sS(kC(e,0,r),t),sS(kC(e,r),t),t)},spe=function(e,t){for(var n=e.length,r=1,i,a;r<n;){for(a=r,i=e[r];a&&t(e[a-1],i)>0;)e[a]=e[--a];a!==r++&&(e[a]=i)}return e},cpe=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e},upe=sS,lpe=$s,BC=lpe.match(/firefox\/(\d+)/i),fpe=!!BC&&+BC[1],dpe=$s,hpe=/MSIE|Trident/.test(dpe),ppe=$s,zC=ppe.match(/AppleWebKit\/(\d+)\./),vpe=!!zC&&+zC[1],mpe=bt,s6=_t,gpe=Pi,_pe=Ai,HC=_a,ype=ape,GC=oo,nT=ht,$pe=upe,bpe=tT,VC=fpe,Spe=hpe,jC=ff,WC=vpe,Na=[],XC=s6(Na.sort),xpe=s6(Na.push),wpe=nT(function(){Na.sort(void 0)}),Epe=nT(function(){Na.sort(null)}),Tpe=bpe("sort"),c6=!nT(function(){if(jC)return jC<70;if(!(VC&&VC>3)){if(Spe)return!0;if(WC)return WC<603;var e="",t,n,r,i;for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)Na.push({k:n+i,v:r})}for(Na.sort(function(a,o){return o.v-a.v}),i=0;i<Na.length;i++)n=Na[i].k.charAt(0),e.charAt(e.length-1)!==n&&(e+=n);return e!=="DGBEFHACIJK"}}),Mpe=wpe||!Epe||!Tpe||!c6,Ape=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:GC(t)>GC(n)?1:-1}};mpe({target:"Array",proto:!0,forced:Mpe},{sort:function(t){t!==void 0&&gpe(t);var n=_pe(this);if(c6)return t===void 0?XC(n):XC(n,t);var r=[],i=HC(n),a,o;for(o=0;o<i;o++)o in n&&xpe(r,n[o]);for($pe(r,Ape(t)),a=HC(r),o=0;o<a;)n[o]=r[o++];for(;o<i;)ype(n,o++);return n}});var Ppe=pg.forEach,Cpe=tT,Rpe=Cpe("forEach"),Ipe=Rpe?[].forEach:function(t){return Ppe(this,t,arguments.length>1?arguments[1]:void 0)},YC=Dt,qC=B8,Ope=z8,Z0=Ipe,Dpe=du,u6=function(e){if(e&&e.forEach!==Z0)try{Dpe(e,"forEach",Z0)}catch{e.forEach=Z0}};for(var J0 in qC)qC[J0]&&u6(YC[J0]&&YC[J0].prototype);u6(Ope);function KC(e){return e==="top"||e==="bottom"}function l6(e){return e[$i.LEFT]+e[$i.RIGHT]}function f6(e){return e[$i.TOP]+e[$i.BOTTOM]}var cp,d6,h6,Lpe=function(){function e(t,n){An(this,e),cp.add(this),this.calendar=t,this.domainPainter=n,this.collection=new Map,this.scrollDirection=Vt.SCROLL_FORWARD}return Pn(e,[{key:"get",value:function(n){return this.collection.get(n)}},{key:"update",value:function(n,r){var i=this,a=this.calendar.options.options,o=a.verticalOrientation,s=a.domain;this.scrollDirection=r;var c={width:0,height:0},u=0,l=r===Vt.SCROLL_FORWARD?-1:1,f=n.keys;return this.calendar.options.options.domain.sort==="desc"&&(f.reverse(),l*=-1),n.yankedDomains.forEach(function(d){u+=i.collection.get(d)[o?"height":"width"]}),n.yankedDomains.forEach(function(d){var h=i.collection.get(d);i.collection.set(d,Object.assign(Object.assign({},h),{x:o?h.x:h.x+u*l,y:o?h.y+u*l:h.y}))}),f.forEach(function(d){var h=je(i,cp,"m",d6).call(i,d),m=je(i,cp,"m",h6).call(i,d);o?(c.height+=m,c.width=Math.max(h,c.width)):(c.width+=h,c.height=Math.max(m,c.height));var g=c.width-h,p=c.height-m;i.collection.set(d,Object.assign(Object.assign({},i.collection.get(d)),{x:o?0:g,y:o?p:0,pre_x:o?g:g-u*l,pre_y:o?p-u*l:p,width:h,height:m,inner_width:h-(o?0:s.gutter),inner_height:m-(o?s.gutter:0)}))}),c}}]),e}();cp=new WeakSet,d6=function(t){var n=this.calendar.options.options,r=n.domain,i=n.subDomain,a=n.x,o=n.verticalOrientation,s=this.calendar.templateCollection.get(i.type).columnsCount(t),c=(i.width+i.gutter)*s-i.gutter;return l6(r.padding)+a.domainHorizontalLabelWidth+(o?0:r.gutter)+c},h6=function(t){var n=this.calendar.options.options,r=n.domain,i=n.subDomain,a=n.x,o=n.verticalOrientation,s=this.calendar.templateCollection.get(i.type).rowsCount(t),c=(i.height+i.gutter)*s-i.gutter;return f6(r.padding)+c+(o?r.gutter:0)+a.domainVerticalLabelHeight};var cS,p6,up=".ch-domain",Npe=function(){function e(t){An(this,e),cS.add(this),this.calendar=t,this.coordinates=new Lpe(t,this),this.root=null,this.dimensions={width:0,height:0}}return Pn(e,[{key:"paint",value:function(n,r){var i=this,a=this.calendar.options.options.animationDuration,o=r.transition().duration(a),s=this.coordinates;this.dimensions=s.update(this.calendar.domainCollection,n);var c=[];return this.root=r.selectAll(up).data(this.calendar.domainCollection.keys,function(u){return u}).join(function(u){return u.append("svg").attr("x",function(l){return s.get(l).pre_x}).attr("y",function(l){return s.get(l).pre_y}).attr("width",function(l){return s.get(l).inner_width}).attr("height",function(l){return s.get(l).inner_height}).attr("class",function(l){return je(i,cS,"m",p6).call(i,l)}).call(function(l){return l.append("rect").attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).attr("class","".concat(up.slice(1),"-bg"))}).call(function(l){return c.push(l.transition(o).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).end())})},function(u){return u.call(function(l){return c.push(l.transition(o).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())}).call(function(l){return c.push(l.selectAll("".concat(up,"-bg")).transition(o).attr("width",function(f){return s.get(f).inner_width}).attr("height",function(f){return s.get(f).inner_height}).end())})},function(u){return u.call(function(l){return c.push(l.transition(o).attr("x",function(f){return s.get(f).x}).attr("y",function(f){return s.get(f).y}).remove().end())})}),c}}]),e}();cS=new WeakSet,p6=function(t){var n=up.slice(1),r=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":n+=" h_".concat(r.hour());break;case"day":n+=" d_".concat(r.date()," dy_").concat(r.format("d")+1);break;case"week":n+=" w_".concat(r.week());break;case"month":n+=" m_".concat(r.month()+1);break;case"year":n+=" y_".concat(r.year());break}return n};var Upe=bt,Fpe=X5.includes,kpe=ht,Bpe=H2,zpe=kpe(function(){return!Array(1).includes()});Upe({target:"Array",proto:!0,forced:zpe},{includes:function(t){return Fpe(this,t,arguments.length>1?arguments[1]:void 0)}});Bpe("includes");var Hpe=bt,Gpe=pg.filter,Vpe=dg,jpe=Vpe("filter");Hpe({target:"Array",proto:!0,forced:!jpe},{filter:function(t){return Gpe(this,t,arguments.length>1?arguments[1]:void 0)}});var Wpe=Dn,Xpe=E8,Ype=function(e,t,n,r){try{return r?t(Wpe(n)[0],n[1]):t(n)}catch(i){Xpe(e,"throw",i)}},qpe=hu,Kpe=gn,Zpe=Ai,Jpe=Ype,Qpe=x8,eve=ag,tve=_a,ZC=fg,nve=w8,rve=k2,JC=Array,ive=function(t){var n=Zpe(t),r=eve(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=qpe(a,i>2?arguments[2]:void 0));var s=rve(n),c=0,u,l,f,d,h,m;if(s&&!(this===JC&&Qpe(s)))for(d=nve(n,s),h=d.next,l=r?new this:[];!(f=Kpe(h,d)).done;c++)m=o?Jpe(d,a,[f.value,c],!0):f.value,ZC(l,c,m);else for(u=tve(n),l=r?new this(u):JC(u);u>c;c++)m=o?a(n[c],c):n[c],ZC(l,c,m);return l.length=c,l},ave=bt,ove=ive,sve=B2,cve=!sve(function(e){Array.from(e)});ave({target:"Array",stat:!0,forced:cve},{from:ove});var Da,v6,QC,ul,uve={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",xDay:"Do MMM",ghDay:"Do MMM",day:"Do MMM",hour:"HH:00",minute:"HH:mm"},eR=function(){function e(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(An(this,e),Da.add(this),this.collection=new Map,this.dateHelper=t,n&&r&&i){var o=this.dateHelper.intervals(n,r,i,a).map(function(s){return hg(s)});this.collection=new Map(o)}this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&je(this,Da,"m",ul).call(this)}return Pn(e,[{key:"has",value:function(n){return this.collection.has(n)}},{key:"get",value:function(n){return this.collection.get(n)}},{key:"forEach",value:function(n){return this.collection.forEach(n)}},{key:"at",value:function(n){return this.keys[n]}},{key:"clamp",value:function(n,r){var i=this;return n&&this.min<n&&this.keys.filter(function(a){return a<n}).forEach(function(a){return i.collection.delete(a)}),r&&this.max>r&&this.keys.filter(function(a){return a>r}).forEach(function(a){return i.collection.delete(a)}),je(this,Da,"m",ul).call(this),this}},{key:"merge",value:function(n,r,i){var a=this;this.yankedDomains=[],n.keys.forEach(function(o,s){if(!a.has(o)){if(a.collection.size>=r){var c=a.max;o>a.max&&(c=a.min),c&&a.collection.delete(c)&&a.yankedDomains.push(c)}a.collection.set(o,i(o,s)),je(a,Da,"m",ul).call(a)}}),this.yankedDomains=this.yankedDomains.sort(function(o,s){return o-s})}},{key:"slice",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.keys.length>r){var a=i?this.keys.slice(0,-r):this.keys.slice(r);a.forEach(function(o){n.collection.delete(o)}),je(this,Da,"m",ul).call(this)}return this}},{key:"fill",value:function(n,r,i){var a=this,o=r.x,s=r.y,c=r.groupY,u=r.defaultValue,l=this.groupRecords(n,o,i);this.keys.forEach(function(f){var d=l.get(f)||{};je(a,Da,"m",v6).call(a,f,d,s,c,u)})}},{key:"groupRecords",value:function(n,r,i){var a=this,o=new Map,s=new Map;return this.keys.forEach(function(c){a.get(c).forEach(function(u){s.set(u.t,c)})}),n.forEach(function(c){var u=a.extractTimestamp(c,r,i);if(s.has(u)){var l=s.get(u),f=o.get(l)||{};f[u]||(f[u]=[]),f[u].push(c),o.set(l,f)}}),o}},{key:"groupValues",value:function(n,r){var i=n.filter(function(a){return a!==null});if(typeof r=="string"){if(i.every(function(a){return typeof a=="number"}))switch(r){case"sum":return i.reduce(function(a,o){return a+o},0);case"count":return i.length;case"min":return Math.min.apply(Math,Fb(i))||null;case"max":return Math.max.apply(Math,Fb(i))||null;case"average":return i.length>0?i.reduce(function(a,o){return a+o},0)/i.length:null;default:return null}switch(r){case"count":return i.length;default:return null}}else if(typeof r=="function")return r(i);return null}},{key:"extractTimestamp",value:function(n,r,i){var a=typeof r=="function"?r(n):n[r];return typeof a=="string"&&(a=+new Date(a)),i(a)}}]),e}();Da=new WeakSet,v6=function(t,n,r,i,a){var o=this;this.get(t).forEach(function(s,c){var u=a;n.hasOwnProperty(s.t)&&(u=o.groupValues(je(o,Da,"m",QC).call(o,n[s.t],r),i)),o.get(t)[c].v=u})},QC=function(t,n){return t.map(function(r){return typeof n=="function"?n(r):r[n]})},ul=function(){this.keys=Array.from(this.collection.keys()).map(function(n){return parseInt(n,10)}).sort(function(n,r){return n-r});var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var cn,uS,lS,fS,Bs,Ed,dS,tR=".ch-domain-text",lve=function(){function e(t){An(this,e),cn.add(this),this.calendar=t}return Pn(e,[{key:"paint",value:function(n){var r=this,i=this.calendar.options.options.domain,a=i.label,o=i.type,s=this.calendar.dateHelper,c=a.text;c===null||c===""||(typeof c>"u"&&(c=uve[o]),n.selectAll(tR).data(function(u){return[u]},function(u){return u}).join(function(u){return u.append("text").attr("class",tR.slice(1)).attr("x",function(l){return je(r,cn,"m",lS).call(r,l)}).attr("y",function(l){return je(r,cn,"m",fS).call(r,l)}).attr("text-anchor",a.textAlign).attr("dominant-baseline",function(){return je(r,cn,"m",uS).call(r)}).text(function(l,f,d){return s.format(l,c,d[f])}).call(function(l){return je(r,cn,"m",dS).call(r,l)})},function(u){u.attr("x",function(l){return je(r,cn,"m",lS).call(r,l)}).attr("y",function(l){return je(r,cn,"m",fS).call(r,l)}).attr("text-anchor",a.textAlign).attr("dominant-baseline",function(){return je(r,cn,"m",uS).call(r)}).text(function(l,f,d){return s.format(l,c,d[f])}).call(function(l){return je(r,cn,"m",dS).call(r,l)})}))}}]),e}();cn=new WeakSet,uS=function(){var t=this.calendar.options.options.domain.label,n=t.position,r=t.rotate;return KC(n)?"middle":r==="left"&&n==="left"||r==="right"&&n==="right"?"bottom":"hanging"},lS=function(t){var n=this.calendar.options.options.domain,r=n.padding,i=n.label,a=i.position,o=i.textAlign,s=i.offset,c=this.calendar.options.options.x.domainHorizontalLabelWidth,u=r[$i.LEFT];return a==="right"&&(u+=je(this,cn,"m",Bs).call(this,t)),o==="middle"&&(["top","bottom"].includes(a)?u+=je(this,cn,"m",Bs).call(this,t)/2:u+=c/2),o==="end"&&(KC(a)?u+=je(this,cn,"m",Bs).call(this,t):u+=c),u+s.x},fS=function(t){var n=this.calendar.options.options,r=n.domain,i=r.label,a=i.position,o=i.offset,s=r.padding,c=n.x,u=s[$i.TOP]+c.domainVerticalLabelHeight/2;return a==="bottom"&&(u+=je(this,cn,"m",Ed).call(this,t)),u+o.y},Bs=function(t){var n=this.calendar.options.options,r=n.domain.padding,i=n.x.domainHorizontalLabelWidth,a=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return a.get(t).inner_width-i-l6(r)},Ed=function(t){var n=this.calendar.options.options,r=n.x.domainVerticalLabelHeight,i=n.domain.padding,a=this.calendar.calendarPainter.domainsContainerPainter.domainPainter.coordinates;return a.get(t).inner_height-r-f6(i)},dS=function(t){var n=this,r=this.calendar.options.options,i=r.domain.label,a=i.rotate,o=i.textAlign,s=i.position,c=r.x,u=c.domainHorizontalLabelWidth;switch(a){case"right":t.attr("transform",function(l){var f=je(n,cn,"m",Bs).call(n,l),d=je(n,cn,"m",Ed).call(n,l),h=["rotate(90, ".concat(s==="right"?f:u,", 0)")];switch(s){case"right":o==="middle"?h.push("translate(".concat(d/2-u/2,")")):o==="end"&&h.push("translate(".concat(d-u,")"));break;case"left":o==="start"?h.push("translate(".concat(u,")")):o==="middle"?h.push("translate(".concat(u/2+d/2,")")):o==="end"&&h.push("translate(".concat(d,")"));break}return h.join(",")});break;case"left":t.attr("transform",function(l){var f=je(n,cn,"m",Bs).call(n,l),d=je(n,cn,"m",Ed).call(n,l),h=["rotate(270, ".concat(s==="right"?f:u,", 0)")];switch(s){case"right":o==="start"?h.push("translate(-".concat(d,")")):o==="middle"?h.push("translate(-".concat(d/2+u/2,")")):o==="end"&&h.push("translate(-".concat(u,")"));break;case"left":o==="start"?h.push("translate(".concat(u-d,")")):o==="middle"&&h.push("translate(".concat(u/2-d/2,")"));break}return h.join(",")});break}};var m6=`	
\v\f\r                　\u2028\u2029\uFEFF`,fve=_t,dve=ys,hve=oo,hS=m6,nR=fve("".replace),pve=RegExp("^["+hS+"]+"),vve=RegExp("(^|[^"+hS+"])["+hS+"]+$"),Q0=function(e){return function(t){var n=hve(dve(t));return e&1&&(n=nR(n,pve,"")),e&2&&(n=nR(n,vve,"$1")),n}},mve={start:Q0(1),end:Q0(2),trim:Q0(3)},gve=Ym.PROPER,_ve=ht,rR=m6,iR="​᠎",yve=function(e){return _ve(function(){return!!rR[e]()||iR[e]()!==iR||gve&&rR[e].name!==e})},$ve=bt,bve=mve.trim,Sve=yve;$ve({target:"String",proto:!0,forced:Sve("trim")},{trim:function(){return bve(this)}});var wn,pS,uv,g6,ey,lv,fv,lp=".ch-subdomain",xve="highlight",wve=function(){function e(t){An(this,e),wn.add(this),this.calendar=t,this.root=null}return Pn(e,[{key:"paint",value:function(n){var r=this;this.root=n||this.root;var i="".concat(lp,"-container"),a=this.root.selectAll(i).data(function(d){return[d]},function(d){return d}).join(function(d){return d.append("svg").call(function(h){return je(r,wn,"m",pS).call(r,h)}).attr("class",i.slice(1))},function(d){return d.call(function(h){return je(r,wn,"m",pS).call(r,h)})}),o=this.calendar.options.options.subDomain,s=o.radius,c=o.width,u=o.height,l=o.sort,f=this.calendar.eventEmitter;a.selectAll("g").data(function(d){var h=r.calendar.domainCollection.get(d);if(l==="desc"){var m=Math.max.apply(Math,Fb(h.map(function(g){return g.x})));h.forEach(function(g,p){h[p].x=Math.abs(g.x-m)})}return h}).join(function(d){return d.append("g").call(function(h){return h.insert("rect").attr("class",function(m){return je(r,wn,"m",uv).call(r,m.t,"".concat(lp.slice(1),"-bg"))}).attr("width",c).attr("height",u).attr("x",function(m){return je(r,wn,"m",lv).call(r,m)}).attr("y",function(m){return je(r,wn,"m",fv).call(r,m)}).on("click",function(m,g){return f.emit("click",m,g.t,g.v)}).on("mouseover",function(m,g){return f.emit("mouseover",m,g.t,g.v)}).on("mouseout",function(m,g){return f.emit("mouseout",m,g.t,g.v)}).attr("rx",s>0?s:null).attr("ry",s>0?s:null)}).call(function(h){return je(r,wn,"m",g6).call(r,h)})},function(d){return d.selectAll("rect").attr("class",function(h){return je(r,wn,"m",uv).call(r,h.t,"".concat(lp.slice(1),"-bg"))}).attr("width",c).attr("height",u).attr("x",function(h){return je(r,wn,"m",lv).call(r,h)}).attr("y",function(h){return je(r,wn,"m",fv).call(r,h)}).attr("rx",s).attr("ry",s)})}}]),e}();wn=new WeakSet,pS=function(t){var n=this.calendar.options.options,r=n.domain,i=r.padding,a=r.label.position;t.attr("x",function(){var o=i[$i.LEFT];return a==="left"&&(o+=n.x.domainHorizontalLabelWidth),o}).attr("y",function(){var o=i[$i.TOP];return a==="top"&&(o+=n.x.domainVerticalLabelHeight),o})},uv=function(t){var n=this,r=this.calendar.options.options,i=r.date.highlight,a=r.subDomain.type,o="";i.length>0&&i.forEach(function(l){var f=n.calendar.templateCollection.get(a).extractUnit;f(+l)===f(t)&&(o=xve)});for(var s=arguments.length,c=new Array(s>1?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];return[o].concat(c).join(" ").trim()},g6=function(t){var n=this,r=this.calendar.options.options.subDomain,i=r.width,a=r.height,o=r.label;return o?t.append("text").attr("class",function(s){return je(n,wn,"m",uv).call(n,s.t,"".concat(lp.slice(1),"-text"))}).attr("x",function(s){return je(n,wn,"m",lv).call(n,s)+i/2}).attr("y",function(s){return je(n,wn,"m",fv).call(n,s)+a/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(s,c,u){return n.calendar.dateHelper.format(s.t,o,s.v,u[c])}):null},ey=function(t,n){var r=this.calendar.options.options.subDomain;return n[t]*(r[t==="x"?"width":"height"]+r.gutter)},lv=function(t){return je(this,wn,"m",ey).call(this,"x",t)},fv=function(t){return je(this,wn,"m",ey).call(this,"y",t)};var yc,vS,_6,y6,aR=".ch-domain-container",oR="in-transition",Eve=function(){function e(t){An(this,e),yc.add(this),this.calendar=t,this.domainPainter=new Npe(t),this.subDomainPainter=new wve(t),this.domainLabelPainter=new lve(t),this.dimensions={width:0,height:0},this.transitionsQueueCount=0}return Pn(e,[{key:"setup",value:function(){this.root=this.calendar.calendarPainter.root.attr("x",0).attr("y",0).append("svg").attr("class",aR.slice(1)).append("svg").attr("class","".concat(aR.slice(1),"-animation-wrapper"))}},{key:"paint",value:function(n){var r=this;je(this,yc,"m",vS).call(this);var i=this.domainPainter.paint(n,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),je(this,yc,"m",y6).call(this),Promise.allSettled(i).then(function(){je(r,yc,"m",_6).call(r)}),i}},{key:"updatePosition",value:function(){var n;if(!(!((n=this.root)===null||n===void 0)&&n.node()))return Promise.resolve();var r=this.calendar.options.options.animationDuration,i=this.calendar.pluginManager.getHeightFromPosition("top"),a=this.calendar.pluginManager.getWidthFromPosition("left");return[Zo(this.root.node().parentNode).transition().duration(r).call(function(o){o.attr("x",a).attr("y",i)}).end()]}},{key:"width",value:function(){return this.dimensions.width}},{key:"height",value:function(){return this.dimensions.height}},{key:"destroy",value:function(){return je(this,yc,"m",vS).call(this),Promise.resolve()}}]),e}();yc=new WeakSet,vS=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount+=1,Zo(this.root.node().parentNode).classed(oR,!0))},_6=function(){var t;!((t=this.root)===null||t===void 0)&&t.node()&&(this.transitionsQueueCount-=1,this.transitionsQueueCount===0&&Zo(this.root.node().parentNode).classed(oR,!1))},y6=function(){var t=this.calendar.options.options,n=t.animationDuration,r=t.verticalOrientation,i=t.domain.gutter,a=this.domainPainter.dimensions;this.dimensions={width:a.width-(r?0:i),height:a.height-(r?i:0)},this.root.transition().duration(n).attr("width",this.dimensions.width).attr("height",this.dimensions.height)};var Tve=function(){function e(t){An(this,e),this.calendar=t}return Pn(e,[{key:"paint",value:function(){var n=[];return n=n.concat(this.calendar.pluginManager.paintAll()),n=n.concat(this.setPluginsPosition()),n}},{key:"setPluginsPosition",value:function(){var n=this.calendar.pluginManager,r=this.calendar.options.options.animationDuration,i=this.calendar.calendarPainter.domainsContainerPainter,a=n.getFromPosition("top"),o=n.getFromPosition("right"),s=n.getFromPosition("bottom"),c=n.getFromPosition("left"),u=n.getHeightFromPosition("top"),l=n.getWidthFromPosition("left"),f=[],d=0;a.forEach(function(m){f.push(m.root.transition().duration(r).attr("y",d).attr("x",l).end()),d+=m.options.dimensions.height});var h=0;return c.forEach(function(m){f.push(m.root.transition().duration(r).attr("x",h).attr("y",u).end()),h+=m.options.dimensions.width}),s.forEach(function(m){f.push(m.root.transition().duration(r).attr("x",l).attr("y",u+i.height()).end())}),h+=i.width(),o.forEach(function(m){f.push(m.root.transition().duration(r).attr("x",h).attr("y",u).end()),h+=m.options.dimensions.width}),f}},{key:"insideWidth",value:function(){return this.calendar.pluginManager.getWidthFromPosition("left")+this.calendar.pluginManager.getWidthFromPosition("right")}},{key:"insideHeight",value:function(){return this.calendar.pluginManager.getHeightFromPosition("top")+this.calendar.pluginManager.getHeightFromPosition("bottom")}}]),e}(),_l,sR,cR,$6,Mve=".ch-container",Ave=function(){function e(t){An(this,e),_l.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainsContainerPainter=new Eve(t),this.pluginPainter=new Tve(t)}return Pn(e,[{key:"setup",value:function(){var n=this.calendar.options.options,r=n.itemSelector,i=n.theme;return this.root||(this.root=Zo(r).append("svg").attr("data-theme",i).attr("class",Mve.slice(1)),this.domainsContainerPainter.setup()),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt.SCROLL_NONE,r=this.domainsContainerPainter.paint(n).concat(this.pluginPainter.paint()).concat(this.domainsContainerPainter.updatePosition());return je(this,_l,"m",$6).call(this),Promise.allSettled(r)}},{key:"destroy",value:function(){var n=this.calendar.pluginManager.destroyAll().concat(this.domainsContainerPainter.destroy());return this.root&&n.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(n)}}]),e}();_l=new WeakSet,sR=function(){return this.domainsContainerPainter.height()+this.pluginPainter.insideHeight()},cR=function(){return this.domainsContainerPainter.width()+this.pluginPainter.insideWidth()},$6=function(){var t=this.calendar.options.options,n=je(this,_l,"m",cR).call(this),r=je(this,_l,"m",sR).call(this);this.root.transition().duration(t.animationDuration).attr("width",n).attr("height",r),(n!==this.dimensions.width||r!==this.dimensions.height)&&this.calendar.eventEmitter.emit("resize",n,r,this.dimensions.width,this.dimensions.height),this.dimensions={width:n,height:r}};var Pve=typeof global=="object"&&global&&global.Object===Object&&global,b6=Pve,Cve=typeof self=="object"&&self&&self.Object===Object&&self,Rve=b6||Cve||Function("return this")(),Ci=Rve,Ive=Ci.Symbol,eo=Ive,S6=Object.prototype,Ove=S6.hasOwnProperty,Dve=S6.toString,Nu=eo?eo.toStringTag:void 0;function Lve(e){var t=Ove.call(e,Nu),n=e[Nu];try{e[Nu]=void 0;var r=!0}catch{}var i=Dve.call(e);return r&&(t?e[Nu]=n:delete e[Nu]),i}var Nve=Object.prototype,Uve=Nve.toString;function Fve(e){return Uve.call(e)}var kve="[object Null]",Bve="[object Undefined]",uR=eo?eo.toStringTag:void 0;function so(e){return e==null?e===void 0?Bve:kve:uR&&uR in Object(e)?Lve(e):Fve(e)}function aa(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zve="[object AsyncFunction]",Hve="[object Function]",Gve="[object GeneratorFunction]",Vve="[object Proxy]";function _f(e){if(!aa(e))return!1;var t=so(e);return t==Hve||t==Gve||t==zve||t==Vve}var jve=bt,Wve=Ai,x6=ug,Xve=ht,Yve=Xve(function(){x6(1)});jve({target:"Object",stat:!0,forced:Yve},{keys:function(t){return x6(Wve(t))}});var qve=mn,Kve=ma,Zve=Lt,Jve=Zve("match"),Qve=function(e){var t;return qve(e)&&((t=e[Jve])!==void 0?!!t:Kve(e)==="RegExp")},eme=Qve,tme=TypeError,w6=function(e){if(eme(e))throw new tme("The method doesn't accept regular expressions");return e},nme=Lt,rme=nme("match"),E6=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[rme]=!1,"/./"[e](t)}catch{}}return!1},ime=bt,T6=O2,ame=hf.f,ome=T2,lR=oo,sme=w6,cme=ys,ume=E6,fR=T6("".startsWith),lme=T6("".slice),fme=Math.min,M6=ume("startsWith"),dme=!M6&&!!function(){var e=ame(String.prototype,"startsWith");return e&&!e.writable}();ime({target:"String",proto:!0,forced:!dme&&!M6},{startsWith:function(t){var n=lR(cme(this));sme(t);var r=ome(fme(arguments.length>1?arguments[1]:void 0,n.length)),i=lR(t);return fR?fR(n,i,r):lme(n,r,r+i.length)===i}});var A6=Xn,hme=ht,P6=_t,pme=G2,vme=ug,mme=ga,gme=Jm.f,C6=P6(gme),_me=P6([].push),yme=A6&&hme(function(){var e=Object.create(null);return e[2]=2,!C6(e,2)}),dR=function(e){return function(t){for(var n=mme(t),r=vme(n),i=yme&&pme(n)===null,a=r.length,o=0,s=[],c;a>o;)c=r[o++],(!A6||(i?c in n:C6(n,c)))&&_me(s,e?[c,n[c]]:n[c]);return s}},$me={entries:dR(!0),values:dR(!1)},bme=bt,Sme=$me.entries;bme({target:"Object",stat:!0},{entries:function(t){return Sme(t)}});function hR(e){return e!=null&&!Number.isNaN(e)}function xme(e,t){return+hR(t)-+hR(e)||Ji(e,t)}function R6(e){return isFinite(e)?e:NaN}function rT(e){return e>0&&isFinite(e)?e:NaN}function I6(e){return e<0&&isFinite(e)?e:NaN}const wme=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function O6(e,t){return wme.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Eme=new Map([["second",Hr],["minute",of],["hour",cf],["day",ms],["week",ja],["month",Qi],["quarter",Qi.every(3)],["half",Qi.every(6)],["year",Wr],["monday",Xc],["tuesday",uE],["wednesday",lE],["thursday",Wa],["friday",fE],["saturday",dE],["sunday",ja]]),Tme=new Map([["second",Hr],["minute",sf],["hour",uf],["day",fu],["week",Xa],["month",ea],["quarter",ea.every(3)],["half",ea.every(6)],["year",Xr],["monday",Yc],["tuesday",hE],["wednesday",pE],["thursday",Ya],["friday",vE],["saturday",mE],["sunday",Xa]]);function Mme(e){const t=Eme.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function Ame(e){const t=Tme.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const D6=Object.getPrototypeOf(Uint8Array),Pme=Object.prototype.toString,Cme=e=>()=>e;function pR(e){return e instanceof D6?e:vg(e,Rme,Float64Array)}function Rme(e){return e==null?NaN:Number(e)}function Ime(e){return vg(e,Ome)}function Ome(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?O6(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function L6(e){return e==null||e instanceof Array||e instanceof D6?e:Array.from(e)}function vg(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function mS(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Dme(e){return(e==null?void 0:e.toString)===Pme}function Lme(e){return Dme(e)&&(e.type!==void 0||e.domain!==void 0)}function Nme(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Rl(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Rl(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?Mme:Ame)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function mg(e,t){if(e=Nme(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Ume(e,t){if(e=mg(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function vR(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function gS(e){for(const t of e)if(t!=null)return t instanceof Date}function Fme(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&O6(t)}function kme(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Bme(e){return e==null||zme(e)}function zme(e){return/^\s*none\s*$/i.test(e)}function iT(e){if(e==null)return;const t=e[0],n=e[e.length-1];return vs(t,n)}const Ua=Symbol("position"),bi=Symbol("color"),gg=Symbol("radius"),_g=Symbol("length"),yg=Symbol("opacity"),$g=Symbol("symbol"),Tn=new Map([["x",Ua],["y",Ua],["fx",Ua],["fy",Ua],["r",gg],["color",bi],["opacity",yg],["symbol",$g],["length",_g]]),Hme=Math.sqrt(3),Gme=2/Hme,Vme={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Gme,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},jme=new Map([["asterisk",XE],["circle",zm],["cross",YE],["diamond",qE],["diamond2",KE],["hexagon",Vme],["plus",ZE],["square",JE],["square2",QE],["star",e2],["times",i2],["triangle",t2],["triangle2",n2],["wye",r2]]);function Wme(e){return e&&typeof e.draw=="function"}function N6(e){if(e==null||Wme(e))return e;const t=jme.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function ty(e){console.warn(e)}const mR=new Map([["accent",Fk],["category10",Uk],["dark2",kk],["paired",Bk],["pastel1",zk],["pastel2",Hk],["set1",Gk],["set2",Vk],["set3",jk],["tableau10",Wk],["brbg",Di(SE,im)],["prgn",Di(xE,am)],["piyg",Di(wE,om)],["puor",Di(EE,sm)],["rdbu",Di(Ul,qa)],["rdgy",Di(TE,cm)],["rdylbu",Di(Fl,Ka)],["rdylgn",Di(ME,um)],["spectral",Di(AE,lm)],["burd",gR(Ul,qa)],["buylrd",gR(Fl,Ka)],["blues",an(zE,xm)],["greens",an(HE,wm)],["greys",an(GE,Em)],["oranges",an(WE,Am)],["purples",an(VE,Tm)],["reds",an(jE,Mm)],["turbo",Li(Lm)],["viridis",Li(Um)],["magma",Li(Fm)],["inferno",Li(km)],["plasma",Li(Bm)],["cividis",Li(Pm)],["cubehelix",Li(Cm)],["warm",Li(Rm)],["cool",Li(Im)],["bugn",an(PE,fm)],["bupu",an(CE,dm)],["gnbu",an(RE,hm)],["orrd",an(IE,pm)],["pubu",an(DE,mm)],["pubugn",an(OE,vm)],["purd",an(LE,gm)],["rdpu",an(NE,_m)],["ylgn",an(FE,$m)],["ylgnbu",an(UE,ym)],["ylorbr",an(kE,bm)],["ylorrd",an(BE,Sm)],["rainbow",_R(Om)],["sinebow",_R(Dm)]]);function an(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?jt(t,n):e[n])}function Di(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?jt(t,n):e[n])}function gR(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?jt(r=>t(1-r),n):e[n].slice().reverse())}function Li(e){return({length:t})=>jt(e,Math.max(2,Math.floor(t)))}function _R(e){return({length:t})=>jt(e,Math.floor(t)+1).slice(0,-1)}function U6(e){const t=`${e}`.toLowerCase();if(!mR.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return mR.get(t)}function bg(e,t){const n=U6(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function Xme(e,t="greys"){const n=new Set,[r,i]=bg(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const yR=new Map([["brbg",im],["prgn",am],["piyg",om],["puor",sm],["rdbu",qa],["rdgy",cm],["rdylbu",Ka],["rdylgn",um],["spectral",lm],["burd",e=>qa(1-e)],["buylrd",e=>Ka(1-e)],["blues",xm],["greens",wm],["greys",Em],["purples",Tm],["reds",Mm],["oranges",Am],["turbo",Lm],["viridis",Um],["magma",Fm],["inferno",km],["plasma",Bm],["cividis",Pm],["cubehelix",Cm],["warm",Rm],["cool",Im],["bugn",fm],["bupu",dm],["gnbu",hm],["orrd",pm],["pubugn",vm],["pubu",mm],["purd",gm],["rdpu",_m],["ylgnbu",ym],["ylgn",$m],["ylorbr",bm],["ylorrd",Sm],["rainbow",Om],["sinebow",Dm]]);function aT(e){const t=`${e}`.toLowerCase();if(!yR.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return yR.get(t)}const Yme=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function $R(e){return e!=null&&Yme.has(`${e}`.toLowerCase())}const F6=e=>t=>e(1-t),ny=[0,1],bR=new Map([["number",Kt],["rgb",yi],["hsl",ik],["hcl",ok],["lab",ak]]);function k6(e){const t=`${e}`.toLowerCase();if(!bR.has(t))throw new Error(`unknown interpolator: ${t}`);return bR.get(t)}function yf(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:s=z6(e,n),unknown:c,round:u,scheme:l,interval:f,range:d=Tn.get(e)===gg?age(n,s):Tn.get(e)===_g?oge(n,s):Tn.get(e)===yg?ny:void 0,interpolate:h=Tn.get(e)===bi?l==null&&d!==void 0?yi:aT(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?qv:Kt,reverse:m}){if(f=mg(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),m=!!m,typeof h!="function"&&(h=k6(h)),h.length===1?(m&&(h=F6(h),m=!1),d===void 0&&(d=Float64Array.from(s,(g,p)=>p/(s.length-1)),d.length===2&&(d=ny)),t.interpolate((d===ny?Cme:H6)(h))):t.interpolate(h),o){const[g,p]=uu(s);(g>0||p<0)&&(s=mS(s),iT(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return m&&(s=Va(s)),t.domain(s).unknown(c),i&&(t.nice(qme(i,r)),s=t.domain()),d!==void 0&&t.range(d),a&&t.clamp(a),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:f}}function qme(e,t){return e===!0?void 0:typeof e=="number"?e:Ume(e,t)}function Kme(e,t,n){return yf(e,tE(),t,n)}function Zme(e,t,n){return B6(e,t,{...n,exponent:.5})}function B6(e,t,{exponent:n=1,...r}){return yf(e,aE().exponent(n),t,{...r,type:"pow"})}function Jme(e,t,{base:n=10,domain:r=sge(t),...i}){return yf(e,rE().base(n),t,{...i,domain:r})}function Qme(e,t,{constant:n=1,...r}){return yf(e,iE().constant(n),t,r)}function ege(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=cge(t),unknown:s,interpolate:c,reverse:u}){return n===void 0&&(n=c!==void 0?jt(c,i):Tn.get(e)===bi?bg(a,i):void 0),o.length>0&&(o=oE(o,n===void 0?{length:i}:n).quantiles()),oT(e,t,{domain:o,range:n,reverse:u,unknown:s})}function tge(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=z6(e,t),unknown:o,interpolate:s,reverse:c}){const[u,l]=uu(a);let f;return n===void 0?(f=Pl(u,l,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=s!==void 0?jt(s,r):Tn.get(e)===bi?bg(i,r):void 0):(f=jt(Kt(u,l),r+1).slice(1,-1),u instanceof Date&&(f=f.map(d=>new Date(d)))),iT(L6(a))<0&&f.reverse(),oT(e,t,{domain:f,range:n,reverse:c,unknown:o})}function oT(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?jt(a,n.length+1):Tn.get(e)===bi?bg(i,n.length+1):void 0,reverse:s}){n=L6(n);const c=iT(n);if(!isNaN(c)&&!nge(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=Va(o)),{type:"threshold",scale:sE(c<0?Va(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function nge(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=vs(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function rge(){return{type:"identity",scale:nE()}}function zl(e,t=R6){return e.length?[Hc(e,({value:n})=>n===void 0?n:Hc(n,t)),Wn(e,({value:n})=>n===void 0?n:Wn(n,t))]:[0,1]}function z6(e,t){const n=Tn.get(e);return(n===gg||n===yg||n===_g?ige:zl)(t)}function ige(e){return[0,e.length?Wn(e,({value:t})=>t===void 0?t:Wn(t,R6)):1]}function age(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Cl(e,.5,({value:o})=>o===void 0?NaN:Cl(o,.25,rT)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/Wn(i);return a<1?i.map(o=>o*a):i}function oge(e,t){const n=Hp(e,({value:a})=>a===void 0?NaN:Hp(a,Math.abs)),r=t.map(a=>12*a/n),i=60/Wn(r);return i<1?r.map(a=>a*i):r}function sge(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return zl(e,rT);if(n<0)return zl(e,I6)}return[1,10]}function cge(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function H6(e){return(t,n)=>r=>e(t+r*(n-t))}function Sg(e,t,n,r,{type:i,nice:a,clamp:o,domain:s=zl(r),unknown:c,pivot:u=0,scheme:l,range:f,symmetric:d=!0,interpolate:h=Tn.get(e)===bi?l==null&&f!==void 0?yi:aT(l!==void 0?l:"rdbu"):Kt,reverse:m}){u=+u;let[g,p]=s;if(vs(g,p)<0&&([g,p]=[p,g],m=!m),g=Math.min(g,u),p=Math.max(p,u),typeof h!="function"&&(h=k6(h)),f!==void 0&&(h=h.length===1?H6(h)(...f):Yw(h,f)),m&&(h=F6(h)),d){const v=n.apply(u),y=v-n.apply(g),_=n.apply(p)-v;y<_?g=n.invert(v-_):y>_&&(p=n.invert(v+y))}return t.domain([g,u,p]).unknown(c).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[g,p],pivot:u,interpolate:h,scale:t}}function uge(e,t,n){return Sg(e,_E(),hge,t,n)}function lge(e,t,n){return G6(e,t,{...n,exponent:.5})}function G6(e,t,{exponent:n=1,...r}){return Sg(e,bE().exponent(n=+n),mge(n),t,{...r,type:"diverging-pow"})}function fge(e,t,{base:n=10,pivot:r=1,domain:i=zl(t,r<0?I6:rT),...a}){return Sg(e,yE().base(n=+n),pge,t,{domain:i,pivot:r,...a})}function dge(e,t,{constant:n=1,...r}){return Sg(e,$E().constant(n=+n),gge(n),t,r)}const hge={apply(e){return e},invert(e){return e}},pge={apply:Math.log,invert:Math.exp},vge={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function mge(e){return e===.5?vge:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function gge(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function V6(e,t,n,r){return yf(e,t,n,r)}function _ge(e,t,n){return V6(e,Lk(),t,n)}function yge(e,t,n){return V6(e,Nk(),t,n)}const $f=Symbol("ordinal");function j6(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:s,hint:c}){return i=mg(i,r),a===void 0&&(a=X6(n,i,e)),(r==="categorical"||r===$f)&&(r="ordinal"),s&&(a=Va(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:c,interval:i}}function $ge(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:s,...c}){r=mg(r,n),i===void 0&&(i=X6(t,r,e));let u;if(Tn.get(e)===$g)u=xge(t),a=a===void 0?wge(u):vg(a,N6);else if(Tn.get(e)===bi&&(a===void 0&&(n==="ordinal"||n===$f)&&(a=Xme(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const l=aT(o),f=a[0],d=a[1]-a[0];a=({length:h})=>jt(m=>l(f+d*m),h)}else a=U6(o);if(s===Zp)throw new Error(`implicit unknown on ${e} scale is not supported`);return j6(e,Qv().unknown(s),t,{...c,type:n,domain:i,range:a,hint:u})}function bge(e,t,{align:n=.5,padding:r=.5,...i}){return W6(bk().align(n).padding(r),t,i,e)}function Sge(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return W6(em().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function W6(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=j6(r,e,t,n),e.round=i,e}function X6(e,t,n){const r=new xF;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=uu(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&Tn.get(n)===Ua)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return MF(r,xme)}function SR(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function xge(e){return{fill:SR(e,"fill"),stroke:SR(e,"stroke")}}function wge(e){return Bme(e.fill)?e5:Qk}function Ege(e,t,n){return Tge(e,void 0,{...t})}function Tge(e,t=[],n={}){const r=Mge(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Age({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(gS)?ty(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${zs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${zs(r)}".`):i.some(Fme)?ty(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${zs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${zs(r)}".`):i.some(kme)&&ty(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${zs(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${zs(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Td(t,n,pR);break;case"identity":switch(Tn.get(e)){case Ua:n=Td(t,n,pR);break;case $g:n=Td(t,n,Pge);break}break;case"utc":case"time":n=Td(t,n,Ime);break}switch(r){case"diverging":return uge(e,t,n);case"diverging-sqrt":return lge(e,t,n);case"diverging-pow":return G6(e,t,n);case"diverging-log":return fge(e,t,n);case"diverging-symlog":return dge(e,t,n);case"categorical":case"ordinal":case $f:return $ge(e,t,n);case"cyclical":case"sequential":case"linear":return Kme(e,t,n);case"sqrt":return Zme(e,t,n);case"threshold":return oT(e,t,n);case"quantile":return ege(e,t,n);case"quantize":return tge(e,t,n);case"pow":return B6(e,t,n);case"log":return Jme(e,t,n);case"symlog":return Qme(e,t,n);case"utc":return yge(e,t,n);case"time":return _ge(e,t,n);case"point":return bge(e,t,n);case"band":return Sge(e,t,n);case"identity":return Tn.get(e)===Ua?rge():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function zs(e){return typeof e=="symbol"?e.description:e}const xR={toString:()=>"projection"};function Mge(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=xR);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===xR)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Tn.get(e);if(c===gg)return"sqrt";if(c===yg||c===_g)return"linear";if(c===$g)return"ordinal";if((r||i||[]).length>2)return ry(c);if(r!==void 0)return vR(r)?ry(c):gS(r)?"utc":c===bi&&(o!=null||$R(a))?"diverging":"linear";const u=t.map(({value:l})=>l).filter(l=>l!==void 0);return u.some(vR)?ry(c):u.some(gS)?"utc":c===bi&&(o!=null||$R(a))?"diverging":"linear"}function ry(e){switch(e){case Ua:return"point";case bi:return $f;default:return"ordinal"}}function Age({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===$f}function Td(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function Pge(e){return vg(e,N6)}function Cge(e={}){let t;for(const n in e)if(Tn.has(n)&&Lme(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Rge(Ege(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function Rge({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:mS(n),...r!==void 0&&{range:mS(r)},...o!==void 0&&{transform:o},...s&&{percent:s},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}function Ige(e){try{var t=Object.keys(e)[0];return Cge(Gne({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function Oge(e,t){var n={};return t.hasOwnProperty("opacity")?(n.fill=function(){return t.opacity.baseColor||_he},n["fill-opacity"]=function(r){return e==null?void 0:e.apply(r)}):n.fill=function(r){return typeof r=="string"&&(r!=null&&r.startsWith("#"))?r:e==null?void 0:e.apply(r)},n}function Dge(e,t,n,r){Object.entries(Oge(t,n)).forEach(function(i){var a=x5(i,2),o=a[0],s=a[1];return e.style(o,function(c){return s(c[r])})})}var Lge=function(){function e(t){An(this,e),this.calendar=t}return Pn(e,[{key:"populate",value:function(){var n=this.calendar,r=n.options.options,i=r.scale,a=r.subDomain,o=Ige(i);n.calendarPainter.root.selectAll(".ch-domain").selectAll("svg").selectAll("g").data(function(s){return n.domainCollection.get(s)||[]}).call(function(s){Dge(s.select("rect"),o,i,"v")}).call(function(s){s.select("text").attr("style",function(c){var u=Wp(o==null?void 0:o.apply(c.v)).l>60?"#000":"#fff",l=a.color||(c.v?u:null);return _f(l)&&(l=l(c.t,c.v,o==null?void 0:o.apply(c.v))),l?"fill: ".concat(l,";"):null}).text(function(c,u,l){return n.dateHelper.format(c.t,a.label,c.v,l[u])})}).call(function(){n.eventEmitter.emit("fill")})}}]),e}();function Nge(){this.__data__=[],this.size=0}function bf(e,t){return e===t||e!==e&&t!==t}function xg(e,t){for(var n=e.length;n--;)if(bf(e[n][0],t))return n;return-1}var Uge=Array.prototype,Fge=Uge.splice;function kge(e){var t=this.__data__,n=xg(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Fge.call(t,n,1),--this.size,!0}function Bge(e){var t=this.__data__,n=xg(t,e);return n<0?void 0:t[n][1]}function zge(e){return xg(this.__data__,e)>-1}function Hge(e,t){var n=this.__data__,r=xg(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ya(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ya.prototype.clear=Nge;ya.prototype.delete=kge;ya.prototype.get=Bge;ya.prototype.has=zge;ya.prototype.set=Hge;function Gge(){this.__data__=new ya,this.size=0}function Vge(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function jge(e){return this.__data__.get(e)}function Wge(e){return this.__data__.has(e)}var Xge=Ci["__core-js_shared__"],iy=Xge,wR=function(){var e=/[^.]+$/.exec(iy&&iy.keys&&iy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yge(e){return!!wR&&wR in e}var qge=Function.prototype,Kge=qge.toString;function ws(e){if(e!=null){try{return Kge.call(e)}catch{}try{return e+""}catch{}}return""}var Zge=/[\\^$.*+?()[\]{}|]/g,Jge=/^\[object .+?Constructor\]$/,Qge=Function.prototype,e_e=Object.prototype,t_e=Qge.toString,n_e=e_e.hasOwnProperty,r_e=RegExp("^"+t_e.call(n_e).replace(Zge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i_e(e){if(!aa(e)||Yge(e))return!1;var t=_f(e)?r_e:Jge;return t.test(ws(e))}function a_e(e,t){return e==null?void 0:e[t]}function Es(e,t){var n=a_e(e,t);return i_e(n)?n:void 0}var o_e=Es(Ci,"Map"),Hl=o_e,s_e=Es(Object,"create"),Gl=s_e;function c_e(){this.__data__=Gl?Gl(null):{},this.size=0}function u_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var l_e="__lodash_hash_undefined__",f_e=Object.prototype,d_e=f_e.hasOwnProperty;function h_e(e){var t=this.__data__;if(Gl){var n=t[e];return n===l_e?void 0:n}return d_e.call(t,e)?t[e]:void 0}var p_e=Object.prototype,v_e=p_e.hasOwnProperty;function m_e(e){var t=this.__data__;return Gl?t[e]!==void 0:v_e.call(t,e)}var g_e="__lodash_hash_undefined__";function __e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gl&&t===void 0?g_e:t,this}function is(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}is.prototype.clear=c_e;is.prototype.delete=u_e;is.prototype.get=h_e;is.prototype.has=m_e;is.prototype.set=__e;function y_e(){this.size=0,this.__data__={hash:new is,map:new(Hl||ya),string:new is}}function $_e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wg(e,t){var n=e.__data__;return $_e(t)?n[typeof t=="string"?"string":"hash"]:n.map}function b_e(e){var t=wg(this,e).delete(e);return this.size-=t?1:0,t}function S_e(e){return wg(this,e).get(e)}function x_e(e){return wg(this,e).has(e)}function w_e(e,t){var n=wg(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function $a(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$a.prototype.clear=y_e;$a.prototype.delete=b_e;$a.prototype.get=S_e;$a.prototype.has=x_e;$a.prototype.set=w_e;var E_e=200;function T_e(e,t){var n=this.__data__;if(n instanceof ya){var r=n.__data__;if(!Hl||r.length<E_e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $a(r)}return n.set(e,t),this.size=n.size,this}function ta(e){var t=this.__data__=new ya(e);this.size=t.size}ta.prototype.clear=Gge;ta.prototype.delete=Vge;ta.prototype.get=jge;ta.prototype.has=Wge;ta.prototype.set=T_e;var M_e=function(){try{var e=Es(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dv=M_e;function sT(e,t,n){t=="__proto__"&&dv?dv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _S(e,t,n){(n!==void 0&&!bf(e[t],n)||n===void 0&&!(t in e))&&sT(e,t,n)}function A_e(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[++i];if(n(a[c],c,a)===!1)break}return t}}var P_e=A_e(),C_e=P_e,Y6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ER=Y6&&typeof module=="object"&&module&&!module.nodeType&&module,R_e=ER&&ER.exports===Y6,TR=R_e?Ci.Buffer:void 0;TR&&TR.allocUnsafe;function I_e(e,t){return e.slice()}var O_e=Ci.Uint8Array,hv=O_e;function D_e(e){var t=new e.constructor(e.byteLength);return new hv(t).set(new hv(e)),t}function L_e(e,t){var n=D_e(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function N_e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var MR=Object.create,U_e=function(){function e(){}return function(t){if(!aa(t))return{};if(MR)return MR(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),F_e=U_e;function q6(e,t){return function(n){return e(t(n))}}var k_e=q6(Object.getPrototypeOf,Object),K6=k_e,B_e=Object.prototype;function cT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||B_e;return e===n}function z_e(e){return typeof e.constructor=="function"&&!cT(e)?F_e(K6(e)):{}}function oa(e){return e!=null&&typeof e=="object"}var H_e="[object Arguments]";function AR(e){return oa(e)&&so(e)==H_e}var Z6=Object.prototype,G_e=Z6.hasOwnProperty,V_e=Z6.propertyIsEnumerable,j_e=AR(function(){return arguments}())?AR:function(e){return oa(e)&&G_e.call(e,"callee")&&!V_e.call(e,"callee")},pv=j_e,W_e=9007199254740991;function uT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=W_e}function Eg(e){return e!=null&&uT(e.length)&&!_f(e)}function X_e(e){return oa(e)&&Eg(e)}function Y_e(){return!1}var J6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,PR=J6&&typeof module=="object"&&module&&!module.nodeType&&module,q_e=PR&&PR.exports===J6,CR=q_e?Ci.Buffer:void 0,K_e=CR?CR.isBuffer:void 0,Z_e=K_e||Y_e,vv=Z_e,J_e="[object Object]",Q_e=Function.prototype,e0e=Object.prototype,Q6=Q_e.toString,t0e=e0e.hasOwnProperty,n0e=Q6.call(Object);function r0e(e){if(!oa(e)||so(e)!=J_e)return!1;var t=K6(e);if(t===null)return!0;var n=t0e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Q6.call(n)==n0e}var i0e="[object Arguments]",a0e="[object Array]",o0e="[object Boolean]",s0e="[object Date]",c0e="[object Error]",u0e="[object Function]",l0e="[object Map]",f0e="[object Number]",d0e="[object Object]",h0e="[object RegExp]",p0e="[object Set]",v0e="[object String]",m0e="[object WeakMap]",g0e="[object ArrayBuffer]",_0e="[object DataView]",y0e="[object Float32Array]",$0e="[object Float64Array]",b0e="[object Int8Array]",S0e="[object Int16Array]",x0e="[object Int32Array]",w0e="[object Uint8Array]",E0e="[object Uint8ClampedArray]",T0e="[object Uint16Array]",M0e="[object Uint32Array]",wt={};wt[y0e]=wt[$0e]=wt[b0e]=wt[S0e]=wt[x0e]=wt[w0e]=wt[E0e]=wt[T0e]=wt[M0e]=!0;wt[i0e]=wt[a0e]=wt[g0e]=wt[o0e]=wt[_0e]=wt[s0e]=wt[c0e]=wt[u0e]=wt[l0e]=wt[f0e]=wt[d0e]=wt[h0e]=wt[p0e]=wt[v0e]=wt[m0e]=!1;function A0e(e){return oa(e)&&uT(e.length)&&!!wt[so(e)]}function P0e(e){return function(t){return e(t)}}var eB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yl=eB&&typeof module=="object"&&module&&!module.nodeType&&module,C0e=yl&&yl.exports===eB,ay=C0e&&b6.process,R0e=function(){try{var e=yl&&yl.require&&yl.require("util").types;return e||ay&&ay.binding&&ay.binding("util")}catch{}}(),RR=R0e,IR=RR&&RR.isTypedArray,I0e=IR?P0e(IR):A0e,lT=I0e;function yS(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var O0e=Object.prototype,D0e=O0e.hasOwnProperty;function tB(e,t,n){var r=e[t];(!(D0e.call(e,t)&&bf(r,n))||n===void 0&&!(t in e))&&sT(e,t,n)}function L0e(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=void 0;c===void 0&&(c=e[s]),i?sT(n,s,c):tB(n,s,c)}return n}function N0e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var U0e=9007199254740991,F0e=/^(?:0|[1-9]\d*)$/;function Tg(e,t){var n=typeof e;return t=t??U0e,!!t&&(n=="number"||n!="symbol"&&F0e.test(e))&&e>-1&&e%1==0&&e<t}var k0e=Object.prototype,B0e=k0e.hasOwnProperty;function nB(e,t){var n=yr(e),r=!n&&pv(e),i=!n&&!r&&vv(e),a=!n&&!r&&!i&&lT(e),o=n||r||i||a,s=o?N0e(e.length,String):[],c=s.length;for(var u in e)(t||B0e.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tg(u,c)))&&s.push(u);return s}function z0e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var H0e=Object.prototype,G0e=H0e.hasOwnProperty;function V0e(e){if(!aa(e))return z0e(e);var t=cT(e),n=[];for(var r in e)r=="constructor"&&(t||!G0e.call(e,r))||n.push(r);return n}function rB(e){return Eg(e)?nB(e,!0):V0e(e)}function j0e(e){return L0e(e,rB(e))}function W0e(e,t,n,r,i,a,o){var s=yS(e,n),c=yS(t,n),u=o.get(c);if(u){_S(e,n,u);return}var l=a?a(s,c,n+"",e,t,o):void 0,f=l===void 0;if(f){var d=yr(c),h=!d&&vv(c),m=!d&&!h&&lT(c);l=c,d||h||m?yr(s)?l=s:X_e(s)?l=N_e(s):h?(f=!1,l=I_e(c)):m?(f=!1,l=L_e(c)):l=[]:r0e(c)||pv(c)?(l=s,pv(s)?l=j0e(s):(!aa(s)||_f(s))&&(l=z_e(c))):f=!1}f&&(o.set(c,l),i(l,c,r,a,o),o.delete(c)),_S(e,n,l)}function iB(e,t,n,r,i){e!==t&&C_e(t,function(a,o){if(i||(i=new ta),aa(a))W0e(e,t,o,n,iB,r,i);else{var s=r?r(yS(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),_S(e,o,s)}},rB)}function aB(e){return e}function X0e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var OR=Math.max;function Y0e(e,t,n){return t=OR(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=OR(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),X0e(e,this,s)}}function q0e(e){return function(){return e}}var K0e=dv?function(e,t){return dv(e,"toString",{configurable:!0,enumerable:!1,value:q0e(t),writable:!0})}:aB,Z0e=K0e,J0e=800,Q0e=16,eye=Date.now;function tye(e){var t=0,n=0;return function(){var r=eye(),i=Q0e-(r-n);if(n=r,i>0){if(++t>=J0e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nye=tye(Z0e),rye=nye;function iye(e,t){return rye(Y0e(e,t,aB),e+"")}function aye(e,t,n){if(!aa(n))return!1;var r=typeof t;return(r=="number"?Eg(n)&&Tg(t,n.length):r=="string"&&t in n)?bf(n[t],e):!1}function oye(e){return iye(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&aye(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var sye=oye(function(e,t,n,r){iB(e,t,n,r)}),cye=sye,uye="__lodash_hash_undefined__";function lye(e){return this.__data__.set(e,uye),this}function fye(e){return this.__data__.has(e)}function mv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $a;++t<n;)this.add(e[t])}mv.prototype.add=mv.prototype.push=lye;mv.prototype.has=fye;function dye(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function hye(e,t){return e.has(t)}var pye=1,vye=2;function oB(e,t,n,r,i,a){var o=n&pye,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var f=-1,d=!0,h=n&vye?new mv:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var m=e[f],g=t[f];if(r)var p=o?r(g,m,f,t,e,a):r(m,g,f,e,t,a);if(p!==void 0){if(p)continue;d=!1;break}if(h){if(!dye(t,function(v,y){if(!hye(h,y)&&(m===v||i(m,v,n,r,a)))return h.push(y)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}function mye(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function gye(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _ye=1,yye=2,$ye="[object Boolean]",bye="[object Date]",Sye="[object Error]",xye="[object Map]",wye="[object Number]",Eye="[object RegExp]",Tye="[object Set]",Mye="[object String]",Aye="[object Symbol]",Pye="[object ArrayBuffer]",Cye="[object DataView]",DR=eo?eo.prototype:void 0,oy=DR?DR.valueOf:void 0;function Rye(e,t,n,r,i,a,o){switch(n){case Cye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pye:return!(e.byteLength!=t.byteLength||!a(new hv(e),new hv(t)));case $ye:case bye:case wye:return bf(+e,+t);case Sye:return e.name==t.name&&e.message==t.message;case Eye:case Mye:return e==t+"";case xye:var s=mye;case Tye:var c=r&_ye;if(s||(s=gye),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=yye,o.set(e,t);var l=oB(s(e),s(t),r,i,a,o);return o.delete(e),l;case Aye:if(oy)return oy.call(e)==oy.call(t)}return!1}function Iye(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Oye(e,t,n){var r=t(e);return yr(e)?r:Iye(r,n(e))}function Dye(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Lye(){return[]}var Nye=Object.prototype,Uye=Nye.propertyIsEnumerable,LR=Object.getOwnPropertySymbols,Fye=LR?function(e){return e==null?[]:(e=Object(e),Dye(LR(e),function(t){return Uye.call(e,t)}))}:Lye,kye=Fye,Bye=q6(Object.keys,Object),zye=Bye,Hye=Object.prototype,Gye=Hye.hasOwnProperty;function Vye(e){if(!cT(e))return zye(e);var t=[];for(var n in Object(e))Gye.call(e,n)&&n!="constructor"&&t.push(n);return t}function jye(e){return Eg(e)?nB(e):Vye(e)}function NR(e){return Oye(e,jye,kye)}var Wye=1,Xye=Object.prototype,Yye=Xye.hasOwnProperty;function qye(e,t,n,r,i,a){var o=n&Wye,s=NR(e),c=s.length,u=NR(t),l=u.length;if(c!=l&&!o)return!1;for(var f=c;f--;){var d=s[f];if(!(o?d in t:Yye.call(t,d)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var p=o;++f<c;){d=s[f];var v=e[d],y=t[d];if(r)var _=o?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(!(_===void 0?v===y||i(v,y,n,r,a):_)){g=!1;break}p||(p=d=="constructor")}if(g&&!p){var S=e.constructor,O=t.constructor;S!=O&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(g=!1)}return a.delete(e),a.delete(t),g}var Kye=Es(Ci,"DataView"),$S=Kye,Zye=Es(Ci,"Promise"),bS=Zye,Jye=Es(Ci,"Set"),SS=Jye,Qye=Es(Ci,"WeakMap"),xS=Qye,UR="[object Map]",e$e="[object Object]",FR="[object Promise]",kR="[object Set]",BR="[object WeakMap]",zR="[object DataView]",t$e=ws($S),n$e=ws(Hl),r$e=ws(bS),i$e=ws(SS),a$e=ws(xS),Io=so;($S&&Io(new $S(new ArrayBuffer(1)))!=zR||Hl&&Io(new Hl)!=UR||bS&&Io(bS.resolve())!=FR||SS&&Io(new SS)!=kR||xS&&Io(new xS)!=BR)&&(Io=function(e){var t=so(e),n=t==e$e?e.constructor:void 0,r=n?ws(n):"";if(r)switch(r){case t$e:return zR;case n$e:return UR;case r$e:return FR;case i$e:return kR;case a$e:return BR}return t});var HR=Io,o$e=1,GR="[object Arguments]",VR="[object Array]",Md="[object Object]",s$e=Object.prototype,jR=s$e.hasOwnProperty;function c$e(e,t,n,r,i,a){var o=yr(e),s=yr(t),c=o?VR:HR(e),u=s?VR:HR(t);c=c==GR?Md:c,u=u==GR?Md:u;var l=c==Md,f=u==Md,d=c==u;if(d&&vv(e)){if(!vv(t))return!1;o=!0,l=!1}if(d&&!l)return a||(a=new ta),o||lT(e)?oB(e,t,n,r,i,a):Rye(e,t,c,n,r,i,a);if(!(n&o$e)){var h=l&&jR.call(e,"__wrapped__"),m=f&&jR.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,p=m?t.value():t;return a||(a=new ta),i(g,p,n,r,a)}}return d?(a||(a=new ta),qye(e,t,n,r,i,a)):!1}function sB(e,t,n,r,i){return e===t?!0:e==null||t==null||!oa(e)&&!oa(t)?e!==e&&t!==t:c$e(e,t,n,r,sB,i)}function cB(e,t){return sB(e,t)}var u$e=Object.prototype,l$e=u$e.hasOwnProperty;function f$e(e,t){return e!=null&&l$e.call(e,t)}var d$e="[object Symbol]";function fT(e){return typeof e=="symbol"||oa(e)&&so(e)==d$e}var h$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p$e=/^\w*$/;function v$e(e,t){if(yr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||fT(e)?!0:p$e.test(e)||!h$e.test(e)||t!=null&&e in Object(t)}var m$e="Expected a function";function dT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(m$e);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(dT.Cache||$a),n}dT.Cache=$a;var g$e=500;function _$e(e){var t=dT(e,function(r){return n.size===g$e&&n.clear(),r}),n=t.cache;return t}var y$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$$e=/\\(\\)?/g,b$e=_$e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(y$e,function(n,r,i,a){t.push(i?a.replace($$e,"$1"):r||n)}),t}),S$e=b$e;function x$e(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var w$e=1/0,WR=eo?eo.prototype:void 0,XR=WR?WR.toString:void 0;function uB(e){if(typeof e=="string")return e;if(yr(e))return x$e(e,uB)+"";if(fT(e))return XR?XR.call(e):"";var t=e+"";return t=="0"&&1/e==-w$e?"-0":t}function E$e(e){return e==null?"":uB(e)}function hT(e,t){return yr(e)?e:v$e(e,t)?[e]:S$e(E$e(e))}var T$e=1/0;function pT(e){if(typeof e=="string"||fT(e))return e;var t=e+"";return t=="0"&&1/e==-T$e?"-0":t}function M$e(e,t,n){t=hT(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=pT(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&uT(i)&&Tg(o,i)&&(yr(e)||pv(e)))}function YR(e,t){return e!=null&&M$e(e,t,f$e)}function A$e(e,t){t=hT(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[pT(t[n++])];return n&&n==r?e:void 0}function Ad(e,t,n){var r=e==null?void 0:A$e(e,t);return r===void 0?n:r}function P$e(e,t,n,r){if(!aa(e))return e;t=hT(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var c=pT(t[i]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=o){var l=s[c];u=void 0,u===void 0&&(u=aa(l)?l:Tg(t[i+1])?[]:{})}tB(s,c,u),s=s[c]}return e}function qR(e,t,n){return e==null?e:P$e(e,t,n)}var C$e="[object String]";function R$e(e){return typeof e=="string"||!yr(e)&&oa(e)&&so(e)==C$e}var I$e={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return hg(t)},"subDomain.label":function(t){return R$e(t)&&t!==""||_f(t)?t:null}},O$e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I$e;An(this,e),this.preProcessors=t,this.options={itemSelector:vhe,range:phe,domain:{type:she,gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25}},subDomain:{type:che,width:uhe,height:lhe,gutter:fhe,radius:dhe,label:null,color:void 0,sort:"asc"},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:ghe,timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum",defaultValue:null},scale:void 0,animationDuration:hhe,theme:mhe,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return Pn(e,[{key:"set",value:function(n,r){return!YR(this.options,n)||cB(Ad(this.options,n),r)?!1:(qR(this.options,n,YR(this.preProcessors,n)?Ad(this.preProcessors,n)(r):r),!0)}},{key:"init",value:function(n){var r=this;this.options=Object.assign({},cye(this.options,n,function(a,o){return Array.isArray(o)?o:void 0}));var i=this.options;Object.keys(this.preProcessors).forEach(function(a){qR(i,a,Ad(r.preProcessors,a)(Ad(i,a)))}),typeof i.scale>"u"&&this.initScale(),i.x.domainVerticalLabelHeight=i.domain.label.height,i.domain.label.position==="top"||i.domain.label.position==="bottom"?i.x.domainHorizontalLabelWidth=0:(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=i.domain.label.width),(i.domain.label.text===null||i.domain.label.text==="")&&(i.x.domainVerticalLabelHeight=0,i.x.domainHorizontalLabelWidth=0)}},{key:"initScale",value:function(){this.options.scale={color:{scheme:yhe,type:$he,domain:bhe}}}}]),e}(),D$e=Dn,L$e=function(){var e=D$e(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},vT=ht,N$e=Dt,mT=N$e.RegExp,gT=vT(function(){var e=mT("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),U$e=gT||vT(function(){return!mT("a","y").sticky}),F$e=gT||vT(function(){var e=mT("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),k$e={BROKEN_CARET:F$e,MISSED_STICKY:U$e,UNSUPPORTED_Y:gT},B$e=ht,z$e=Dt,H$e=z$e.RegExp,G$e=B$e(function(){var e=H$e(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),V$e=ht,j$e=Dt,W$e=j$e.RegExp,X$e=V$e(function(){var e=W$e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Ec=gn,Mg=_t,Y$e=oo,q$e=L$e,K$e=k$e,Z$e=g2,J$e=lg,Q$e=Ss.get,e1e=G$e,t1e=X$e,n1e=Z$e("native-string-replace",String.prototype.replace),gv=RegExp.prototype.exec,wS=gv,r1e=Mg("".charAt),i1e=Mg("".indexOf),a1e=Mg("".replace),sy=Mg("".slice),ES=function(){var e=/a/,t=/b*/g;return Ec(gv,e,"a"),Ec(gv,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),lB=K$e.BROKEN_CARET,TS=/()??/.exec("")[1]!==void 0,o1e=ES||TS||lB||e1e||t1e;o1e&&(wS=function(t){var n=this,r=Q$e(n),i=Y$e(t),a=r.raw,o,s,c,u,l,f,d;if(a)return a.lastIndex=n.lastIndex,o=Ec(wS,a,i),n.lastIndex=a.lastIndex,o;var h=r.groups,m=lB&&n.sticky,g=Ec(q$e,n),p=n.source,v=0,y=i;if(m&&(g=a1e(g,"y",""),i1e(g,"g")===-1&&(g+="g"),y=sy(i,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&r1e(i,n.lastIndex-1)!==`
`)&&(p="(?: "+p+")",y=" "+y,v++),s=new RegExp("^(?:"+p+")",g)),TS&&(s=new RegExp("^"+p+"$(?!\\s)",g)),ES&&(c=n.lastIndex),u=Ec(gv,m?s:n,y),m?u?(u.input=sy(u.input,v),u[0]=sy(u[0],v),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:ES&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),TS&&u&&u.length>1&&Ec(n1e,u[0],s,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u&&h)for(u.groups=f=J$e(null),l=0;l<h.length;l++)d=h[l],f[d[0]]=u[d[1]];return u});var _T=wS,s1e=bt,KR=_T;s1e({target:"RegExp",proto:!0,forced:/./.exec!==KR},{exec:KR});var ZR=O2,JR=va,c1e=_T,QR=ht,fB=Lt,u1e=du,l1e=fB("species"),cy=RegExp.prototype,f1e=function(e,t,n,r){var i=fB(e),a=!QR(function(){var u={};return u[i]=function(){return 7},""[e](u)!==7}),o=a&&!QR(function(){var u=!1,l=/a/;return e==="split"&&(l={},l.constructor={},l.constructor[l1e]=function(){return l},l.flags="",l[i]=/./[i]),l.exec=function(){return u=!0,null},l[i](""),!u});if(!a||!o||n){var s=ZR(/./[i]),c=t(i,""[e],function(u,l,f,d,h){var m=ZR(u),g=l.exec;return g===c1e||g===cy.exec?a&&!h?{done:!0,value:s(l,f,d)}:{done:!0,value:m(f,l,d)}:{done:!1}});JR(String.prototype,e,c[0]),JR(cy,i,c[1])}r&&u1e(cy[i],"sham",!0)},d1e=U8.charAt,h1e=function(e,t,n){return t+(n?d1e(e,t).length:1)},yT=_t,p1e=Ai,v1e=Math.floor,uy=yT("".charAt),m1e=yT("".replace),ly=yT("".slice),g1e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_1e=/\$([$&'`]|\d{1,2})/g,y1e=function(e,t,n,r,i,a){var o=n+e.length,s=r.length,c=_1e;return i!==void 0&&(i=p1e(i),c=g1e),m1e(a,c,function(u,l){var f;switch(uy(l,0)){case"$":return"$";case"&":return e;case"`":return ly(t,0,n);case"'":return ly(t,o);case"<":f=i[ly(l,1,-1)];break;default:var d=+l;if(d===0)return u;if(d>s){var h=v1e(d/10);return h===0?u:h<=s?r[h-1]===void 0?uy(l,1):r[h-1]+uy(l,1):u}f=r[d-1]}return f===void 0?"":f})},eI=gn,$1e=Dn,b1e=Pt,S1e=ma,x1e=_T,w1e=TypeError,E1e=function(e,t){var n=e.exec;if(b1e(n)){var r=eI(n,e,t);return r!==null&&$1e(r),r}if(S1e(e)==="RegExp")return eI(x1e,e,t);throw new w1e("RegExp#exec called on incompatible receiver")},T1e=t8,tI=gn,Ag=_t,M1e=f1e,A1e=ht,P1e=Dn,C1e=Pt,R1e=ao,I1e=tg,O1e=T2,Hs=oo,D1e=ys,L1e=h1e,N1e=Xm,U1e=y1e,F1e=E1e,k1e=Lt,MS=k1e("replace"),B1e=Math.max,z1e=Math.min,H1e=Ag([].concat),fy=Ag([].push),nI=Ag("".indexOf),rI=Ag("".slice),G1e=function(e){return e===void 0?e:String(e)},V1e=function(){return"a".replace(/./,"$0")==="$0"}(),iI=function(){return/./[MS]?/./[MS]("a","$0")==="":!1}(),j1e=!A1e(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});M1e("replace",function(e,t,n){var r=iI?"$":"$0";return[function(a,o){var s=D1e(this),c=R1e(a)?void 0:N1e(a,MS);return c?tI(c,a,s,o):tI(t,Hs(s),a,o)},function(i,a){var o=P1e(this),s=Hs(i);if(typeof a=="string"&&nI(a,r)===-1&&nI(a,"$<")===-1){var c=n(t,o,s,a);if(c.done)return c.value}var u=C1e(a);u||(a=Hs(a));var l=o.global,f;l&&(f=o.unicode,o.lastIndex=0);for(var d=[],h;h=F1e(o,s),!(h===null||(fy(d,h),!l));){var m=Hs(h[0]);m===""&&(o.lastIndex=L1e(s,O1e(o.lastIndex),f))}for(var g="",p=0,v=0;v<d.length;v++){h=d[v];for(var y=Hs(h[0]),_=B1e(z1e(I1e(h.index),s.length),0),S=[],O,M=1;M<h.length;M++)fy(S,G1e(h[M]));var P=h.groups;if(u){var D=H1e([y],S,_,s);P!==void 0&&fy(D,P),O=Hs(T1e(a,void 0,D))}else O=U1e(y,s,_,S,P,a);_>=p&&(g+=rI(s,p,_)+O,p=_+y.length)}return g+rI(s,p)}]},!j1e||!V1e||iI);var AS,dB,W1e=function(){function e(t){An(this,e),AS.add(this),this.calendar=t}return Pn(e,[{key:"getDatas",value:function(n,r,i){return q2(this,void 0,void 0,ts().mark(function a(){var o;return ts().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(typeof n=="string"&&n.length>0)){c.next=2;break}return c.abrupt("return",je(this,AS,"m",dB).call(this,n,r,i));case 2:return o=[],Array.isArray(n)&&(o=n),c.abrupt("return",new Promise(function(u){u(o)}));case 5:case"end":return c.stop()}},a,this)}))}},{key:"parseURI",value:function(n,r,i){var a=this,o=n.replace(/\{\{start=(.*?)\}\}/g,function(s,c){return a.calendar.dateHelper.date(r).format(c)});return o=o.replace(/\{\{end=(.*?)\}\}/g,function(s,c){return a.calendar.dateHelper.date(i).format(c)}),o}}]),e}();AS=new WeakSet,dB=function(t,n,r){var i=this.calendar.options.options.data,a=i.type,o=i.requestInit,s=this.parseURI(t,n,r);switch(a){case"json":return Cq(s,o);case"csv":return Aq(s,o);case"tsv":return Mq("	",s,o);case"txt":return Jw(s,o);default:return new Promise(function(c){c([])})}};var X1e=Xn,Y1e=Ym.EXISTS,hB=_t,q1e=R2,pB=Function.prototype,K1e=hB(pB.toString),vB=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Z1e=hB(vB.exec),J1e="name";X1e&&!Y1e&&q1e(pB,J1e,{configurable:!0,get:function(){try{return Z1e(vB,K1e(this))[1]}catch{return""}}});var mB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",c="hour",u="day",l="week",f="month",d="quarter",h="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var A=["th","st","nd","rd"],x=E%100;return"["+E+(A[(x-20)%10]||A[x]||A[0])+"]"}},_=function(E,A,x){var N=String(E);return!N||N.length>=A?E:""+Array(A+1-N.length).join(x)+E},S={s:_,z:function(E){var A=-E.utcOffset(),x=Math.abs(A),N=Math.floor(x/60),R=x%60;return(A<=0?"+":"-")+_(N,2,"0")+":"+_(R,2,"0")},m:function E(A,x){if(A.date()<x.date())return-E(x,A);var N=12*(x.year()-A.year())+(x.month()-A.month()),R=A.clone().add(N,f),F=x-R<0,k=A.clone().add(N+(F?-1:1),f);return+(-(N+(x-R)/(F?R-k:k-R))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:f,y:h,w:l,d:u,D:m,h:c,m:s,s:o,ms:a,Q:d}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},O="en",M={};M[O]=y;var P="$isDayjsObject",D=function(E){return E instanceof I||!(!E||!E[P])},X=function E(A,x,N){var R;if(!A)return O;if(typeof A=="string"){var F=A.toLowerCase();M[F]&&(R=F),x&&(M[F]=x,R=F);var k=A.split("-");if(!R&&k.length>1)return E(k[0])}else{var ee=A.name;M[ee]=A,R=ee}return!N&&R&&(O=R),R||!N&&O},$=function(E,A){if(D(E))return E.clone();var x=typeof A=="object"?A:{};return x.date=E,x.args=arguments,new I(x)},b=S;b.l=X,b.i=D,b.w=function(E,A){return $(E,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var I=function(){function E(x){this.$L=X(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[P]=!0}var A=E.prototype;return A.parse=function(x){this.$d=function(N){var R=N.date,F=N.utc;if(R===null)return new Date(NaN);if(b.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var k=R.match(p);if(k){var ee=k[2]-1||0,de=(k[7]||"0").substring(0,3);return F?new Date(Date.UTC(k[1],ee,k[3]||1,k[4]||0,k[5]||0,k[6]||0,de)):new Date(k[1],ee,k[3]||1,k[4]||0,k[5]||0,k[6]||0,de)}}return new Date(R)}(x),this.init()},A.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},A.$utils=function(){return b},A.isValid=function(){return this.$d.toString()!==g},A.isSame=function(x,N){var R=$(x);return this.startOf(N)<=R&&R<=this.endOf(N)},A.isAfter=function(x,N){return $(x)<this.startOf(N)},A.isBefore=function(x,N){return this.endOf(N)<$(x)},A.$g=function(x,N,R){return b.u(x)?this[N]:this.set(R,x)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(x,N){var R=this,F=!!b.u(N)||N,k=b.p(x),ee=function(Q,se){var me=b.w(R.$u?Date.UTC(R.$y,se,Q):new Date(R.$y,se,Q),R);return F?me:me.endOf(u)},de=function(Q,se){return b.w(R.toDate()[Q].apply(R.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(se)),R)},ge=this.$W,j=this.$M,Z=this.$D,_e="set"+(this.$u?"UTC":"");switch(k){case h:return F?ee(1,0):ee(31,11);case f:return F?ee(1,j):ee(0,j+1);case l:var he=this.$locale().weekStart||0,we=(ge<he?ge+7:ge)-he;return ee(F?Z-we:Z+(6-we),j);case u:case m:return de(_e+"Hours",0);case c:return de(_e+"Minutes",1);case s:return de(_e+"Seconds",2);case o:return de(_e+"Milliseconds",3);default:return this.clone()}},A.endOf=function(x){return this.startOf(x,!1)},A.$set=function(x,N){var R,F=b.p(x),k="set"+(this.$u?"UTC":""),ee=(R={},R[u]=k+"Date",R[m]=k+"Date",R[f]=k+"Month",R[h]=k+"FullYear",R[c]=k+"Hours",R[s]=k+"Minutes",R[o]=k+"Seconds",R[a]=k+"Milliseconds",R)[F],de=F===u?this.$D+(N-this.$W):N;if(F===f||F===h){var ge=this.clone().set(m,1);ge.$d[ee](de),ge.init(),this.$d=ge.set(m,Math.min(this.$D,ge.daysInMonth())).$d}else ee&&this.$d[ee](de);return this.init(),this},A.set=function(x,N){return this.clone().$set(x,N)},A.get=function(x){return this[b.p(x)]()},A.add=function(x,N){var R,F=this;x=Number(x);var k=b.p(N),ee=function(j){var Z=$(F);return b.w(Z.date(Z.date()+Math.round(j*x)),F)};if(k===f)return this.set(f,this.$M+x);if(k===h)return this.set(h,this.$y+x);if(k===u)return ee(1);if(k===l)return ee(7);var de=(R={},R[s]=r,R[c]=i,R[o]=n,R)[k]||1,ge=this.$d.getTime()+x*de;return b.w(ge,this)},A.subtract=function(x,N){return this.add(-1*x,N)},A.format=function(x){var N=this,R=this.$locale();if(!this.isValid())return R.invalidDate||g;var F=x||"YYYY-MM-DDTHH:mm:ssZ",k=b.z(this),ee=this.$H,de=this.$m,ge=this.$M,j=R.weekdays,Z=R.months,_e=R.meridiem,he=function(se,me,K,U){return se&&(se[me]||se(N,F))||K[me].slice(0,U)},we=function(se){return b.s(ee%12||12,se,"0")},Q=_e||function(se,me,K){var U=se<12?"AM":"PM";return K?U.toLowerCase():U};return F.replace(v,function(se,me){return me||function(K){switch(K){case"YY":return String(N.$y).slice(-2);case"YYYY":return b.s(N.$y,4,"0");case"M":return ge+1;case"MM":return b.s(ge+1,2,"0");case"MMM":return he(R.monthsShort,ge,Z,3);case"MMMM":return he(Z,ge);case"D":return N.$D;case"DD":return b.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return he(R.weekdaysMin,N.$W,j,2);case"ddd":return he(R.weekdaysShort,N.$W,j,3);case"dddd":return j[N.$W];case"H":return String(ee);case"HH":return b.s(ee,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return Q(ee,de,!0);case"A":return Q(ee,de,!1);case"m":return String(de);case"mm":return b.s(de,2,"0");case"s":return String(N.$s);case"ss":return b.s(N.$s,2,"0");case"SSS":return b.s(N.$ms,3,"0");case"Z":return k}return null}(se)||k.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(x,N,R){var F,k=this,ee=b.p(N),de=$(x),ge=(de.utcOffset()-this.utcOffset())*r,j=this-de,Z=function(){return b.m(k,de)};switch(ee){case h:F=Z()/12;break;case f:F=Z();break;case d:F=Z()/3;break;case l:F=(j-ge)/6048e5;break;case u:F=(j-ge)/864e5;break;case c:F=j/i;break;case s:F=j/r;break;case o:F=j/n;break;default:F=j}return R?F:b.a(F)},A.daysInMonth=function(){return this.endOf(f).$D},A.$locale=function(){return M[this.$L]},A.locale=function(x,N){if(!x)return this.$L;var R=this.clone(),F=X(x,N,!0);return F&&(R.$L=F),R},A.clone=function(){return b.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},E}(),T=I.prototype;return $.prototype=T,[["$ms",a],["$s",o],["$m",s],["$H",c],["$W",u],["$M",f],["$y",h],["$D",m]].forEach(function(E){T[E[1]]=function(A){return this.$g(A,E[0],E[1])}}),$.extend=function(E,A){return E.$i||(E(A,I,$),E.$i=!0),$},$.locale=X,$.isDayjs=D,$.unix=function(E){return $(1e3*E)},$.en=M[O],$.Ls=M,$.p={},$})})(mB);var Q1e=mB.exports,Et=On(Q1e),gB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n="week",r="year";return function(i,a,o){var s=a.prototype;s.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var l=o(this).startOf(r).add(1,r).date(u),f=o(this).endOf(n);if(l.isBefore(f))return 1}var d=o(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},s.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(gB);var ebe=gB.exports,tbe=On(ebe),_B={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r,i){r.prototype.dayOfYear=function(a){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?o:this.add(a-o,"day")}}})})(_B);var nbe=_B.exports,rbe=On(nbe),yB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r){r.prototype.weekday=function(i){var a=this.$locale().weekStart||0,o=this.$W,s=(o<a?o+7:o)-a;return this.$utils().u(i)?s:this.subtract(s,"day").add(i,"day")}}})})(yB);var ibe=yB.exports,abe=On(ibe),$B={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var c;s.length===1&&s[0].length>0&&(s=s[0]),c=(s=s.filter(function(l){return l}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](c)||(c=s[u]);return c};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})($B);var obe=$B.exports,sbe=On(obe),bB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r){r.prototype.isoWeeksInYear=function(){var i=this.isLeapYear(),a=this.endOf("y").day();return a===4||i&&a===5?53:52}}})})(bB);var cbe=bB.exports,ube=On(cbe),SB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n="day";return function(r,i,a){var o=function(u){return u.add(4-u.isoWeekday(),n)},s=i.prototype;s.isoWeekYear=function(){return o(this).year()},s.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var l,f,d,h,m=o(this),g=(l=this.isoWeekYear(),f=this.$u,d=(f?a.utc:a)().year(l).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,n));return m.diff(g,"week")+1},s.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var c=s.startOf;s.startOf=function(u,l){var f=this.$utils(),d=!!f.u(l)||l;return f.p(u)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(u,l)}}})})(SB);var lbe=SB.exports,fbe=On(lbe),xB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(xB);var dbe=xB.exports,hbe=On(dbe),wB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r){var i=r.prototype,a=i.format;i.format=function(o){var s=this,c=this.$locale();if(!this.isValid())return a.bind(this)(o);var u=this.$utils(),l=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return c.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return c.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return a.bind(this)(l)}}})})(wB);var pbe=wB.exports,vbe=On(pbe),EB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var c=o.prototype;s.utc=function(g){var p={date:g,utc:!0,args:arguments};return new o(p)},c.utc=function(g){var p=s(this.toDate(),{locale:this.$L,utc:!0});return g?p.add(this.utcOffset(),n):p},c.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var l=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else l.call(this)};var f=c.utcOffset;c.utcOffset=function(g,p){var v=this.$utils().u;if(v(g))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(O){O===void 0&&(O="");var M=O.match(r);if(!M)return null;var P=(""+M[0]).match(i)||["-",0,0],D=P[0],X=60*+P[1]+ +P[2];return X===0?0:D==="+"?X:-X}(g),g===null))return this;var y=Math.abs(g)<=16?60*g:g,_=this;if(p)return _.$offset=y,_.$u=g===0,_;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(y+S,n)).$offset=y,_.$x.$localOffset=S}else _=this.utc();return _};var d=c.format;c.format=function(g){var p=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,p)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var m=c.diff;c.diff=function(g,p,v){if(g&&this.$u===g.$u)return m.call(this,g,p,v);var y=this.local(),_=s(g).local();return m.call(y,_,p,v)}}})})(EB);var mbe=EB.exports,gbe=On(mbe),TB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,a,o){var s,c=function(d,h,m){m===void 0&&(m={});var g=new Date(d),p=function(v,y){y===void 0&&(y={});var _=y.timeZoneName||"short",S=v+"|"+_,O=r[S];return O||(O=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:_}),r[S]=O),O}(h,m);return p.formatToParts(g)},u=function(d,h){for(var m=c(d,h),g=[],p=0;p<m.length;p+=1){var v=m[p],y=v.type,_=v.value,S=n[y];S>=0&&(g[S]=parseInt(_,10))}var O=g[3],M=O===24?0:O,P=g[0]+"-"+g[1]+"-"+g[2]+" "+M+":"+g[4]+":"+g[5]+":000",D=+d;return(o.utc(P).valueOf()-(D-=D%1e3))/6e4},l=a.prototype;l.tz=function(d,h){d===void 0&&(d=s);var m=this.utcOffset(),g=this.toDate(),p=g.toLocaleString("en-US",{timeZone:d}),v=Math.round((g-new Date(p))/1e3/60),y=o(p,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(g.getTimezoneOffset()/15)-v,!0);if(h){var _=y.utcOffset();y=y.add(m-_,"minute")}return y.$x.$timezone=d,y},l.offsetName=function(d){var h=this.$x.$timezone||o.tz.guess(),m=c(this.valueOf(),h,{timeZoneName:d}).find(function(g){return g.type.toLowerCase()==="timezonename"});return m&&m.value};var f=l.startOf;l.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var m=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(m,d,h).tz(this.$x.$timezone,!0)},o.tz=function(d,h,m){var g=m&&h,p=m||h||s,v=u(+o(),p);if(typeof d!="string")return o(d).tz(p);var y=function(M,P,D){var X=M-60*P*1e3,$=u(X,D);if(P===$)return[X,P];var b=u(X-=60*($-P)*1e3,D);return $===b?[X,$]:[M-60*Math.min($,b)*1e3,Math.max($,b)]}(o.utc(d,g).valueOf(),v,p),_=y[0],S=y[1],O=o(_).utcOffset(S);return O.$x.$timezone=p,O},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(d){s=d}}})})(TB);var _be=TB.exports,ybe=On(_be),MB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r,i){var a=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,m,g){var p=f.name?f:f.$locale(),v=o(p[d]),y=o(p[h]),_=v||y.map(function(O){return O.slice(0,m)});if(!g)return _;var S=p.weekStart;return _.map(function(O,M){return _[(M+(S||0))%7]})},c=function(){return i.Ls[i.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,p){return g||p.slice(1)})}(f.formats[d.toUpperCase()])},l=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return l.bind(this)()},i.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(c(),"months")},i.monthsShort=function(){return s(c(),"monthsShort","months",3)},i.weekdays=function(f){return s(c(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})(MB);var $be=MB.exports,bbe=On($be),AB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var o=i.prototype,s=o.format;a.en.formats=n,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,l=function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,m,g){var p=g&&g.toUpperCase();return m||d[g]||n[g]||d[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,y,_){return y||_.slice(1)})})}(c,u===void 0?{}:u);return s.call(this,l)}}})})(AB);var Sbe=AB.exports,xbe=On(Sbe),PB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ln,function(){return function(n,r,i){i.updateLocale=function(a,o){var s=i.Ls[a];if(s)return(o?Object.keys(o):[]).forEach(function(c){s[c]=o[c]}),s}}})})(PB);var wbe=PB.exports,Ebe=On(wbe);Et.extend(tbe);Et.extend(ube);Et.extend(fbe);Et.extend(hbe);Et.extend(rbe);Et.extend(abe);Et.extend(sbe);Et.extend(vbe);Et.extend(gbe);Et.extend(ybe);Et.extend(bbe);Et.extend(xbe);Et.extend(Ebe);var dy="en",Tbe=function(){function e(){An(this,e);var t;this.locale=dy,this.timezone=Et.tz.guess(),(typeof window>"u"?"undefined":vl(window))==="object"&&((t=window).dayjs||(t.dayjs=Et))}return Pn(e,[{key:"setup",value:function(n){var r=n.options;return q2(this,void 0,void 0,ts().mark(function i(){var a,o;return ts().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.timezone=r.date.timezone||Et.tz.guess(),a=r.date.locale,!(typeof a=="string"&&a!==dy)){c.next=17;break}if((typeof window>"u"?"undefined":vl(window))!=="object"){c.next=12;break}if(c.t0=window["dayjs_locale_".concat(a)],c.t0){c.next=9;break}return c.next=8,this.loadBrowserLocale(a);case 8:c.t0=c.sent;case 9:o=c.t0,c.next=15;break;case 12:return c.next=14,this.loadNodeLocale(a);case 14:o=c.sent;case 15:Et.locale(a),this.locale=o;case 17:vl(a)==="object"&&(a.hasOwnProperty("name")?(Et.locale(a.name,a),this.locale=a):this.locale=Et.updateLocale(dy,a));case 18:case"end":return c.stop()}},i,this)}))}},{key:"extend",value:function(n){return Et.extend(n)}},{key:"getMonthWeekNumber",value:function(n){var r=this.date(n),i=r.startOf("day"),a=r.startOf("month").endOf("week");return i<=a?1:Math.ceil(i.diff(a,"weeks",!0))+1}},{key:"getWeeksCountInMonth",value:function(n){var r=this.date(n);return this.getLastWeekOfMonth(r).diff(this.getFirstWeekOfMonth(r),"week")+1}},{key:"getFirstWeekOfMonth",value:function(n){var r=this.date(n).startOf("month"),i=r.startOf("week");return r.weekday()>4&&(i=i.add(1,"week")),i}},{key:"getLastWeekOfMonth",value:function(n){var r=this.date(n).endOf("month"),i=r.endOf("week");return r.weekday()<4&&(i=i.subtract(1,"week")),i}},{key:"date",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return Et.isDayjs(n)?n:Et(n).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(n,r){if(typeof r=="function"){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return r.apply(void 0,[n].concat(a))}return typeof r=="string"?this.date(n).format(r):null}},{key:"intervals",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=this.date(r),s;typeof i=="number"?s=o.add(i,n):Et.isDayjs(i)?s=i:s=this.date(i),o=o.startOf(n),s=s.startOf(n);var c=Et.min(o,s);s=Et.max(o,s);var u=[];a||(s=s.add(1,"second"));do u.push(+c),c=c.add(1,n);while(c<s);return u}},{key:"loadBrowserLocale",value:function(n){return new Promise(function(r,i){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(n,".js"),a.onerror=function(o){i(o)},a.onload=function(){r(window["dayjs_locale_".concat(n)])},document.head.appendChild(a)})}},{key:"loadNodeLocale",value:function(n){return mF(()=>import("dayjs/locale/".concat(n,".js")),[])}}]),e}(),Mbe=bt,Abe=_t,Pbe=w6,Cbe=ys,aI=oo,Rbe=E6,Ibe=Abe("".indexOf);Mbe({target:"String",proto:!0,forced:!Rbe("includes")},{includes:function(t){return!!~Ibe(aI(Cbe(this)),aI(Pbe(t)),arguments.length>1?arguments[1]:void 0)}});var Obe=["json","csv","tsv","txt"];function Dbe(e,t){var n=t.domain,r=t.subDomain,i=t.data,a=n.type,o=r.type;if(!e.has(a))throw new Error("'".concat(a,"' is not a valid domain type'"));if(!e.has(o))throw new Error("'".concat(o,"' is not a valid subDomain type'"));if(i.type&&!Obe.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));if(!(e.get(o).allowedDomainType||[]).includes(a))throw new Error("The subDomain.type '".concat(o,"' can not be used together ")+"with the domain type ".concat(a));return!0}var Lbe=eT,Nbe=o6;Lbe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Nbe);function Ube(e,t){return new e(t)}function Fbe(e,t){return"".concat(new e().name).concat((t==null?void 0:t.key)||"")}var kbe=function(){function e(t){An(this,e),this.calendar=t,this.settings=new Map,this.plugins=new Map,this.pendingPaint=new Set}return Pn(e,[{key:"add",value:function(n){var r=this;n.forEach(function(i){var a=x5(i,2),o=a[0],s=a[1],c=Fbe(o,s),u=r.plugins.get(c);u&&r.settings.get(c)&&cB(r.settings.get(c).options,s)||(r.settings.set(c,{options:s,dirty:!0}),r.plugins.has(c)||r.plugins.set(c,Ube(o,r.calendar)),r.pendingPaint.add(r.plugins.get(c)))})}},{key:"setupAll",value:function(){var n=this;this.plugins.forEach(function(r,i){var a=n.settings.get(i);typeof a<"u"&&a.dirty&&(r.setup(a.options),a.dirty=!1,n.settings.set(i,a))})}},{key:"paintAll",value:function(){return Array.from(this.pendingPaint.values()).map(function(n){return n.paint()})}},{key:"destroyAll",value:function(){return this.allPlugins().map(function(n){return n.destroy()})}},{key:"getFromPosition",value:function(n){return this.allPlugins().filter(function(r){var i;return((i=r.options)===null||i===void 0?void 0:i.position)===n})}},{key:"getHeightFromPosition",value:function(n){return this.getFromPosition(n).map(function(r){return r.options.dimensions.height}).reduce(function(r,i){return r+i},0)}},{key:"getWidthFromPosition",value:function(n){return this.getFromPosition(n).map(function(r){return r.options.dimensions.width}).reduce(function(r,i){return r+i},0)}},{key:"allPlugins",value:function(){return Array.from(this.plugins.values())}}]),e}(),Bbe="4.2.4",zbe=function(t){var n=10,r=6,i=["day","hour"];return{name:"minute",allowedDomainType:i,rowsCount:function(){return n},columnsCount:function(){return r},mapping:function(o,s){return t.intervals("minute",o,t.date(s)).map(function(c,u){return{t:c,x:Math.floor(u/n),y:u%n}})},extractUnit:function(o){return t.date(o).startOf("minute").valueOf()}}},Hbe=function(t,n){var r=n.domain,i=24,a=6,o=["month","week","day"];return{name:"hour",allowedDomainType:o,rowsCount:function(){return a},columnsCount:function(c){switch(r.type){case"week":return i/a*7;case"month":return i/a*(r.dynamicDimension?t.date(c).daysInMonth():31);case"day":default:return i/a}},mapping:function(c,u){return t.intervals("hour",c,t.date(u)).map(function(l){var f=t.date(l),d=f.hour(),h=f.date(),m=Math.floor(d/a),g=i/a;return r.type==="month"&&(m+=(h-1)*g),r.type==="week"&&(m+=+f.format("d")*g),{t:l,x:m,y:Math.floor(d%a)}})},extractUnit:function(c){return t.date(c).startOf("hour").valueOf()}}},Gbe=function(t,n){var r=n.domain,i=n.verticalOrientation,a=7,o=["year","month","week"];return{name:"day",allowedDomainType:o,rowsCount:function(){return r.type==="week"?1:a},columnsCount:function(c){switch(r.type){case"month":return Math.ceil(r.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(c).endOf("month")):6);case"year":return Math.ceil(r.dynamicDimension?t.date(c).endOf("year").dayOfYear()/a:54);case"week":default:return a}},mapping:function(c,u){var l=0,f=-1;return t.intervals("day",c,t.date(u)).map(function(d){var h=t.date(d);switch(r.type){case"month":f=t.getMonthWeekNumber(d)-1;break;case"year":l!==h.week()&&(l=h.week(),f+=1);break;case"week":f=h.weekday();break}return{t:d,x:f,y:r.type==="week"?0:h.weekday()}})},extractUnit:function(c){return t.date(c).startOf("day").valueOf()}}},Vbe=function(t,n){var r=n.domain,i=n.verticalOrientation,a=7,o=["year","month","week"];return{name:"xDay",allowedDomainType:o,rowsCount:function(c){switch(r.type){case"month":return Math.ceil(r.dynamicDimension&&!i?t.getMonthWeekNumber(t.date(c).endOf("month")):6);case"year":return Math.ceil(r.dynamicDimension?t.date(c).endOf("year").dayOfYear()/a:54);case"week":default:return a}},columnsCount:function(){return r.type==="week"?1:a},mapping:function(c,u){return t.intervals("day",c,t.date(u)).map(function(l){var f=t.date(l),d=f.endOf("year").week(),h=0;switch(r.type){case"month":h=t.getMonthWeekNumber(l)-1;break;case"year":d===1&&f.week()===d&&(h=f.subtract(1,"week").week()+1),h=f.week()-1;break;case"week":h=f.weekday();break}return{t:l,y:h,x:r.type==="week"?0:f.weekday()}})},extractUnit:function(c){return t.date(c).startOf("day").valueOf()}}},jbe=function(t){var n=7,r=["month"];return{name:"ghDay",allowedDomainType:r,rowsCount:function(){return n},columnsCount:function(a){return t.getWeeksCountInMonth(a)},mapping:function(a,o){var s=t.getFirstWeekOfMonth(a),c=t.getFirstWeekOfMonth(o),u=-1,l=s.weekday();return t.intervals("day",s,c).map(function(f){var d=t.date(f).weekday();return d===l&&(u+=1),{t:f,x:u,y:d}})},extractUnit:function(a){return t.date(a).startOf("day").valueOf()}}},Wbe=function(t,n){var r=n.domain,i=["year","month"];return{name:"week",allowedDomainType:i,rowsCount:function(){return 1},columnsCount:function(o){switch(r.type){case"year":return r.dynamicDimension?t.date(o).endOf("year").isoWeeksInYear():53;case"month":return r.dynamicDimension?t.getWeeksCountInMonth(o):5;default:return 1}},mapping:function(o,s){var c=t.getFirstWeekOfMonth(o),u=t.getFirstWeekOfMonth(s);return t.intervals("week",c,u).map(function(l,f){return{t:l,x:f,y:0}})},extractUnit:function(o){return t.date(o).startOf("week").valueOf()}}},Xbe=function(t){var n=["year"];return{name:"month",allowedDomainType:n,rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(i,a){return t.intervals("month",i,t.date(a)).map(function(o){return{t:o,x:t.date(o).month(),y:0}})},extractUnit:function(i){return t.date(i).startOf("month").valueOf()}}},Ybe=function(t){var n=[];return{name:"year",allowedDomainType:n,rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(i,a){return t.intervals("year",i,t.date(a)).map(function(o,s){return{t:o,x:s,y:0}})},extractUnit:function(i){return t.date(i).startOf("year").valueOf()}}},qbe=[zbe,Hbe,Gbe,Vbe,jbe,Wbe,Xbe,Ybe],Kbe=function(){function e(t,n){An(this,e),this.settings=new Map,this.dateHelper=t,this.options=n,this.initiated=!1}return Pn(e,[{key:"get",value:function(n){return this.settings.get(n)}},{key:"has",value:function(n){return this.settings.has(n)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(qbe))}},{key:"add",value:function(n){var r=this;this.init();var i=[];hg(n).forEach(function(a){var o=a(r.dateHelper,r.options.options);r.settings.set(o.name,o),o.hasOwnProperty("parent")&&i.push(o.name)}),i.forEach(function(a){var o=r.settings.get(r.settings.get(a).parent);o&&r.settings.set(a,Object.assign(Object.assign({},o),r.settings.get(a)))})}}]),e}(),fp=function(){function e(){An(this,e),this.options=new O$e,this.dateHelper=new Tbe,this.templateCollection=new Kbe(this.dateHelper,this.options),this.dataFetcher=new W1e(this),this.navigator=new She(this),this.populator=new Lge(this),this.calendarPainter=new Ave(this),this.eventEmitter=new Tfe,this.pluginManager=new kbe(this)}return Pn(e,[{key:"createDomainCollection",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return new eR(this.dateHelper,this.options.options.domain.type,n,r,i)}},{key:"paint",value:function(n,r){return q2(this,void 0,void 0,ts().mark(function i(){return ts().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.options.init(n),o.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),o.prev=4,Dbe(this.templateCollection,this.options.options),o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(4),o.abrupt("return",Promise.reject(o.t0));case 11:return r&&this.pluginManager.add(hg(r)),this.calendarPainter.setup(),this.domainCollection=new eR(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),o.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return o.stop()}},i,this,[[4,8]])}))}},{key:"addTemplates",value:function(n){this.templateCollection.add(n)}},{key:"next",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,n+1).slice(n),Vt.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(r),this.fill()])}},{key:"previous",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-n),Vt.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(r),this.fill()])}},{key:"jumpTo",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(n,r)),this.fill()])}},{key:"fill",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.options.data.source,i=this.options.options,a=this.templateCollection,o=this.dateHelper.intervals(i.domain.type,this.domainCollection.max,2)[1],s=this.dataFetcher.getDatas(r,this.domainCollection.min,o);return new Promise(function(c,u){s.then(function(l){n.domainCollection.fill(l,i.data,a.get(i.subDomain.type).extractUnit),n.populator.populate(),c(null)},function(l){u(l)})})}},{key:"on",value:function(n,r){this.eventEmitter.on(n,r)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(n){return this.dateHelper.extend(n)}}]),e}();fp.VERSION=Bbe;var Hn="top",$r="bottom",br="right",Gn="left",$T="auto",Sf=[Hn,$r,br,Gn],Kc="start",Vl="end",Zbe="clippingParents",CB="viewport",Uu="popper",Jbe="reference",oI=Sf.reduce(function(e,t){return e.concat([t+"-"+Kc,t+"-"+Vl])},[]),RB=[].concat(Sf,[$T]).reduce(function(e,t){return e.concat([t,t+"-"+Kc,t+"-"+Vl])},[]),Qbe="beforeRead",eSe="read",tSe="afterRead",nSe="beforeMain",rSe="main",iSe="afterMain",aSe="beforeWrite",oSe="write",sSe="afterWrite",cSe=[Qbe,eSe,tSe,nSe,rSe,iSe,aSe,oSe,sSe];function Si(e){return e?(e.nodeName||"").toLowerCase():null}function sr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function as(e){var t=sr(e).Element;return e instanceof t||e instanceof Element}function _r(e){var t=sr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function bT(e){if(typeof ShadowRoot>"u")return!1;var t=sr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uSe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!_r(a)||!Si(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function lSe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(c,u){return c[u]="",c},{});!_r(i)||!Si(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const fSe={name:"applyStyles",enabled:!0,phase:"write",fn:uSe,effect:lSe,requires:["computeStyles"]};function vi(e){return e.split("-")[0]}var Xo=Math.max,_v=Math.min,Zc=Math.round;function PS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function IB(){return!/^((?!chrome|android).)*safari/i.test(PS())}function Jc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&_r(e)&&(i=e.offsetWidth>0&&Zc(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Zc(r.height)/e.offsetHeight||1);var o=as(e)?sr(e):window,s=o.visualViewport,c=!IB()&&n,u=(r.left+(c&&s?s.offsetLeft:0))/i,l=(r.top+(c&&s?s.offsetTop:0))/a,f=r.width/i,d=r.height/a;return{width:f,height:d,top:l,right:u+f,bottom:l+d,left:u,x:u,y:l}}function ST(e){var t=Jc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function OB(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&bT(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sa(e){return sr(e).getComputedStyle(e)}function dSe(e){return["table","td","th"].indexOf(Si(e))>=0}function co(e){return((as(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pg(e){return Si(e)==="html"?e:e.assignedSlot||e.parentNode||(bT(e)?e.host:null)||co(e)}function sI(e){return!_r(e)||sa(e).position==="fixed"?null:e.offsetParent}function hSe(e){var t=/firefox/i.test(PS()),n=/Trident/i.test(PS());if(n&&_r(e)){var r=sa(e);if(r.position==="fixed")return null}var i=Pg(e);for(bT(i)&&(i=i.host);_r(i)&&["html","body"].indexOf(Si(i))<0;){var a=sa(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function xf(e){for(var t=sr(e),n=sI(e);n&&dSe(n)&&sa(n).position==="static";)n=sI(n);return n&&(Si(n)==="html"||Si(n)==="body"&&sa(n).position==="static")?t:n||hSe(e)||t}function xT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $l(e,t,n){return Xo(e,_v(t,n))}function pSe(e,t,n){var r=$l(e,t,n);return r>n?n:r}function DB(){return{top:0,right:0,bottom:0,left:0}}function LB(e){return Object.assign({},DB(),e)}function NB(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var vSe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,LB(typeof t!="number"?t:NB(t,Sf))};function mSe(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=vi(n.placement),c=xT(s),u=[Gn,br].indexOf(s)>=0,l=u?"height":"width";if(!(!a||!o)){var f=vSe(i.padding,n),d=ST(a),h=c==="y"?Hn:Gn,m=c==="y"?$r:br,g=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],p=o[c]-n.rects.reference[c],v=xf(a),y=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-p/2,S=f[h],O=y-d[l]-f[m],M=y/2-d[l]/2+_,P=$l(S,M,O),D=c;n.modifiersData[r]=(t={},t[D]=P,t.centerOffset=P-M,t)}}function gSe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||OB(t.elements.popper,i)&&(t.elements.arrow=i))}const _Se={name:"arrow",enabled:!0,phase:"main",fn:mSe,effect:gSe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qc(e){return e.split("-")[1]}var ySe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $Se(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Zc(n*i)/i||0,y:Zc(r*i)/i||0}}function cI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,m=o.y,g=m===void 0?0:m,p=typeof l=="function"?l({x:h,y:g}):{x:h,y:g};h=p.x,g=p.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),_=Gn,S=Hn,O=window;if(u){var M=xf(n),P="clientHeight",D="clientWidth";if(M===sr(n)&&(M=co(n),sa(M).position!=="static"&&s==="absolute"&&(P="scrollHeight",D="scrollWidth")),M=M,i===Hn||(i===Gn||i===br)&&a===Vl){S=$r;var X=f&&M===O&&O.visualViewport?O.visualViewport.height:M[P];g-=X-r.height,g*=c?1:-1}if(i===Gn||(i===Hn||i===$r)&&a===Vl){_=br;var $=f&&M===O&&O.visualViewport?O.visualViewport.width:M[D];h-=$-r.width,h*=c?1:-1}}var b=Object.assign({position:s},u&&ySe),I=l===!0?$Se({x:h,y:g},sr(n)):{x:h,y:g};if(h=I.x,g=I.y,c){var T;return Object.assign({},b,(T={},T[S]=y?"0":"",T[_]=v?"0":"",T.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",T))}return Object.assign({},b,(t={},t[S]=y?g+"px":"",t[_]=v?h+"px":"",t.transform="",t))}function bSe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,c=s===void 0?!0:s,u={placement:vi(t.placement),variation:Qc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,cI(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,cI(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const SSe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bSe,data:{}};var Pd={passive:!0};function xSe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,c=sr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(l){l.addEventListener("scroll",n.update,Pd)}),s&&c.addEventListener("resize",n.update,Pd),function(){a&&u.forEach(function(l){l.removeEventListener("scroll",n.update,Pd)}),s&&c.removeEventListener("resize",n.update,Pd)}}const wSe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xSe,data:{}};var ESe={left:"right",right:"left",bottom:"top",top:"bottom"};function dp(e){return e.replace(/left|right|bottom|top/g,function(t){return ESe[t]})}var TSe={start:"end",end:"start"};function uI(e){return e.replace(/start|end/g,function(t){return TSe[t]})}function wT(e){var t=sr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ET(e){return Jc(co(e)).left+wT(e).scrollLeft}function MSe(e,t){var n=sr(e),r=co(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;var u=IB();(u||!u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s+ET(e),y:c}}function ASe(e){var t,n=co(e),r=wT(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Xo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ET(e),c=-r.scrollTop;return sa(i||n).direction==="rtl"&&(s+=Xo(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:c}}function TT(e){var t=sa(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function UB(e){return["html","body","#document"].indexOf(Si(e))>=0?e.ownerDocument.body:_r(e)&&TT(e)?e:UB(Pg(e))}function bl(e,t){var n;t===void 0&&(t=[]);var r=UB(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=sr(r),o=i?[a].concat(a.visualViewport||[],TT(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(bl(Pg(o)))}function CS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function PSe(e,t){var n=Jc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function lI(e,t,n){return t===CB?CS(MSe(e,n)):as(t)?PSe(t,n):CS(ASe(co(e)))}function CSe(e){var t=bl(Pg(e)),n=["absolute","fixed"].indexOf(sa(e).position)>=0,r=n&&_r(e)?xf(e):e;return as(r)?t.filter(function(i){return as(i)&&OB(i,r)&&Si(i)!=="body"}):[]}function RSe(e,t,n,r){var i=t==="clippingParents"?CSe(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce(function(c,u){var l=lI(e,u,r);return c.top=Xo(l.top,c.top),c.right=_v(l.right,c.right),c.bottom=_v(l.bottom,c.bottom),c.left=Xo(l.left,c.left),c},lI(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function FB(e){var t=e.reference,n=e.element,r=e.placement,i=r?vi(r):null,a=r?Qc(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(i){case Hn:c={x:o,y:t.y-n.height};break;case $r:c={x:o,y:t.y+t.height};break;case br:c={x:t.x+t.width,y:s};break;case Gn:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var u=i?xT(i):null;if(u!=null){var l=u==="y"?"height":"width";switch(a){case Kc:c[u]=c[u]-(t[l]/2-n[l]/2);break;case Vl:c[u]=c[u]+(t[l]/2-n[l]/2);break}}return c}function jl(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,o=a===void 0?e.strategy:a,s=n.boundary,c=s===void 0?Zbe:s,u=n.rootBoundary,l=u===void 0?CB:u,f=n.elementContext,d=f===void 0?Uu:f,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,p=g===void 0?0:g,v=LB(typeof p!="number"?p:NB(p,Sf)),y=d===Uu?Jbe:Uu,_=e.rects.popper,S=e.elements[m?y:d],O=RSe(as(S)?S:S.contextElement||co(e.elements.popper),c,l,o),M=Jc(e.elements.reference),P=FB({reference:M,element:_,strategy:"absolute",placement:i}),D=CS(Object.assign({},_,P)),X=d===Uu?D:M,$={top:O.top-X.top+v.top,bottom:X.bottom-O.bottom+v.bottom,left:O.left-X.left+v.left,right:X.right-O.right+v.right},b=e.modifiersData.offset;if(d===Uu&&b){var I=b[i];Object.keys($).forEach(function(T){var E=[br,$r].indexOf(T)>=0?1:-1,A=[Hn,$r].indexOf(T)>=0?"y":"x";$[T]+=I[A]*E})}return $}function ISe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?RB:c,l=Qc(r),f=l?s?oI:oI.filter(function(m){return Qc(m)===l}):Sf,d=f.filter(function(m){return u.indexOf(m)>=0});d.length===0&&(d=f);var h=d.reduce(function(m,g){return m[g]=jl(e,{placement:g,boundary:i,rootBoundary:a,padding:o})[vi(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function OSe(e){if(vi(e)===$T)return[];var t=dp(e);return[uI(e),t,uI(t)]}function DSe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,p=t.options.placement,v=vi(p),y=v===p,_=c||(y||!m?[dp(p)]:OSe(p)),S=[p].concat(_).reduce(function(j,Z){return j.concat(vi(Z)===$T?ISe(t,{placement:Z,boundary:l,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:g}):Z)},[]),O=t.rects.reference,M=t.rects.popper,P=new Map,D=!0,X=S[0],$=0;$<S.length;$++){var b=S[$],I=vi(b),T=Qc(b)===Kc,E=[Hn,$r].indexOf(I)>=0,A=E?"width":"height",x=jl(t,{placement:b,boundary:l,rootBoundary:f,altBoundary:d,padding:u}),N=E?T?br:Gn:T?$r:Hn;O[A]>M[A]&&(N=dp(N));var R=dp(N),F=[];if(a&&F.push(x[I]<=0),s&&F.push(x[N]<=0,x[R]<=0),F.every(function(j){return j})){X=b,D=!1;break}P.set(b,F)}if(D)for(var k=m?3:1,ee=function(Z){var _e=S.find(function(he){var we=P.get(he);if(we)return we.slice(0,Z).every(function(Q){return Q})});if(_e)return X=_e,"break"},de=k;de>0;de--){var ge=ee(de);if(ge==="break")break}t.placement!==X&&(t.modifiersData[r]._skip=!0,t.placement=X,t.reset=!0)}}const LSe={name:"flip",enabled:!0,phase:"main",fn:DSe,requiresIfExists:["offset"],data:{_skip:!1}};function fI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function dI(e){return[Hn,br,$r,Gn].some(function(t){return e[t]>=0})}function NSe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=jl(t,{elementContext:"reference"}),s=jl(t,{altBoundary:!0}),c=fI(o,r),u=fI(s,i,a),l=dI(c),f=dI(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}const USe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NSe};function FSe(e,t,n){var r=vi(e),i=[Gn,Hn].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Gn,br].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function kSe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=RB.reduce(function(l,f){return l[f]=FSe(f,t.rects,a),l},{}),s=o[t.placement],c=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const BSe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kSe};function zSe(e){var t=e.state,n=e.name;t.modifiersData[n]=FB({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const HSe={name:"popperOffsets",enabled:!0,phase:"read",fn:zSe,data:{}};function GSe(e){return e==="x"?"y":"x"}function VSe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,m=n.tetherOffset,g=m===void 0?0:m,p=jl(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:l}),v=vi(t.placement),y=Qc(t.placement),_=!y,S=xT(v),O=GSe(S),M=t.modifiersData.popperOffsets,P=t.rects.reference,D=t.rects.popper,X=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,$=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),b=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(M){if(a){var T,E=S==="y"?Hn:Gn,A=S==="y"?$r:br,x=S==="y"?"height":"width",N=M[S],R=N+p[E],F=N-p[A],k=h?-D[x]/2:0,ee=y===Kc?P[x]:D[x],de=y===Kc?-D[x]:-P[x],ge=t.elements.arrow,j=h&&ge?ST(ge):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:DB(),_e=Z[E],he=Z[A],we=$l(0,P[x],j[x]),Q=_?P[x]/2-k-we-_e-$.mainAxis:ee-we-_e-$.mainAxis,se=_?-P[x]/2+k+we+he+$.mainAxis:de+we+he+$.mainAxis,me=t.elements.arrow&&xf(t.elements.arrow),K=me?S==="y"?me.clientTop||0:me.clientLeft||0:0,U=(T=b==null?void 0:b[S])!=null?T:0,ue=N+Q-U-K,pe=N+se-U,ye=$l(h?_v(R,ue):R,N,h?Xo(F,pe):F);M[S]=ye,I[S]=ye-N}if(s){var ve,He=S==="x"?Hn:Gn,Ne=S==="x"?$r:br,L=M[O],w=O==="y"?"height":"width",H=L+p[He],ie=L-p[Ne],ce=[Hn,Gn].indexOf(v)!==-1,ae=(ve=b==null?void 0:b[O])!=null?ve:0,Ae=ce?H:L-P[w]-D[w]-ae+$.altAxis,Se=ce?L+P[w]+D[w]-ae-$.altAxis:ie,xe=h&&ce?pSe(Ae,L,Se):$l(h?Ae:H,L,h?Se:ie);M[O]=xe,I[O]=xe-L}t.modifiersData[r]=I}}const jSe={name:"preventOverflow",enabled:!0,phase:"main",fn:VSe,requiresIfExists:["offset"]};function WSe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function XSe(e){return e===sr(e)||!_r(e)?wT(e):WSe(e)}function YSe(e){var t=e.getBoundingClientRect(),n=Zc(t.width)/e.offsetWidth||1,r=Zc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function qSe(e,t,n){n===void 0&&(n=!1);var r=_r(t),i=_r(t)&&YSe(t),a=co(t),o=Jc(e,i,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Si(t)!=="body"||TT(a))&&(s=XSe(t)),_r(t)?(c=Jc(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=ET(a))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function KSe(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var c=t.get(s);c&&i(c)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function ZSe(e){var t=KSe(e);return cSe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function JSe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function QSe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var hI={placement:"bottom",modifiers:[],strategy:"absolute"};function pI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function exe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?hI:i;return function(s,c,u){u===void 0&&(u=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},hI,a),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],d=!1,h={state:l,setOptions:function(v){var y=typeof v=="function"?v(l.options):v;g(),l.options=Object.assign({},a,l.options,y),l.scrollParents={reference:as(s)?bl(s):s.contextElement?bl(s.contextElement):[],popper:bl(c)};var _=ZSe(QSe([].concat(r,l.options.modifiers)));return l.orderedModifiers=_.filter(function(S){return S.enabled}),m(),h.update()},forceUpdate:function(){if(!d){var v=l.elements,y=v.reference,_=v.popper;if(pI(y,_)){l.rects={reference:qSe(y,xf(_),l.options.strategy==="fixed"),popper:ST(_)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function($){return l.modifiersData[$.name]=Object.assign({},$.data)});for(var S=0;S<l.orderedModifiers.length;S++){if(l.reset===!0){l.reset=!1,S=-1;continue}var O=l.orderedModifiers[S],M=O.fn,P=O.options,D=P===void 0?{}:P,X=O.name;typeof M=="function"&&(l=M({state:l,options:D,name:X,instance:h})||l)}}}},update:JSe(function(){return new Promise(function(p){h.forceUpdate(),p(l)})}),destroy:function(){g(),d=!0}};if(!pI(s,c))return h;h.setOptions(u).then(function(p){!d&&u.onFirstUpdate&&u.onFirstUpdate(p)});function m(){l.orderedModifiers.forEach(function(p){var v=p.name,y=p.options,_=y===void 0?{}:y,S=p.effect;if(typeof S=="function"){var O=S({state:l,name:v,instance:h,options:_}),M=function(){};f.push(O||M)}})}function g(){f.forEach(function(p){return p()}),f=[]}return h}}var txe=[wSe,HSe,SSe,fSe,BSe,LSe,jSe,_Se,USe],nxe=exe({defaultModifiers:txe});function rxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ixe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fxe(r.key),r)}}function axe(e,t,n){return t&&ixe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vI(e){return oxe(e)||sxe(e)||cxe(e)||uxe()}function oxe(e){if(Array.isArray(e))return RS(e)}function sxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cxe(e,t){if(e){if(typeof e=="string")return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(e,t)}}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fxe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:String(t)}var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fu=function(e){return e&&e.Math===Math&&e},hn=Fu(typeof globalThis=="object"&&globalThis)||Fu(typeof window=="object"&&window)||Fu(typeof self=="object"&&self)||Fu(typeof Cd=="object"&&Cd)||Fu(typeof Cd=="object"&&Cd)||function(){return this}()||Function("return this")(),Cg={},en=function(e){try{return!!e()}catch{return!0}},dxe=en,xr=!dxe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),hxe=en,Rg=!hxe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),pxe=Rg,Rd=Function.prototype.call,wr=pxe?Rd.bind(Rd):function(){return Rd.apply(Rd,arguments)},MT={},kB={}.propertyIsEnumerable,BB=Object.getOwnPropertyDescriptor,vxe=BB&&!kB.call({1:2},1);MT.f=vxe?function(t){var n=BB(this,t);return!!n&&n.enumerable}:kB;var Ig=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},zB=Rg,HB=Function.prototype,IS=HB.call,mxe=zB&&HB.bind.bind(IS,IS),Yt=zB?mxe:function(e){return function(){return IS.apply(e,arguments)}},GB=Yt,gxe=GB({}.toString),_xe=GB("".slice),Ts=function(e){return _xe(gxe(e),8,-1)},yxe=Yt,$xe=en,bxe=Ts,hy=Object,Sxe=yxe("".split),AT=$xe(function(){return!hy("z").propertyIsEnumerable(0)})?function(e){return bxe(e)==="String"?Sxe(e,""):hy(e)}:hy,vu=function(e){return e==null},xxe=vu,wxe=TypeError,PT=function(e){if(xxe(e))throw new wxe("Can't call method on "+e);return e},Exe=AT,Txe=PT,mu=function(e){return Exe(Txe(e))},OS=typeof document=="object"&&document.all,Mxe=typeof OS>"u"&&OS!==void 0,VB={all:OS,IS_HTMLDDA:Mxe},jB=VB,Axe=jB.all,Nt=jB.IS_HTMLDDA?function(e){return typeof e=="function"||e===Axe}:function(e){return typeof e=="function"},mI=Nt,WB=VB,Pxe=WB.all,Ln=WB.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:mI(e)||e===Pxe}:function(e){return typeof e=="object"?e!==null:mI(e)},py=hn,Cxe=Nt,Rxe=function(e){return Cxe(e)?e:void 0},Ms=function(e,t){return arguments.length<2?Rxe(py[e]):py[e]&&py[e][t]},Ixe=Yt,CT=Ixe({}.isPrototypeOf),Og=typeof navigator<"u"&&String(navigator.userAgent)||"",XB=hn,vy=Og,gI=XB.process,_I=XB.Deno,yI=gI&&gI.versions||_I&&_I.version,$I=yI&&yI.v8,Ur,yv;$I&&(Ur=$I.split("."),yv=Ur[0]>0&&Ur[0]<4?1:+(Ur[0]+Ur[1]));!yv&&vy&&(Ur=vy.match(/Edge\/(\d+)/),(!Ur||Ur[1]>=74)&&(Ur=vy.match(/Chrome\/(\d+)/),Ur&&(yv=+Ur[1])));var Dg=yv,bI=Dg,Oxe=en,Dxe=hn,Lxe=Dxe.String,YB=!!Object.getOwnPropertySymbols&&!Oxe(function(){var e=Symbol("symbol detection");return!Lxe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&bI&&bI<41}),Nxe=YB,qB=Nxe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Uxe=Ms,Fxe=Nt,kxe=CT,Bxe=qB,zxe=Object,KB=Bxe?function(e){return typeof e=="symbol"}:function(e){var t=Uxe("Symbol");return Fxe(t)&&kxe(t.prototype,zxe(e))},Hxe=String,Lg=function(e){try{return Hxe(e)}catch{return"Object"}},Gxe=Nt,Vxe=Lg,jxe=TypeError,uo=function(e){if(Gxe(e))return e;throw new jxe(Vxe(e)+" is not a function")},Wxe=uo,Xxe=vu,RT=function(e,t){var n=e[t];return Xxe(n)?void 0:Wxe(n)},my=wr,gy=Nt,_y=Ln,Yxe=TypeError,qxe=function(e,t){var n,r;if(t==="string"&&gy(n=e.toString)&&!_y(r=my(n,e))||gy(n=e.valueOf)&&!_y(r=my(n,e))||t!=="string"&&gy(n=e.toString)&&!_y(r=my(n,e)))return r;throw new Yxe("Can't convert object to primitive value")},ZB={exports:{}},SI=hn,Kxe=Object.defineProperty,IT=function(e,t){try{Kxe(SI,e,{value:t,configurable:!0,writable:!0})}catch{SI[e]=t}return t},Zxe=hn,Jxe=IT,xI="__core-js_shared__",Qxe=Zxe[xI]||Jxe(xI,{}),OT=Qxe,wI=OT;(ZB.exports=function(e,t){return wI[e]||(wI[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var JB=ZB.exports,ewe=PT,twe=Object,wf=function(e){return twe(ewe(e))},nwe=Yt,rwe=wf,iwe=nwe({}.hasOwnProperty),Er=Object.hasOwn||function(t,n){return iwe(rwe(t),n)},awe=Yt,owe=0,swe=Math.random(),cwe=awe(1 .toString),DT=function(e){return"Symbol("+(e===void 0?"":e)+")_"+cwe(++owe+swe,36)},uwe=hn,lwe=JB,EI=Er,fwe=DT,dwe=YB,hwe=qB,Tc=uwe.Symbol,yy=lwe("wks"),pwe=hwe?Tc.for||Tc:Tc&&Tc.withoutSetter||fwe,_n=function(e){return EI(yy,e)||(yy[e]=dwe&&EI(Tc,e)?Tc[e]:pwe("Symbol."+e)),yy[e]},vwe=wr,TI=Ln,MI=KB,mwe=RT,gwe=qxe,_we=_n,ywe=TypeError,$we=_we("toPrimitive"),bwe=function(e,t){if(!TI(e)||MI(e))return e;var n=mwe(e,$we),r;if(n){if(t===void 0&&(t="default"),r=vwe(n,e,t),!TI(r)||MI(r))return r;throw new ywe("Can't convert object to primitive value")}return t===void 0&&(t="number"),gwe(e,t)},Swe=bwe,xwe=KB,LT=function(e){var t=Swe(e,"string");return xwe(t)?t:t+""},wwe=hn,AI=Ln,DS=wwe.document,Ewe=AI(DS)&&AI(DS.createElement),Ng=function(e){return Ewe?DS.createElement(e):{}},Twe=xr,Mwe=en,Awe=Ng,QB=!Twe&&!Mwe(function(){return Object.defineProperty(Awe("div"),"a",{get:function(){return 7}}).a!==7}),Pwe=xr,Cwe=wr,Rwe=MT,Iwe=Ig,Owe=mu,Dwe=LT,Lwe=Er,Nwe=QB,PI=Object.getOwnPropertyDescriptor;Cg.f=Pwe?PI:function(t,n){if(t=Owe(t),n=Dwe(n),Nwe)try{return PI(t,n)}catch{}if(Lwe(t,n))return Iwe(!Cwe(Rwe.f,t,n),t[n])};var Kr={},Uwe=xr,Fwe=en,e7=Uwe&&Fwe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),kwe=Ln,Bwe=String,zwe=TypeError,Zr=function(e){if(kwe(e))return e;throw new zwe(Bwe(e)+" is not an object")},Hwe=xr,Gwe=QB,Vwe=e7,Id=Zr,CI=LT,jwe=TypeError,$y=Object.defineProperty,Wwe=Object.getOwnPropertyDescriptor,by="enumerable",Sy="configurable",xy="writable";Kr.f=Hwe?Vwe?function(t,n,r){if(Id(t),n=CI(n),Id(r),typeof t=="function"&&n==="prototype"&&"value"in r&&xy in r&&!r[xy]){var i=Wwe(t,n);i&&i[xy]&&(t[n]=r.value,r={configurable:Sy in r?r[Sy]:i[Sy],enumerable:by in r?r[by]:i[by],writable:!1})}return $y(t,n,r)}:$y:function(t,n,r){if(Id(t),n=CI(n),Id(r),Gwe)try{return $y(t,n,r)}catch{}if("get"in r||"set"in r)throw new jwe("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var Xwe=xr,Ywe=Kr,qwe=Ig,Ug=Xwe?function(e,t,n){return Ywe.f(e,t,qwe(1,n))}:function(e,t,n){return e[t]=n,e},t7={exports:{}},LS=xr,Kwe=Er,n7=Function.prototype,Zwe=LS&&Object.getOwnPropertyDescriptor,NT=Kwe(n7,"name"),Jwe=NT&&(function(){}).name==="something",Qwe=NT&&(!LS||LS&&Zwe(n7,"name").configurable),UT={EXISTS:NT,PROPER:Jwe,CONFIGURABLE:Qwe},eEe=Yt,tEe=Nt,NS=OT,nEe=eEe(Function.toString);tEe(NS.inspectSource)||(NS.inspectSource=function(e){return nEe(e)});var FT=NS.inspectSource,rEe=hn,iEe=Nt,RI=rEe.WeakMap,aEe=iEe(RI)&&/native code/.test(String(RI)),oEe=JB,sEe=DT,II=oEe("keys"),kT=function(e){return II[e]||(II[e]=sEe(e))},Fg={},cEe=aEe,r7=hn,uEe=Ln,lEe=Ug,wy=Er,Ey=OT,fEe=kT,dEe=Fg,OI="Object already initialized",US=r7.TypeError,hEe=r7.WeakMap,$v,Wl,bv,pEe=function(e){return bv(e)?Wl(e):$v(e,{})},vEe=function(e){return function(t){var n;if(!uEe(t)||(n=Wl(t)).type!==e)throw new US("Incompatible receiver, "+e+" required");return n}};if(cEe||Ey.state){var ri=Ey.state||(Ey.state=new hEe);ri.get=ri.get,ri.has=ri.has,ri.set=ri.set,$v=function(e,t){if(ri.has(e))throw new US(OI);return t.facade=e,ri.set(e,t),t},Wl=function(e){return ri.get(e)||{}},bv=function(e){return ri.has(e)}}else{var Gs=fEe("state");dEe[Gs]=!0,$v=function(e,t){if(wy(e,Gs))throw new US(OI);return t.facade=e,lEe(e,Gs,t),t},Wl=function(e){return wy(e,Gs)?e[Gs]:{}},bv=function(e){return wy(e,Gs)}}var Ef={set:$v,get:Wl,has:bv,enforce:pEe,getterFor:vEe},BT=Yt,mEe=en,gEe=Nt,Od=Er,FS=xr,_Ee=UT.CONFIGURABLE,yEe=FT,i7=Ef,$Ee=i7.enforce,bEe=i7.get,DI=String,hp=Object.defineProperty,SEe=BT("".slice),xEe=BT("".replace),wEe=BT([].join),EEe=FS&&!mEe(function(){return hp(function(){},"length",{value:8}).length!==8}),TEe=String(String).split("String"),MEe=t7.exports=function(e,t,n){SEe(DI(t),0,7)==="Symbol("&&(t="["+xEe(DI(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Od(e,"name")||_Ee&&e.name!==t)&&(FS?hp(e,"name",{value:t,configurable:!0}):e.name=t),EEe&&n&&Od(n,"arity")&&e.length!==n.arity&&hp(e,"length",{value:n.arity});try{n&&Od(n,"constructor")&&n.constructor?FS&&hp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=$Ee(e);return Od(r,"source")||(r.source=wEe(TEe,typeof t=="string"?t:"")),e};Function.prototype.toString=MEe(function(){return gEe(this)&&bEe(this).source||yEe(this)},"toString");var a7=t7.exports,AEe=Nt,PEe=Kr,CEe=a7,REe=IT,lo=function(e,t,n,r){r||(r={});var i=r.enumerable,a=r.name!==void 0?r.name:t;if(AEe(n)&&CEe(n,a,r),r.global)i?e[t]=n:REe(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=n:PEe.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},kg={},IEe=Math.ceil,OEe=Math.floor,DEe=Math.trunc||function(t){var n=+t;return(n>0?OEe:IEe)(n)},LEe=DEe,zT=function(e){var t=+e;return t!==t||t===0?0:LEe(t)},NEe=zT,UEe=Math.max,FEe=Math.min,o7=function(e,t){var n=NEe(e);return n<0?UEe(n+t,0):FEe(n,t)},kEe=zT,BEe=Math.min,zEe=function(e){return e>0?BEe(kEe(e),9007199254740991):0},HEe=zEe,Tf=function(e){return HEe(e.length)},GEe=mu,VEe=o7,jEe=Tf,LI=function(e){return function(t,n,r){var i=GEe(t),a=jEe(i),o=VEe(r,a),s;if(e&&n!==n){for(;a>o;)if(s=i[o++],s!==s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},WEe={includes:LI(!0),indexOf:LI(!1)},XEe=Yt,Ty=Er,YEe=mu,qEe=WEe.indexOf,KEe=Fg,NI=XEe([].push),s7=function(e,t){var n=YEe(e),r=0,i=[],a;for(a in n)!Ty(KEe,a)&&Ty(n,a)&&NI(i,a);for(;t.length>r;)Ty(n,a=t[r++])&&(~qEe(i,a)||NI(i,a));return i},HT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ZEe=s7,JEe=HT,QEe=JEe.concat("length","prototype");kg.f=Object.getOwnPropertyNames||function(t){return ZEe(t,QEe)};var GT={};GT.f=Object.getOwnPropertySymbols;var e2e=Ms,t2e=Yt,n2e=kg,r2e=GT,i2e=Zr,a2e=t2e([].concat),o2e=e2e("Reflect","ownKeys")||function(t){var n=n2e.f(i2e(t)),r=r2e.f;return r?a2e(n,r(t)):n},UI=Er,s2e=o2e,c2e=Cg,u2e=Kr,l2e=function(e,t,n){for(var r=s2e(t),i=u2e.f,a=c2e.f,o=0;o<r.length;o++){var s=r[o];!UI(e,s)&&!(n&&UI(n,s))&&i(e,s,a(t,s))}},f2e=en,d2e=Nt,h2e=/#|\.prototype\./,Mf=function(e,t){var n=v2e[p2e(e)];return n===g2e?!0:n===m2e?!1:d2e(t)?f2e(t):!!t},p2e=Mf.normalize=function(e){return String(e).replace(h2e,".").toLowerCase()},v2e=Mf.data={},m2e=Mf.NATIVE="N",g2e=Mf.POLYFILL="P",VT=Mf,My=hn,_2e=Cg.f,y2e=Ug,$2e=lo,b2e=IT,S2e=l2e,x2e=VT,Jr=function(e,t){var n=e.target,r=e.global,i=e.stat,a,o,s,c,u,l;if(r?o=My:i?o=My[n]||b2e(n,{}):o=(My[n]||{}).prototype,o)for(s in t){if(u=t[s],e.dontCallGetSet?(l=_2e(o,s),c=l&&l.value):c=o[s],a=x2e(r?s:n+(i?".":"#")+s,e.forced),!a&&c!==void 0){if(typeof u==typeof c)continue;S2e(u,c)}(e.sham||c&&c.sham)&&y2e(u,"sham",!0),$2e(o,s,u,e)}},w2e=Ts,c7=Array.isArray||function(t){return w2e(t)==="Array"},E2e=TypeError,T2e=9007199254740991,M2e=function(e){if(e>T2e)throw E2e("Maximum allowed index exceeded");return e},A2e=LT,P2e=Kr,C2e=Ig,u7=function(e,t,n){var r=A2e(t);r in e?P2e.f(e,r,C2e(0,n)):e[r]=n},R2e=_n,I2e=R2e("toStringTag"),l7={};l7[I2e]="z";var jT=String(l7)==="[object z]",O2e=jT,D2e=Nt,pp=Ts,L2e=_n,N2e=L2e("toStringTag"),U2e=Object,F2e=pp(function(){return arguments}())==="Arguments",k2e=function(e,t){try{return e[t]}catch{}},Bg=O2e?pp:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=k2e(t=U2e(e),N2e))=="string"?n:F2e?pp(t):(r=pp(t))==="Object"&&D2e(t.callee)?"Arguments":r},B2e=Yt,z2e=en,f7=Nt,H2e=Bg,G2e=Ms,V2e=FT,d7=function(){},j2e=[],h7=G2e("Reflect","construct"),WT=/^\s*(?:class|function)\b/,W2e=B2e(WT.exec),X2e=!WT.test(d7),ku=function(t){if(!f7(t))return!1;try{return h7(d7,j2e,t),!0}catch{return!1}},p7=function(t){if(!f7(t))return!1;switch(H2e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X2e||!!W2e(WT,V2e(t))}catch{return!0}};p7.sham=!0;var v7=!h7||z2e(function(){var e;return ku(ku.call)||!ku(Object)||!ku(function(){e=!0})||e})?p7:ku,FI=c7,Y2e=v7,q2e=Ln,K2e=_n,Z2e=K2e("species"),kI=Array,J2e=function(e){var t;return FI(e)&&(t=e.constructor,Y2e(t)&&(t===kI||FI(t.prototype))?t=void 0:q2e(t)&&(t=t[Z2e],t===null&&(t=void 0))),t===void 0?kI:t},Q2e=J2e,m7=function(e,t){return new(Q2e(e))(t===0?0:t)},eTe=en,tTe=_n,nTe=Dg,rTe=tTe("species"),iTe=function(e){return nTe>=51||!eTe(function(){var t=[],n=t.constructor={};return n[rTe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},aTe=Jr,oTe=en,sTe=c7,cTe=Ln,uTe=wf,lTe=Tf,BI=M2e,zI=u7,fTe=m7,dTe=iTe,hTe=_n,pTe=Dg,g7=hTe("isConcatSpreadable"),vTe=pTe>=51||!oTe(function(){var e=[];return e[g7]=!1,e.concat()[0]!==e}),mTe=function(e){if(!cTe(e))return!1;var t=e[g7];return t!==void 0?!!t:sTe(e)},gTe=!vTe||!dTe("concat");aTe({target:"Array",proto:!0,arity:1,forced:gTe},{concat:function(t){var n=uTe(this),r=fTe(n,0),i=0,a,o,s,c,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?n:arguments[a],mTe(u))for(c=lTe(u),BI(i+c),o=0;o<c;o++,i++)o in u&&zI(r,i,u[o]);else BI(i+1),zI(r,i++,u);return r.length=i,r}});var HI=a7,_Te=Kr,_7=function(e,t,n){return n.get&&HI(n.get,t,{getter:!0}),n.set&&HI(n.set,t,{setter:!0}),_Te.f(e,t,n)},yTe=xr,$Te=UT.EXISTS,y7=Yt,bTe=_7,$7=Function.prototype,STe=y7($7.toString),b7=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,xTe=y7(b7.exec),wTe="name";yTe&&!$Te&&bTe($7,wTe,{configurable:!0,get:function(){try{return xTe(b7,STe(this))[1]}catch{return""}}});var ETe=s7,TTe=HT,S7=Object.keys||function(t){return ETe(t,TTe)},GI=xr,MTe=Yt,ATe=wr,PTe=en,Ay=S7,CTe=GT,RTe=MT,ITe=wf,OTe=AT,Vs=Object.assign,VI=Object.defineProperty,DTe=MTe([].concat),LTe=!Vs||PTe(function(){if(GI&&Vs({b:1},Vs(VI({},"a",{enumerable:!0,get:function(){VI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(i){t[i]=i}),Vs({},e)[n]!==7||Ay(Vs({},t)).join("")!==r})?function(t,n){for(var r=ITe(t),i=arguments.length,a=1,o=CTe.f,s=RTe.f;i>a;)for(var c=OTe(arguments[a++]),u=o?DTe(Ay(c),o(c)):Ay(c),l=u.length,f=0,d;l>f;)d=u[f++],(!GI||ATe(s,c,d))&&(r[d]=c[d]);return r}:Vs,NTe=Jr,jI=LTe;NTe({target:"Object",stat:!0,arity:2,forced:Object.assign!==jI},{assign:jI});var UTe=jT,FTe=Bg,kTe=UTe?{}.toString:function(){return"[object "+FTe(this)+"]"},BTe=jT,zTe=lo,HTe=kTe;BTe||zTe(Object.prototype,"toString",HTe,{unsafe:!0});var GTe=hn,VTe=Ts,zg=VTe(GTe.process)==="process",jTe=Yt,WTe=uo,XTe=function(e,t,n){try{return jTe(WTe(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}},YTe=Nt,qTe=String,KTe=TypeError,ZTe=function(e){if(typeof e=="object"||YTe(e))return e;throw new KTe("Can't set "+qTe(e)+" as a prototype")},JTe=XTe,QTe=Zr,eMe=ZTe,XT=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=JTe(Object.prototype,"__proto__","set"),n(t,[]),e=t instanceof Array}catch{}return function(i,a){return QTe(i),eMe(a),e?n(i,a):i.__proto__=a,i}}():void 0),tMe=Kr.f,nMe=Er,rMe=_n,WI=rMe("toStringTag"),Af=function(e,t,n){e&&!n&&(e=e.prototype),e&&!nMe(e,WI)&&tMe(e,WI,{configurable:!0,value:t})},iMe=Ms,aMe=_7,oMe=_n,sMe=xr,XI=oMe("species"),cMe=function(e){var t=iMe(e);sMe&&t&&!t[XI]&&aMe(t,XI,{configurable:!0,get:function(){return this}})},uMe=CT,lMe=TypeError,YT=function(e,t){if(uMe(t,e))return e;throw new lMe("Incorrect invocation")},fMe=v7,dMe=Lg,hMe=TypeError,pMe=function(e){if(fMe(e))return e;throw new hMe(dMe(e)+" is not a constructor")},YI=Zr,vMe=pMe,mMe=vu,gMe=_n,_Me=gMe("species"),yMe=function(e,t){var n=YI(e).constructor,r;return n===void 0||mMe(r=YI(n)[_Me])?t:vMe(r)},$Me=Rg,x7=Function.prototype,qI=x7.apply,KI=x7.call,bMe=typeof Reflect=="object"&&Reflect.apply||($Me?KI.bind(qI):function(){return KI.apply(qI,arguments)}),SMe=Ts,xMe=Yt,wMe=function(e){if(SMe(e)==="Function")return xMe(e)},ZI=wMe,EMe=uo,TMe=Rg,MMe=ZI(ZI.bind),Hg=function(e,t){return EMe(e),t===void 0?e:TMe?MMe(e,t):function(){return e.apply(t,arguments)}},AMe=Ms,w7=AMe("document","documentElement"),PMe=Yt,CMe=PMe([].slice),RMe=TypeError,IMe=function(e,t){if(e<t)throw new RMe("Not enough arguments");return e},OMe=Og,E7=/(?:ipad|iphone|ipod).*applewebkit/i.test(OMe),rr=hn,DMe=bMe,LMe=Hg,JI=Nt,NMe=Er,T7=en,QI=w7,UMe=CMe,eO=Ng,FMe=IMe,kMe=E7,BMe=zg,kS=rr.setImmediate,BS=rr.clearImmediate,zMe=rr.process,Py=rr.Dispatch,HMe=rr.Function,tO=rr.MessageChannel,GMe=rr.String,Cy=0,Sl={},nO="onreadystatechange",Xl,bo,Ry,Iy;T7(function(){Xl=rr.location});var qT=function(e){if(NMe(Sl,e)){var t=Sl[e];delete Sl[e],t()}},Oy=function(e){return function(){qT(e)}},rO=function(e){qT(e.data)},iO=function(e){rr.postMessage(GMe(e),Xl.protocol+"//"+Xl.host)};(!kS||!BS)&&(kS=function(t){FMe(arguments.length,1);var n=JI(t)?t:HMe(t),r=UMe(arguments,1);return Sl[++Cy]=function(){DMe(n,void 0,r)},bo(Cy),Cy},BS=function(t){delete Sl[t]},BMe?bo=function(e){zMe.nextTick(Oy(e))}:Py&&Py.now?bo=function(e){Py.now(Oy(e))}:tO&&!kMe?(Ry=new tO,Iy=Ry.port2,Ry.port1.onmessage=rO,bo=LMe(Iy.postMessage,Iy)):rr.addEventListener&&JI(rr.postMessage)&&!rr.importScripts&&Xl&&Xl.protocol!=="file:"&&!T7(iO)?(bo=iO,rr.addEventListener("message",rO,!1)):nO in eO("script")?bo=function(e){QI.appendChild(eO("script"))[nO]=function(){QI.removeChild(this),qT(e)}}:bo=function(e){setTimeout(Oy(e),0)});var M7={set:kS,clear:BS},A7=function(){this.head=null,this.tail=null};A7.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var P7=A7,VMe=Og,jMe=/ipad|iphone|ipod/i.test(VMe)&&typeof Pebble<"u",WMe=Og,XMe=/web0s(?!.*chrome)/i.test(WMe),os=hn,aO=Hg,YMe=Cg.f,Dy=M7.set,qMe=P7,KMe=E7,ZMe=jMe,JMe=XMe,Ly=zg,oO=os.MutationObserver||os.WebKitMutationObserver,sO=os.document,cO=os.process,Dd=os.Promise,uO=YMe(os,"queueMicrotask"),zS=uO&&uO.value,js,Ny,Uy,Ld,lO;if(!zS){var Nd=new qMe,Ud=function(){var e,t;for(Ly&&(e=cO.domain)&&e.exit();t=Nd.get();)try{t()}catch(n){throw Nd.head&&js(),n}e&&e.enter()};!KMe&&!Ly&&!JMe&&oO&&sO?(Ny=!0,Uy=sO.createTextNode(""),new oO(Ud).observe(Uy,{characterData:!0}),js=function(){Uy.data=Ny=!Ny}):!ZMe&&Dd&&Dd.resolve?(Ld=Dd.resolve(void 0),Ld.constructor=Dd,lO=aO(Ld.then,Ld),js=function(){lO(Ud)}):Ly?js=function(){cO.nextTick(Ud)}:(Dy=aO(Dy,os),js=function(){Dy(Ud)}),zS=function(e){Nd.head||js(),Nd.add(e)}}var QMe=zS,eAe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},KT=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},tAe=hn,Gg=tAe.Promise,C7=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",nAe=C7,rAe=zg,iAe=!nAe&&!rAe&&typeof window=="object"&&typeof document=="object",aAe=hn,xl=Gg,oAe=Nt,sAe=VT,cAe=FT,uAe=_n,lAe=iAe,fAe=C7,Fy=Dg;xl&&xl.prototype;var dAe=uAe("species"),HS=!1,R7=oAe(aAe.PromiseRejectionEvent),hAe=sAe("Promise",function(){var e=cAe(xl),t=e!==String(xl);if(!t&&Fy===66)return!0;if(!Fy||Fy<51||!/native code/.test(e)){var n=new xl(function(a){a(1)}),r=function(a){a(function(){},function(){})},i=n.constructor={};if(i[dAe]=r,HS=n.then(function(){})instanceof r,!HS)return!0}return!t&&(lAe||fAe)&&!R7}),Pf={CONSTRUCTOR:hAe,REJECTION_EVENT:R7,SUBCLASSING:HS},gu={},fO=uo,pAe=TypeError,vAe=function(e){var t,n;this.promise=new e(function(r,i){if(t!==void 0||n!==void 0)throw new pAe("Bad Promise constructor");t=r,n=i}),this.resolve=fO(t),this.reject=fO(n)};gu.f=function(e){return new vAe(e)};var mAe=Jr,Sv=zg,to=hn,eu=wr,dO=lo,hO=XT,gAe=Af,_Ae=cMe,yAe=uo,vp=Nt,$Ae=Ln,bAe=YT,SAe=yMe,I7=M7.set,ZT=QMe,xAe=eAe,wAe=KT,EAe=P7,O7=Ef,xv=Gg,JT=Pf,D7=gu,Vg="Promise",L7=JT.CONSTRUCTOR,TAe=JT.REJECTION_EVENT,MAe=JT.SUBCLASSING,ky=O7.getterFor(Vg),AAe=O7.set,$c=xv&&xv.prototype,Uo=xv,Fd=$c,N7=to.TypeError,GS=to.document,QT=to.process,VS=D7.f,PAe=VS,CAe=!!(GS&&GS.createEvent&&to.dispatchEvent),U7="unhandledrejection",RAe="rejectionhandled",pO=0,F7=1,IAe=2,eM=1,k7=2,kd,vO,OAe,mO,B7=function(e){var t;return $Ae(e)&&vp(t=e.then)?t:!1},z7=function(e,t){var n=t.value,r=t.state===F7,i=r?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain,c,u,l;try{i?(r||(t.rejection===k7&&LAe(t),t.rejection=eM),i===!0?c=n:(s&&s.enter(),c=i(n),s&&(s.exit(),l=!0)),c===e.promise?o(new N7("Promise-chain cycle")):(u=B7(c))?eu(u,c,a,o):a(c)):o(n)}catch(f){s&&!l&&s.exit(),o(f)}},H7=function(e,t){e.notified||(e.notified=!0,ZT(function(){for(var n=e.reactions,r;r=n.get();)z7(r,e);e.notified=!1,t&&!e.rejection&&DAe(e)}))},G7=function(e,t,n){var r,i;CAe?(r=GS.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),to.dispatchEvent(r)):r={promise:t,reason:n},!TAe&&(i=to["on"+e])?i(r):e===U7&&xAe("Unhandled promise rejection",n)},DAe=function(e){eu(I7,to,function(){var t=e.facade,n=e.value,r=gO(e),i;if(r&&(i=wAe(function(){Sv?QT.emit("unhandledRejection",n,t):G7(U7,t,n)}),e.rejection=Sv||gO(e)?k7:eM,i.error))throw i.value})},gO=function(e){return e.rejection!==eM&&!e.parent},LAe=function(e){eu(I7,to,function(){var t=e.facade;Sv?QT.emit("rejectionHandled",t):G7(RAe,t,e.value)})},Mc=function(e,t,n){return function(r){e(t,r,n)}},Uc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=IAe,H7(e,!0))},jS=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new N7("Promise can't be resolved itself");var r=B7(t);r?ZT(function(){var i={done:!1};try{eu(r,t,Mc(jS,i,e),Mc(Uc,i,e))}catch(a){Uc(i,a,e)}}):(e.value=t,e.state=F7,H7(e,!1))}catch(i){Uc({done:!1},i,e)}}};if(L7&&(Uo=function(t){bAe(this,Fd),yAe(t),eu(kd,this);var n=ky(this);try{t(Mc(jS,n),Mc(Uc,n))}catch(r){Uc(n,r)}},Fd=Uo.prototype,kd=function(t){AAe(this,{type:Vg,done:!1,notified:!1,parent:!1,reactions:new EAe,rejection:!1,state:pO,value:void 0})},kd.prototype=dO(Fd,"then",function(t,n){var r=ky(this),i=VS(SAe(this,Uo));return r.parent=!0,i.ok=vp(t)?t:!0,i.fail=vp(n)&&n,i.domain=Sv?QT.domain:void 0,r.state===pO?r.reactions.add(i):ZT(function(){z7(i,r)}),i.promise}),vO=function(){var e=new kd,t=ky(e);this.promise=e,this.resolve=Mc(jS,t),this.reject=Mc(Uc,t)},D7.f=VS=function(e){return e===Uo||e===OAe?new vO(e):PAe(e)},vp(xv)&&$c!==Object.prototype)){mO=$c.then,MAe||dO($c,"then",function(t,n){var r=this;return new Uo(function(i,a){eu(mO,r,i,a)}).then(t,n)},{unsafe:!0});try{delete $c.constructor}catch{}hO&&hO($c,Fd)}mAe({global:!0,constructor:!0,wrap:!0,forced:L7},{Promise:Uo});gAe(Uo,Vg,!1);_Ae(Vg);var Cf={},NAe=_n,UAe=Cf,FAe=NAe("iterator"),kAe=Array.prototype,BAe=function(e){return e!==void 0&&(UAe.Array===e||kAe[FAe]===e)},zAe=Bg,_O=RT,HAe=vu,GAe=Cf,VAe=_n,jAe=VAe("iterator"),V7=function(e){if(!HAe(e))return _O(e,jAe)||_O(e,"@@iterator")||GAe[zAe(e)]},WAe=wr,XAe=uo,YAe=Zr,qAe=Lg,KAe=V7,ZAe=TypeError,JAe=function(e,t){var n=arguments.length<2?KAe(e):t;if(XAe(n))return YAe(WAe(n,e));throw new ZAe(qAe(e)+" is not iterable")},QAe=wr,yO=Zr,e3e=RT,t3e=function(e,t,n){var r,i;yO(e);try{if(r=e3e(e,"return"),!r){if(t==="throw")throw n;return n}r=QAe(r,e)}catch(a){i=!0,r=a}if(t==="throw")throw n;if(i)throw r;return yO(r),n},n3e=Hg,r3e=wr,i3e=Zr,a3e=Lg,o3e=BAe,s3e=Tf,$O=CT,c3e=JAe,u3e=V7,bO=t3e,l3e=TypeError,mp=function(e,t){this.stopped=e,this.result=t},SO=mp.prototype,jg=function(e,t,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_RECORD),o=!!(n&&n.IS_ITERATOR),s=!!(n&&n.INTERRUPTED),c=n3e(t,r),u,l,f,d,h,m,g,p=function(y){return u&&bO(u,"normal",y),new mp(!0,y)},v=function(y){return i?(i3e(y),s?c(y[0],y[1],p):c(y[0],y[1])):s?c(y,p):c(y)};if(a)u=e.iterator;else if(o)u=e;else{if(l=u3e(e),!l)throw new l3e(a3e(e)+" is not iterable");if(o3e(l)){for(f=0,d=s3e(e);d>f;f++)if(h=v(e[f]),h&&$O(SO,h))return h;return new mp(!1)}u=c3e(e,l)}for(m=a?e.next:u.next;!(g=r3e(m,u)).done;){try{h=v(g.value)}catch(y){bO(u,"throw",y)}if(typeof h=="object"&&h&&$O(SO,h))return h}return new mp(!1)},f3e=_n,j7=f3e("iterator"),W7=!1;try{var d3e=0,xO={next:function(){return{done:!!d3e++}},return:function(){W7=!0}};xO[j7]=function(){return this},Array.from(xO,function(){throw 2})}catch{}var X7=function(e,t){try{if(!t&&!W7)return!1}catch{return!1}var n=!1;try{var r={};r[j7]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},h3e=Gg,p3e=X7,v3e=Pf.CONSTRUCTOR,Y7=v3e||!p3e(function(e){h3e.all(e).then(void 0,function(){})}),m3e=Jr,g3e=wr,_3e=uo,y3e=gu,$3e=KT,b3e=jg,S3e=Y7;m3e({target:"Promise",stat:!0,forced:S3e},{all:function(t){var n=this,r=y3e.f(n),i=r.resolve,a=r.reject,o=$3e(function(){var s=_3e(n.resolve),c=[],u=0,l=1;b3e(t,function(f){var d=u++,h=!1;l++,g3e(s,n,f).then(function(m){h||(h=!0,c[d]=m,--l||i(c))},a)}),--l||i(c)});return o.error&&a(o.value),r.promise}});var x3e=Jr,w3e=Pf.CONSTRUCTOR,WS=Gg,E3e=Ms,T3e=Nt,M3e=lo,wO=WS&&WS.prototype;x3e({target:"Promise",proto:!0,forced:w3e,real:!0},{catch:function(e){return this.then(void 0,e)}});if(T3e(WS)){var EO=E3e("Promise").prototype.catch;wO.catch!==EO&&M3e(wO,"catch",EO,{unsafe:!0})}var A3e=Jr,P3e=wr,C3e=uo,R3e=gu,I3e=KT,O3e=jg,D3e=Y7;A3e({target:"Promise",stat:!0,forced:D3e},{race:function(t){var n=this,r=R3e.f(n),i=r.reject,a=I3e(function(){var o=C3e(n.resolve);O3e(t,function(s){P3e(o,n,s).then(r.resolve,i)})});return a.error&&i(a.value),r.promise}});var L3e=Jr,N3e=wr,U3e=gu,F3e=Pf.CONSTRUCTOR;L3e({target:"Promise",stat:!0,forced:F3e},{reject:function(t){var n=U3e.f(this);return N3e(n.reject,void 0,t),n.promise}});var k3e=Zr,B3e=Ln,z3e=gu,H3e=function(e,t){if(k3e(e),B3e(t)&&t.constructor===e)return t;var n=z3e.f(e),r=n.resolve;return r(t),n.promise},G3e=Jr,V3e=Ms,j3e=Pf.CONSTRUCTOR,W3e=H3e;V3e("Promise");G3e({target:"Promise",stat:!0,forced:j3e},{resolve:function(t){return W3e(this,t)}});var q7={},X3e=xr,Y3e=e7,q3e=Kr,K3e=Zr,Z3e=mu,J3e=S7;q7.f=X3e&&!Y3e?Object.defineProperties:function(t,n){K3e(t);for(var r=Z3e(n),i=J3e(n),a=i.length,o=0,s;a>o;)q3e.f(t,s=i[o++],r[s]);return t};var Q3e=Zr,ePe=q7,TO=HT,tPe=Fg,nPe=w7,rPe=Ng,iPe=kT,MO=">",AO="<",XS="prototype",YS="script",K7=iPe("IE_PROTO"),By=function(){},Z7=function(e){return AO+YS+MO+e+AO+"/"+YS+MO},PO=function(e){e.write(Z7("")),e.close();var t=e.parentWindow.Object;return e=null,t},aPe=function(){var e=rPe("iframe"),t="java"+YS+":",n;return e.style.display="none",nPe.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(Z7("document.F=Object")),n.close(),n.F},Bd,gp=function(){try{Bd=new ActiveXObject("htmlfile")}catch{}gp=typeof document<"u"?document.domain&&Bd?PO(Bd):aPe():PO(Bd);for(var e=TO.length;e--;)delete gp[XS][TO[e]];return gp()};tPe[K7]=!0;var J7=Object.create||function(t,n){var r;return t!==null?(By[XS]=Q3e(t),r=new By,By[XS]=null,r[K7]=t):r=gp(),n===void 0?r:ePe.f(r,n)},oPe=_n,sPe=J7,cPe=Kr.f,qS=oPe("unscopables"),KS=Array.prototype;KS[qS]===void 0&&cPe(KS,qS,{configurable:!0,value:sPe(null)});var uPe=function(e){KS[qS][e]=!0},lPe=en,fPe=!lPe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),dPe=Er,hPe=Nt,pPe=wf,vPe=kT,mPe=fPe,CO=vPe("IE_PROTO"),ZS=Object,gPe=ZS.prototype,Q7=mPe?ZS.getPrototypeOf:function(e){var t=pPe(e);if(dPe(t,CO))return t[CO];var n=t.constructor;return hPe(n)&&t instanceof n?n.prototype:t instanceof ZS?gPe:null},_Pe=en,yPe=Nt,$Pe=Ln,RO=Q7,bPe=lo,SPe=_n,JS=SPe("iterator"),e9=!1,ss,zy,Hy;[].keys&&(Hy=[].keys(),"next"in Hy?(zy=RO(RO(Hy)),zy!==Object.prototype&&(ss=zy)):e9=!0);var xPe=!$Pe(ss)||_Pe(function(){var e={};return ss[JS].call(e)!==e});xPe&&(ss={});yPe(ss[JS])||bPe(ss,JS,function(){return this});var t9={IteratorPrototype:ss,BUGGY_SAFARI_ITERATORS:e9},wPe=t9.IteratorPrototype,EPe=J7,TPe=Ig,MPe=Af,APe=Cf,PPe=function(){return this},CPe=function(e,t,n,r){var i=t+" Iterator";return e.prototype=EPe(wPe,{next:TPe(+!r,n)}),MPe(e,i,!1),APe[i]=PPe,e},RPe=Jr,IPe=wr,n9=UT,OPe=Nt,DPe=CPe,IO=Q7,OO=XT,LPe=Af,NPe=Ug,Gy=lo,UPe=_n,FPe=Cf,r9=t9,kPe=n9.PROPER,BPe=n9.CONFIGURABLE,DO=r9.IteratorPrototype,zd=r9.BUGGY_SAFARI_ITERATORS,Bu=UPe("iterator"),LO="keys",zu="values",NO="entries",zPe=function(){return this},i9=function(e,t,n,r,i,a,o){DPe(n,t,r);var s=function(v){if(v===i&&d)return d;if(!zd&&v&&v in l)return l[v];switch(v){case LO:return function(){return new n(this,v)};case zu:return function(){return new n(this,v)};case NO:return function(){return new n(this,v)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,l=e.prototype,f=l[Bu]||l["@@iterator"]||i&&l[i],d=!zd&&f||s(i),h=t==="Array"&&l.entries||f,m,g,p;if(h&&(m=IO(h.call(new e)),m!==Object.prototype&&m.next&&(IO(m)!==DO&&(OO?OO(m,DO):OPe(m[Bu])||Gy(m,Bu,zPe)),LPe(m,c,!0))),kPe&&i===zu&&f&&f.name!==zu&&(BPe?NPe(l,"name",zu):(u=!0,d=function(){return IPe(f,this)})),i)if(g={values:s(zu),keys:a?d:s(LO),entries:s(NO)},o)for(p in g)(zd||u||!(p in l))&&Gy(l,p,g[p]);else RPe({target:t,proto:!0,forced:zd||u},g);return l[Bu]!==d&&Gy(l,Bu,d,{name:i}),FPe[t]=d,g},a9=function(e,t){return{value:e,done:t}},HPe=mu,tM=uPe,UO=Cf,o9=Ef,GPe=Kr.f,VPe=i9,Hd=a9,jPe=xr,s9="Array Iterator",WPe=o9.set,XPe=o9.getterFor(s9),YPe=VPe(Array,"Array",function(e,t){WPe(this,{type:s9,target:HPe(e),index:0,kind:t})},function(){var e=XPe(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,Hd(void 0,!0);switch(e.kind){case"keys":return Hd(n,!1);case"values":return Hd(t[n],!1)}return Hd([n,t[n]],!1)},"values"),FO=UO.Arguments=UO.Array;tM("keys");tM("values");tM("entries");if(jPe&&FO.name!=="values")try{GPe(FO,"name",{value:"values"})}catch{}var qPe=Bg,KPe=String,c9=function(e){if(qPe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return KPe(e)},nM=Yt,ZPe=zT,JPe=c9,QPe=PT,eCe=nM("".charAt),kO=nM("".charCodeAt),tCe=nM("".slice),BO=function(e){return function(t,n){var r=JPe(QPe(t)),i=ZPe(n),a=r.length,o,s;return i<0||i>=a?e?"":void 0:(o=kO(r,i),o<55296||o>56319||i+1===a||(s=kO(r,i+1))<56320||s>57343?e?eCe(r,i):o:e?tCe(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},nCe={codeAt:BO(!1),charAt:BO(!0)},rCe=nCe.charAt,iCe=c9,u9=Ef,aCe=i9,zO=a9,l9="String Iterator",oCe=u9.set,sCe=u9.getterFor(l9);aCe(String,"String",function(e){oCe(this,{type:l9,string:iCe(e),index:0})},function(){var t=sCe(this),n=t.string,r=t.index,i;return r>=n.length?zO(void 0,!0):(i=rCe(n,r),t.index+=i.length,zO(i,!1))});var f9={exports:{}},d9={},HO=o7,cCe=Tf,uCe=u7,lCe=Array,fCe=Math.max,dCe=function(e,t,n){for(var r=cCe(e),i=HO(t,r),a=HO(n===void 0?r:n,r),o=lCe(fCe(a-i,0)),s=0;i<a;i++,s++)uCe(o,s,e[i]);return o.length=s,o},hCe=Ts,pCe=mu,h9=kg.f,vCe=dCe,p9=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mCe=function(e){try{return h9(e)}catch{return vCe(p9)}};d9.f=function(t){return p9&&hCe(t)==="Window"?mCe(t):h9(pCe(t))};var gCe=en,_Ce=gCe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),yCe=en,$Ce=Ln,bCe=Ts,GO=_Ce,_p=Object.isExtensible,SCe=yCe(function(){_p(1)}),xCe=SCe||GO?function(t){return!$Ce(t)||GO&&bCe(t)==="ArrayBuffer"?!1:_p?_p(t):!0}:_p,wCe=en,ECe=!wCe(function(){return Object.isExtensible(Object.preventExtensions({}))}),TCe=Jr,MCe=Yt,ACe=Fg,PCe=Ln,rM=Er,CCe=Kr.f,VO=kg,RCe=d9,iM=xCe,ICe=DT,OCe=ECe,v9=!1,ca=ICe("meta"),DCe=0,aM=function(e){CCe(e,ca,{value:{objectID:"O"+DCe++,weakData:{}}})},LCe=function(e,t){if(!PCe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!rM(e,ca)){if(!iM(e))return"F";if(!t)return"E";aM(e)}return e[ca].objectID},NCe=function(e,t){if(!rM(e,ca)){if(!iM(e))return!0;if(!t)return!1;aM(e)}return e[ca].weakData},UCe=function(e){return OCe&&v9&&iM(e)&&!rM(e,ca)&&aM(e),e},FCe=function(){kCe.enable=function(){},v9=!0;var e=VO.f,t=MCe([].splice),n={};n[ca]=1,e(n).length&&(VO.f=function(r){for(var i=e(r),a=0,o=i.length;a<o;a++)if(i[a]===ca){t(i,a,1);break}return i},TCe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:RCe.f}))},kCe=f9.exports={enable:FCe,fastKey:LCe,getWeakData:NCe,onFreeze:UCe};ACe[ca]=!0;var m9=f9.exports,BCe=Nt,zCe=Ln,jO=XT,HCe=function(e,t,n){var r,i;return jO&&BCe(r=t.constructor)&&r!==n&&zCe(i=r.prototype)&&i!==n.prototype&&jO(e,i),e},GCe=Jr,VCe=hn,jCe=Yt,WO=VT,WCe=lo,XCe=m9,YCe=jg,qCe=YT,KCe=Nt,ZCe=vu,Vy=Ln,jy=en,JCe=X7,QCe=Af,eRe=HCe,tRe=function(e,t,n){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=r?"set":"add",o=VCe[e],s=o&&o.prototype,c=o,u={},l=function(v){var y=jCe(s[v]);WCe(s,v,v==="add"?function(S){return y(this,S===0?0:S),this}:v==="delete"?function(_){return i&&!Vy(_)?!1:y(this,_===0?0:_)}:v==="get"?function(S){return i&&!Vy(S)?void 0:y(this,S===0?0:S)}:v==="has"?function(S){return i&&!Vy(S)?!1:y(this,S===0?0:S)}:function(S,O){return y(this,S===0?0:S,O),this})},f=WO(e,!KCe(o)||!(i||s.forEach&&!jy(function(){new o().entries().next()})));if(f)c=n.getConstructor(t,e,r,a),XCe.enable();else if(WO(e,!0)){var d=new c,h=d[a](i?{}:-0,1)!==d,m=jy(function(){d.has(1)}),g=JCe(function(v){new o(v)}),p=!i&&jy(function(){for(var v=new o,y=5;y--;)v[a](y,y);return!v.has(-0)});g||(c=t(function(v,y){qCe(v,s);var _=eRe(new o,v,c);return ZCe(y)||YCe(y,_[a],{that:_,AS_ENTRIES:r}),_}),c.prototype=s,s.constructor=c),(m||p)&&(l("delete"),l("has"),r&&l("get")),(p||h)&&l(a),i&&s.clear&&delete s.clear}return u[e]=c,GCe({global:!0,constructor:!0,forced:c!==o},u),QCe(c,e),i||n.setStrong(c,e,r),c},nRe=lo,rRe=function(e,t,n){for(var r in t)nRe(e,r,t[r],n);return e},iRe=Hg,aRe=Yt,oRe=AT,sRe=wf,cRe=Tf,uRe=m7,XO=aRe([].push),Ea=function(e){var t=e===1,n=e===2,r=e===3,i=e===4,a=e===6,o=e===7,s=e===5||a;return function(c,u,l,f){for(var d=sRe(c),h=oRe(d),m=cRe(h),g=iRe(u,l),p=0,v=f||uRe,y=t?v(c,m):n||o?v(c,0):void 0,_,S;m>p;p++)if((s||p in h)&&(_=h[p],S=g(_,p,d),e))if(t)y[p]=S;else if(S)switch(e){case 3:return!0;case 5:return _;case 6:return p;case 2:XO(y,_)}else switch(e){case 4:return!1;case 7:XO(y,_)}return a?-1:r||i?i:y}},lRe={forEach:Ea(0),map:Ea(1),filter:Ea(2),some:Ea(3),every:Ea(4),find:Ea(5),findIndex:Ea(6),filterReject:Ea(7)},fRe=Yt,YO=rRe,Gd=m9.getWeakData,dRe=YT,hRe=Zr,pRe=vu,Wy=Ln,vRe=jg,g9=lRe,qO=Er,_9=Ef,mRe=_9.set,gRe=_9.getterFor,_Re=g9.find,yRe=g9.findIndex,$Re=fRe([].splice),bRe=0,Vd=function(e){return e.frozen||(e.frozen=new y9)},y9=function(){this.entries=[]},Xy=function(e,t){return _Re(e.entries,function(n){return n[0]===t})};y9.prototype={get:function(e){var t=Xy(this,e);if(t)return t[1]},has:function(e){return!!Xy(this,e)},set:function(e,t){var n=Xy(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=yRe(this.entries,function(n){return n[0]===e});return~t&&$Re(this.entries,t,1),!!~t}};var SRe={getConstructor:function(e,t,n,r){var i=e(function(c,u){dRe(c,a),mRe(c,{type:t,id:bRe++,frozen:void 0}),pRe(u)||vRe(u,c[r],{that:c,AS_ENTRIES:n})}),a=i.prototype,o=gRe(t),s=function(c,u,l){var f=o(c),d=Gd(hRe(u),!0);return d===!0?Vd(f).set(u,l):d[f.id]=l,c};return YO(a,{delete:function(c){var u=o(this);if(!Wy(c))return!1;var l=Gd(c);return l===!0?Vd(u).delete(c):l&&qO(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Wy(u))return!1;var f=Gd(u);return f===!0?Vd(l).has(u):f&&qO(f,l.id)}}),YO(a,n?{get:function(u){var l=o(this);if(Wy(u)){var f=Gd(u);return f===!0?Vd(l).get(u):f?f[l.id]:void 0}},set:function(u,l){return s(this,u,l)}}:{add:function(u){return s(this,u,!0)}}),i}},xRe=tRe,wRe=SRe;xRe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},wRe);var ERe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TRe=Ng,Yy=TRe("span").classList,KO=Yy&&Yy.constructor&&Yy.constructor.prototype,MRe=KO===Object.prototype?void 0:KO,ZO=hn,$9=ERe,ARe=MRe,ll=YPe,JO=Ug,PRe=Af,CRe=_n,qy=CRe("iterator"),Ky=ll.values,b9=function(e,t){if(e){if(e[qy]!==Ky)try{JO(e,qy,Ky)}catch{e[qy]=Ky}if(PRe(e,t,!0),$9[t]){for(var n in ll)if(e[n]!==ll[n])try{JO(e,n,ll[n])}catch{e[n]=ll[n]}}}};for(var Zy in $9)b9(ZO[Zy]&&ZO[Zy].prototype,Zy);b9(ARe,"DOMTokenList");function QO(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var yp,S9,x9,fl="#ch-tooltip",eD={enabled:!0,text:function(t,n,r){return"".concat(n," - ").concat(r.format("LLLL"))}},RRe={placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]},w9={getBoundingClientRect:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{width:0,height:0,top:n,right:t,bottom:n,left:t,x:t,y:n,toJSON:function(){}}}},IRe=function(){function e(t){rxe(this,e),yp.add(this),this.name="Tooltip",this.calendar=t,this.root=null,this.popperInstance=null,this.options=eD,this.listenerAttached=!1}return axe(e,[{key:"setup",value:function(n){this.options=Object.assign(Object.assign({},eD),n);var r=this.calendar.eventEmitter;if(!this.options.enabled){this.listenerAttached&&(r.off("mouseover",this.mouseOverCallback,this),r.off("mouseout",this.mouseOutCallback,this),this.listenerAttached=!1),this.destroy();return}if(this.popperOptions=Object.assign(Object.assign({},RRe),this.options),this.root=document.getElementById(fl.slice(1)),!this.root){var i=document.createElement("div");i.setAttribute("id",fl.slice(1)),i.setAttribute("role","tooltip"),i.innerHTML='<div id="'.concat(fl.slice(1),'-arrow" data-popper-arrow="true"></div>')+'<span id="'.concat(fl.slice(1),'-body"></span>'),this.root=document.body.appendChild(i)}this.root.setAttribute("data-theme",this.calendar.options.options.theme),this.popperInstance=nxe(w9,this.root,this.popperOptions),this.listenerAttached||(r.on("mouseover",this.mouseOverCallback,this),r.on("mouseout",this.mouseOutCallback,this),this.listenerAttached=!0)}},{key:"mouseOverCallback",value:function(n,r,i){QO(this,yp,"m",S9).call(this,n.target,r,i)}},{key:"mouseOutCallback",value:function(){QO(this,yp,"m",x9).call(this)}},{key:"paint",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){return this.root&&this.root.remove(),Promise.resolve()}}]),e}();yp=new WeakSet,S9=function(t,n,r){var i=this,a=this.options.text,o=a?a(n,r,this.calendar.dateHelper.date(n)):null;o&&(w9.getBoundingClientRect=function(){return t.getBoundingClientRect()},document.getElementById("".concat(fl.slice(1),"-body")).innerHTML=o,this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},i.popperOptions),{modifiers:[].concat(vI(i.popperOptions.modifiers),[{name:"eventListeners",enabled:!0}])})}),this.popperInstance.update(),this.root.setAttribute("data-show","1"))},x9=function(){var t=this;this.root.removeAttribute("data-show"),this.popperInstance.setOptions(function(){return Object.assign(Object.assign({},t.popperOptions),{modifiers:[].concat(vI(t.popperOptions.modifiers),[{name:"eventListeners",enabled:!1}])})})};function ORe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function DRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T9(r.key),r)}}function NRe(e,t,n){return t&&LRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function URe(e,t,n){return t=T9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FRe(e,t){return zRe(e)||ORe(e,t)||E9(e,t)||VRe()}function kRe(e){return BRe(e)||HRe(e)||E9(e)||GRe()}function BRe(e){if(Array.isArray(e))return QS(e)}function zRe(e){if(Array.isArray(e))return e}function HRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E9(e,t){if(e){if(typeof e=="string")return QS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(e,t)}}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jRe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T9(e){var t=jRe(e,"string");return typeof t=="symbol"?t:String(t)}var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt=function(e){try{return!!e()}catch{return!0}},WRe=Mt,Yn=!WRe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),XRe=Mt,Wg=!XRe(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),M9=Wg,A9=Function.prototype,ex=A9.call,YRe=M9&&A9.bind.bind(ex,ex),Ct=M9?YRe:function(e){return function(){return ex.apply(e,arguments)}},As=function(e){return e==null},qRe=As,KRe=TypeError,Rf=function(e){if(qRe(e))throw new KRe("Can't call method on "+e);return e},ZRe=Rf,JRe=Object,fo=function(e){return JRe(ZRe(e))},QRe=Ct,eIe=fo,tIe=QRe({}.hasOwnProperty),Tr=Object.hasOwn||function(t,n){return tIe(eIe(t),n)},tx=Yn,nIe=Tr,P9=Function.prototype,rIe=tx&&Object.getOwnPropertyDescriptor,oM=nIe(P9,"name"),iIe=oM&&(function(){}).name==="something",aIe=oM&&(!tx||tx&&rIe(P9,"name").configurable),Xg={EXISTS:oM,PROPER:iIe,CONFIGURABLE:aIe},C9={exports:{}},nx=typeof document=="object"&&document.all,oIe=typeof nx>"u"&&nx!==void 0,R9={all:nx,IS_HTMLDDA:oIe},I9=R9,sIe=I9.all,Ut=I9.IS_HTMLDDA?function(e){return typeof e=="function"||e===sIe}:function(e){return typeof e=="function"},Hu=function(e){return e&&e.Math===Math&&e},tn=Hu(typeof globalThis=="object"&&globalThis)||Hu(typeof window=="object"&&window)||Hu(typeof self=="object"&&self)||Hu(typeof jd=="object"&&jd)||Hu(typeof jd=="object"&&jd)||function(){return this}()||Function("return this")(),tD=tn,cIe=Object.defineProperty,sM=function(e,t){try{cIe(tD,e,{value:t,configurable:!0,writable:!0})}catch{tD[e]=t}return t},uIe=tn,lIe=sM,nD="__core-js_shared__",fIe=uIe[nD]||lIe(nD,{}),cM=fIe,dIe=Ct,hIe=Ut,rx=cM,pIe=dIe(Function.toString);hIe(rx.inspectSource)||(rx.inspectSource=function(e){return pIe(e)});var uM=rx.inspectSource,vIe=tn,mIe=Ut,rD=vIe.WeakMap,gIe=mIe(rD)&&/native code/.test(String(rD)),iD=Ut,O9=R9,_Ie=O9.all,yn=O9.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:iD(e)||e===_Ie}:function(e){return typeof e=="object"?e!==null:iD(e)},Qr={},yIe=tn,aD=yn,ix=yIe.document,$Ie=aD(ix)&&aD(ix.createElement),Yg=function(e){return $Ie?ix.createElement(e):{}},bIe=Yn,SIe=Mt,xIe=Yg,D9=!bIe&&!SIe(function(){return Object.defineProperty(xIe("div"),"a",{get:function(){return 7}}).a!==7}),wIe=Yn,EIe=Mt,L9=wIe&&EIe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),TIe=yn,MIe=String,AIe=TypeError,Mr=function(e){if(TIe(e))return e;throw new AIe(MIe(e)+" is not an object")},PIe=Wg,Wd=Function.prototype.call,qn=PIe?Wd.bind(Wd):function(){return Wd.apply(Wd,arguments)},Jy=tn,CIe=Ut,RIe=function(e){return CIe(e)?e:void 0},Ps=function(e,t){return arguments.length<2?RIe(Jy[e]):Jy[e]&&Jy[e][t]},IIe=Ct,lM=IIe({}.isPrototypeOf),Cs=typeof navigator<"u"&&String(navigator.userAgent)||"",N9=tn,Qy=Cs,oD=N9.process,sD=N9.Deno,cD=oD&&oD.versions||sD&&sD.version,uD=cD&&cD.v8,Fr,wv;uD&&(Fr=uD.split("."),wv=Fr[0]>0&&Fr[0]<4?1:+(Fr[0]+Fr[1]));!wv&&Qy&&(Fr=Qy.match(/Edge\/(\d+)/),(!Fr||Fr[1]>=74)&&(Fr=Qy.match(/Chrome\/(\d+)/),Fr&&(wv=+Fr[1])));var If=wv,lD=If,OIe=Mt,DIe=tn,LIe=DIe.String,U9=!!Object.getOwnPropertySymbols&&!OIe(function(){var e=Symbol("symbol detection");return!LIe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&lD&&lD<41}),NIe=U9,F9=NIe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",UIe=Ps,FIe=Ut,kIe=lM,BIe=F9,zIe=Object,k9=BIe?function(e){return typeof e=="symbol"}:function(e){var t=UIe("Symbol");return FIe(t)&&kIe(t.prototype,zIe(e))},HIe=String,Of=function(e){try{return HIe(e)}catch{return"Object"}},GIe=Ut,VIe=Of,jIe=TypeError,Ri=function(e){if(GIe(e))return e;throw new jIe(VIe(e)+" is not a function")},WIe=Ri,XIe=As,fM=function(e,t){var n=e[t];return XIe(n)?void 0:WIe(n)},e$=qn,t$=Ut,n$=yn,YIe=TypeError,qIe=function(e,t){var n,r;if(t==="string"&&t$(n=e.toString)&&!n$(r=e$(n,e))||t$(n=e.valueOf)&&!n$(r=e$(n,e))||t!=="string"&&t$(n=e.toString)&&!n$(r=e$(n,e)))return r;throw new YIe("Can't convert object to primitive value")},B9={exports:{}},fD=cM;(B9.exports=function(e,t){return fD[e]||(fD[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var z9=B9.exports,KIe=Ct,ZIe=0,JIe=Math.random(),QIe=KIe(1 .toString),dM=function(e){return"Symbol("+(e===void 0?"":e)+")_"+QIe(++ZIe+JIe,36)},eOe=tn,tOe=z9,dD=Tr,nOe=dM,rOe=U9,iOe=F9,Ac=eOe.Symbol,r$=tOe("wks"),aOe=iOe?Ac.for||Ac:Ac&&Ac.withoutSetter||nOe,qt=function(e){return dD(r$,e)||(r$[e]=rOe&&dD(Ac,e)?Ac[e]:aOe("Symbol."+e)),r$[e]},oOe=qn,hD=yn,pD=k9,sOe=fM,cOe=qIe,uOe=qt,lOe=TypeError,fOe=uOe("toPrimitive"),dOe=function(e,t){if(!hD(e)||pD(e))return e;var n=sOe(e,fOe),r;if(n){if(t===void 0&&(t="default"),r=oOe(n,e,t),!hD(r)||pD(r))return r;throw new lOe("Can't convert object to primitive value")}return t===void 0&&(t="number"),cOe(e,t)},hOe=dOe,pOe=k9,hM=function(e){var t=hOe(e,"string");return pOe(t)?t:t+""},vOe=Yn,mOe=D9,gOe=L9,Xd=Mr,vD=hM,_Oe=TypeError,i$=Object.defineProperty,yOe=Object.getOwnPropertyDescriptor,a$="enumerable",o$="configurable",s$="writable";Qr.f=vOe?gOe?function(t,n,r){if(Xd(t),n=vD(n),Xd(r),typeof t=="function"&&n==="prototype"&&"value"in r&&s$ in r&&!r[s$]){var i=yOe(t,n);i&&i[s$]&&(t[n]=r.value,r={configurable:o$ in r?r[o$]:i[o$],enumerable:a$ in r?r[a$]:i[a$],writable:!1})}return i$(t,n,r)}:i$:function(t,n,r){if(Xd(t),n=vD(n),Xd(r),mOe)try{return i$(t,n,r)}catch{}if("get"in r||"set"in r)throw new _Oe("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var qg=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},$Oe=Yn,bOe=Qr,SOe=qg,Df=$Oe?function(e,t,n){return bOe.f(e,t,SOe(1,n))}:function(e,t,n){return e[t]=n,e},xOe=z9,wOe=dM,mD=xOe("keys"),pM=function(e){return mD[e]||(mD[e]=wOe(e))},Kg={},EOe=gIe,H9=tn,TOe=yn,MOe=Df,c$=Tr,u$=cM,AOe=pM,POe=Kg,gD="Object already initialized",ax=H9.TypeError,COe=H9.WeakMap,Ev,Yl,Tv,ROe=function(e){return Tv(e)?Yl(e):Ev(e,{})},IOe=function(e){return function(t){var n;if(!TOe(t)||(n=Yl(t)).type!==e)throw new ax("Incompatible receiver, "+e+" required");return n}};if(EOe||u$.state){var ii=u$.state||(u$.state=new COe);ii.get=ii.get,ii.has=ii.has,ii.set=ii.set,Ev=function(e,t){if(ii.has(e))throw new ax(gD);return t.facade=e,ii.set(e,t),t},Yl=function(e){return ii.get(e)||{}},Tv=function(e){return ii.has(e)}}else{var Ws=AOe("state");POe[Ws]=!0,Ev=function(e,t){if(c$(e,Ws))throw new ax(gD);return t.facade=e,MOe(e,Ws,t),t},Yl=function(e){return c$(e,Ws)?e[Ws]:{}},Tv=function(e){return c$(e,Ws)}}var _u={set:Ev,get:Yl,has:Tv,enforce:ROe,getterFor:IOe},vM=Ct,OOe=Mt,DOe=Ut,Yd=Tr,ox=Yn,LOe=Xg.CONFIGURABLE,NOe=uM,G9=_u,UOe=G9.enforce,FOe=G9.get,_D=String,$p=Object.defineProperty,kOe=vM("".slice),BOe=vM("".replace),zOe=vM([].join),HOe=ox&&!OOe(function(){return $p(function(){},"length",{value:8}).length!==8}),GOe=String(String).split("String"),VOe=C9.exports=function(e,t,n){kOe(_D(t),0,7)==="Symbol("&&(t="["+BOe(_D(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Yd(e,"name")||LOe&&e.name!==t)&&(ox?$p(e,"name",{value:t,configurable:!0}):e.name=t),HOe&&n&&Yd(n,"arity")&&e.length!==n.arity&&$p(e,"length",{value:n.arity});try{n&&Yd(n,"constructor")&&n.constructor?ox&&$p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=UOe(e);return Yd(r,"source")||(r.source=zOe(GOe,typeof t=="string"?t:"")),e};Function.prototype.toString=VOe(function(){return DOe(this)&&FOe(this).source||NOe(this)},"toString");var V9=C9.exports,yD=V9,jOe=Qr,mM=function(e,t,n){return n.get&&yD(n.get,t,{getter:!0}),n.set&&yD(n.set,t,{setter:!0}),jOe.f(e,t,n)},WOe=Yn,XOe=Xg.EXISTS,j9=Ct,YOe=mM,W9=Function.prototype,qOe=j9(W9.toString),X9=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,KOe=j9(X9.exec),ZOe="name";WOe&&!XOe&&YOe(W9,ZOe,{configurable:!0,get:function(){try{return KOe(X9,qOe(this))[1]}catch{return""}}});var Lf={},Zg={},Y9={}.propertyIsEnumerable,q9=Object.getOwnPropertyDescriptor,JOe=q9&&!Y9.call({1:2},1);Zg.f=JOe?function(t){var n=q9(this,t);return!!n&&n.enumerable}:Y9;var K9=Ct,QOe=K9({}.toString),eDe=K9("".slice),ho=function(e){return eDe(QOe(e),8,-1)},tDe=Ct,nDe=Mt,rDe=ho,l$=Object,iDe=tDe("".split),Jg=nDe(function(){return!l$("z").propertyIsEnumerable(0)})?function(e){return rDe(e)==="String"?iDe(e,""):l$(e)}:l$,aDe=Jg,oDe=Rf,ba=function(e){return aDe(oDe(e))},sDe=Yn,cDe=qn,uDe=Zg,lDe=qg,fDe=ba,dDe=hM,hDe=Tr,pDe=D9,$D=Object.getOwnPropertyDescriptor;Lf.f=sDe?$D:function(t,n){if(t=fDe(t),n=dDe(n),pDe)try{return $D(t,n)}catch{}if(hDe(t,n))return lDe(!cDe(uDe.f,t,n),t[n])};var vDe=Ut,mDe=Qr,gDe=V9,_De=sM,po=function(e,t,n,r){r||(r={});var i=r.enumerable,a=r.name!==void 0?r.name:t;if(vDe(n)&&gDe(n,a,r),r.global)i?e[t]=n:_De(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=n:mDe.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Qg={},yDe=Math.ceil,$De=Math.floor,bDe=Math.trunc||function(t){var n=+t;return(n>0?$De:yDe)(n)},SDe=bDe,gM=function(e){var t=+e;return t!==t||t===0?0:SDe(t)},xDe=gM,wDe=Math.max,EDe=Math.min,_M=function(e,t){var n=xDe(e);return n<0?wDe(n+t,0):EDe(n,t)},TDe=gM,MDe=Math.min,Z9=function(e){return e>0?MDe(TDe(e),9007199254740991):0},ADe=Z9,vo=function(e){return ADe(e.length)},PDe=ba,CDe=_M,RDe=vo,bD=function(e){return function(t,n,r){var i=PDe(t),a=RDe(i),o=CDe(r,a),s;if(e&&n!==n){for(;a>o;)if(s=i[o++],s!==s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},J9={includes:bD(!0),indexOf:bD(!1)},IDe=Ct,f$=Tr,ODe=ba,DDe=J9.indexOf,LDe=Kg,SD=IDe([].push),Q9=function(e,t){var n=ODe(e),r=0,i=[],a;for(a in n)!f$(LDe,a)&&f$(n,a)&&SD(i,a);for(;t.length>r;)f$(n,a=t[r++])&&(~DDe(i,a)||SD(i,a));return i},yM=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],NDe=Q9,UDe=yM,FDe=UDe.concat("length","prototype");Qg.f=Object.getOwnPropertyNames||function(t){return NDe(t,FDe)};var $M={};$M.f=Object.getOwnPropertySymbols;var kDe=Ps,BDe=Ct,zDe=Qg,HDe=$M,GDe=Mr,VDe=BDe([].concat),jDe=kDe("Reflect","ownKeys")||function(t){var n=zDe.f(GDe(t)),r=HDe.f;return r?VDe(n,r(t)):n},xD=Tr,WDe=jDe,XDe=Lf,YDe=Qr,qDe=function(e,t,n){for(var r=WDe(t),i=YDe.f,a=XDe.f,o=0;o<r.length;o++){var s=r[o];!xD(e,s)&&!(n&&xD(n,s))&&i(e,s,a(t,s))}},KDe=Mt,ZDe=Ut,JDe=/#|\.prototype\./,Nf=function(e,t){var n=eLe[QDe(e)];return n===nLe?!0:n===tLe?!1:ZDe(t)?KDe(t):!!t},QDe=Nf.normalize=function(e){return String(e).replace(JDe,".").toLowerCase()},eLe=Nf.data={},tLe=Nf.NATIVE="N",nLe=Nf.POLYFILL="P",bM=Nf,d$=tn,rLe=Lf.f,iLe=Df,aLe=po,oLe=sM,sLe=qDe,cLe=bM,Rt=function(e,t){var n=e.target,r=e.global,i=e.stat,a,o,s,c,u,l;if(r?o=d$:i?o=d$[n]||oLe(n,{}):o=(d$[n]||{}).prototype,o)for(s in t){if(u=t[s],e.dontCallGetSet?(l=rLe(o,s),c=l&&l.value):c=o[s],a=cLe(r?s:n+(i?".":"#")+s,e.forced),!a&&c!==void 0){if(typeof u==typeof c)continue;sLe(u,c)}(e.sham||c&&c.sham)&&iLe(u,"sham",!0),aLe(o,s,u,e)}},uLe=Q9,lLe=yM,e_=Object.keys||function(t){return uLe(t,lLe)},wD=Yn,fLe=Ct,dLe=qn,hLe=Mt,h$=e_,pLe=$M,vLe=Zg,mLe=fo,gLe=Jg,Xs=Object.assign,ED=Object.defineProperty,_Le=fLe([].concat),yLe=!Xs||hLe(function(){if(wD&&Xs({b:1},Xs(ED({},"a",{enumerable:!0,get:function(){ED(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(i){t[i]=i}),Xs({},e)[n]!==7||h$(Xs({},t)).join("")!==r})?function(t,n){for(var r=mLe(t),i=arguments.length,a=1,o=pLe.f,s=vLe.f;i>a;)for(var c=gLe(arguments[a++]),u=o?_Le(h$(c),o(c)):h$(c),l=u.length,f=0,d;l>f;)d=u[f++],(!wD||dLe(s,c,d))&&(r[d]=c[d]);return r}:Xs,$Le=Rt,TD=yLe;$Le({target:"Object",stat:!0,arity:2,forced:Object.assign!==TD},{assign:TD});var bLe=qt,SLe=bLe("toStringTag"),ez={};ez[SLe]="z";var SM=String(ez)==="[object z]",xLe=SM,wLe=Ut,bp=ho,ELe=qt,TLe=ELe("toStringTag"),MLe=Object,ALe=bp(function(){return arguments}())==="Arguments",PLe=function(e,t){try{return e[t]}catch{}},t_=xLe?bp:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=PLe(t=MLe(e),TLe))=="string"?n:ALe?bp(t):(r=bp(t))==="Object"&&wLe(t.callee)?"Arguments":r},CLe=SM,RLe=t_,ILe=CLe?{}.toString:function(){return"[object "+RLe(this)+"]"},OLe=SM,DLe=po,LLe=ILe;OLe||DLe(Object.prototype,"toString",LLe,{unsafe:!0});var NLe=tn,ULe=ho,n_=ULe(NLe.process)==="process",FLe=Ct,kLe=Ri,BLe=function(e,t,n){try{return FLe(kLe(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}},zLe=Ut,HLe=String,GLe=TypeError,VLe=function(e){if(typeof e=="object"||zLe(e))return e;throw new GLe("Can't set "+HLe(e)+" as a prototype")},jLe=BLe,WLe=Mr,XLe=VLe,xM=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=jLe(Object.prototype,"__proto__","set"),n(t,[]),e=t instanceof Array}catch{}return function(i,a){return WLe(i),XLe(a),e?n(i,a):i.__proto__=a,i}}():void 0),YLe=Qr.f,qLe=Tr,KLe=qt,MD=KLe("toStringTag"),Uf=function(e,t,n){e&&!n&&(e=e.prototype),e&&!qLe(e,MD)&&YLe(e,MD,{configurable:!0,value:t})},ZLe=Ps,JLe=mM,QLe=qt,eNe=Yn,AD=QLe("species"),tz=function(e){var t=ZLe(e);eNe&&t&&!t[AD]&&JLe(t,AD,{configurable:!0,get:function(){return this}})},tNe=lM,nNe=TypeError,r_=function(e,t){if(tNe(t,e))return e;throw new nNe("Incorrect invocation")},rNe=Ct,iNe=Mt,nz=Ut,aNe=t_,oNe=Ps,sNe=uM,rz=function(){},cNe=[],iz=oNe("Reflect","construct"),wM=/^\s*(?:class|function)\b/,uNe=rNe(wM.exec),lNe=!wM.test(rz),Gu=function(t){if(!nz(t))return!1;try{return iz(rz,cNe,t),!0}catch{return!1}},az=function(t){if(!nz(t))return!1;switch(aNe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return lNe||!!uNe(wM,sNe(t))}catch{return!0}};az.sham=!0;var i_=!iz||iNe(function(){var e;return Gu(Gu.call)||!Gu(Object)||!Gu(function(){e=!0})||e})?az:Gu,fNe=i_,dNe=Of,hNe=TypeError,pNe=function(e){if(fNe(e))return e;throw new hNe(dNe(e)+" is not a constructor")},PD=Mr,vNe=pNe,mNe=As,gNe=qt,_Ne=gNe("species"),yNe=function(e,t){var n=PD(e).constructor,r;return n===void 0||mNe(r=PD(n)[_Ne])?t:vNe(r)},$Ne=Wg,oz=Function.prototype,CD=oz.apply,RD=oz.call,bNe=typeof Reflect=="object"&&Reflect.apply||($Ne?RD.bind(CD):function(){return RD.apply(CD,arguments)}),SNe=ho,xNe=Ct,sz=function(e){if(SNe(e)==="Function")return xNe(e)},ID=sz,wNe=Ri,ENe=Wg,TNe=ID(ID.bind),yu=function(e,t){return wNe(e),t===void 0?e:ENe?TNe(e,t):function(){return e.apply(t,arguments)}},MNe=Ps,cz=MNe("document","documentElement"),ANe=Ct,uz=ANe([].slice),PNe=TypeError,CNe=function(e,t){if(e<t)throw new PNe("Not enough arguments");return e},RNe=Cs,lz=/(?:ipad|iphone|ipod).*applewebkit/i.test(RNe),ir=tn,INe=bNe,ONe=yu,OD=Ut,DNe=Tr,fz=Mt,DD=cz,LNe=uz,LD=Yg,NNe=CNe,UNe=lz,FNe=n_,sx=ir.setImmediate,cx=ir.clearImmediate,kNe=ir.process,p$=ir.Dispatch,BNe=ir.Function,ND=ir.MessageChannel,zNe=ir.String,v$=0,wl={},UD="onreadystatechange",ql,So,m$,g$;fz(function(){ql=ir.location});var EM=function(e){if(DNe(wl,e)){var t=wl[e];delete wl[e],t()}},_$=function(e){return function(){EM(e)}},FD=function(e){EM(e.data)},kD=function(e){ir.postMessage(zNe(e),ql.protocol+"//"+ql.host)};(!sx||!cx)&&(sx=function(t){NNe(arguments.length,1);var n=OD(t)?t:BNe(t),r=LNe(arguments,1);return wl[++v$]=function(){INe(n,void 0,r)},So(v$),v$},cx=function(t){delete wl[t]},FNe?So=function(e){kNe.nextTick(_$(e))}:p$&&p$.now?So=function(e){p$.now(_$(e))}:ND&&!UNe?(m$=new ND,g$=m$.port2,m$.port1.onmessage=FD,So=ONe(g$.postMessage,g$)):ir.addEventListener&&OD(ir.postMessage)&&!ir.importScripts&&ql&&ql.protocol!=="file:"&&!fz(kD)?(So=kD,ir.addEventListener("message",FD,!1)):UD in LD("script")?So=function(e){DD.appendChild(LD("script"))[UD]=function(){DD.removeChild(this),EM(e)}}:So=function(e){setTimeout(_$(e),0)});var dz={set:sx,clear:cx},hz=function(){this.head=null,this.tail=null};hz.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var pz=hz,HNe=Cs,GNe=/ipad|iphone|ipod/i.test(HNe)&&typeof Pebble<"u",VNe=Cs,jNe=/web0s(?!.*chrome)/i.test(VNe),cs=tn,BD=yu,WNe=Lf.f,y$=dz.set,XNe=pz,YNe=lz,qNe=GNe,KNe=jNe,$$=n_,zD=cs.MutationObserver||cs.WebKitMutationObserver,HD=cs.document,GD=cs.process,qd=cs.Promise,VD=WNe(cs,"queueMicrotask"),ux=VD&&VD.value,Ys,b$,S$,Kd,jD;if(!ux){var Zd=new XNe,Jd=function(){var e,t;for($$&&(e=GD.domain)&&e.exit();t=Zd.get();)try{t()}catch(n){throw Zd.head&&Ys(),n}e&&e.enter()};!YNe&&!$$&&!KNe&&zD&&HD?(b$=!0,S$=HD.createTextNode(""),new zD(Jd).observe(S$,{characterData:!0}),Ys=function(){S$.data=b$=!b$}):!qNe&&qd&&qd.resolve?(Kd=qd.resolve(void 0),Kd.constructor=qd,jD=BD(Kd.then,Kd),Ys=function(){jD(Jd)}):$$?Ys=function(){GD.nextTick(Jd)}:(y$=BD(y$,cs),Ys=function(){y$(Jd)}),ux=function(e){Zd.head||Ys(),Zd.add(e)}}var ZNe=ux,JNe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},a_=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},QNe=tn,o_=QNe.Promise,vz=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",eUe=vz,tUe=n_,nUe=!eUe&&!tUe&&typeof window=="object"&&typeof document=="object",rUe=tn,El=o_,iUe=Ut,aUe=bM,oUe=uM,sUe=qt,cUe=nUe,uUe=vz,x$=If;El&&El.prototype;var lUe=sUe("species"),lx=!1,mz=iUe(rUe.PromiseRejectionEvent),fUe=aUe("Promise",function(){var e=oUe(El),t=e!==String(El);if(!t&&x$===66)return!0;if(!x$||x$<51||!/native code/.test(e)){var n=new El(function(a){a(1)}),r=function(a){a(function(){},function(){})},i=n.constructor={};if(i[lUe]=r,lx=n.then(function(){})instanceof r,!lx)return!0}return!t&&(cUe||uUe)&&!mz}),Ff={CONSTRUCTOR:fUe,REJECTION_EVENT:mz,SUBCLASSING:lx},Rs={},WD=Ri,dUe=TypeError,hUe=function(e){var t,n;this.promise=new e(function(r,i){if(t!==void 0||n!==void 0)throw new dUe("Bad Promise constructor");t=r,n=i}),this.resolve=WD(t),this.reject=WD(n)};Rs.f=function(e){return new hUe(e)};var pUe=Rt,Mv=n_,no=tn,tu=qn,XD=po,YD=xM,vUe=Uf,mUe=tz,gUe=Ri,Sp=Ut,_Ue=yn,yUe=r_,$Ue=yNe,gz=dz.set,TM=ZNe,bUe=JNe,SUe=a_,xUe=pz,_z=_u,Av=o_,MM=Ff,yz=Rs,s_="Promise",$z=MM.CONSTRUCTOR,wUe=MM.REJECTION_EVENT,EUe=MM.SUBCLASSING,w$=_z.getterFor(s_),TUe=_z.set,bc=Av&&Av.prototype,Fo=Av,Qd=bc,bz=no.TypeError,fx=no.document,AM=no.process,dx=yz.f,MUe=dx,AUe=!!(fx&&fx.createEvent&&no.dispatchEvent),Sz="unhandledrejection",PUe="rejectionhandled",qD=0,xz=1,CUe=2,PM=1,wz=2,eh,KD,RUe,ZD,Ez=function(e){var t;return _Ue(e)&&Sp(t=e.then)?t:!1},Tz=function(e,t){var n=t.value,r=t.state===xz,i=r?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain,c,u,l;try{i?(r||(t.rejection===wz&&OUe(t),t.rejection=PM),i===!0?c=n:(s&&s.enter(),c=i(n),s&&(s.exit(),l=!0)),c===e.promise?o(new bz("Promise-chain cycle")):(u=Ez(c))?tu(u,c,a,o):a(c)):o(n)}catch(f){s&&!l&&s.exit(),o(f)}},Mz=function(e,t){e.notified||(e.notified=!0,TM(function(){for(var n=e.reactions,r;r=n.get();)Tz(r,e);e.notified=!1,t&&!e.rejection&&IUe(e)}))},Az=function(e,t,n){var r,i;AUe?(r=fx.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),no.dispatchEvent(r)):r={promise:t,reason:n},!wUe&&(i=no["on"+e])?i(r):e===Sz&&bUe("Unhandled promise rejection",n)},IUe=function(e){tu(gz,no,function(){var t=e.facade,n=e.value,r=JD(e),i;if(r&&(i=SUe(function(){Mv?AM.emit("unhandledRejection",n,t):Az(Sz,t,n)}),e.rejection=Mv||JD(e)?wz:PM,i.error))throw i.value})},JD=function(e){return e.rejection!==PM&&!e.parent},OUe=function(e){tu(gz,no,function(){var t=e.facade;Mv?AM.emit("rejectionHandled",t):Az(PUe,t,e.value)})},Pc=function(e,t,n){return function(r){e(t,r,n)}},Fc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=CUe,Mz(e,!0))},hx=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new bz("Promise can't be resolved itself");var r=Ez(t);r?TM(function(){var i={done:!1};try{tu(r,t,Pc(hx,i,e),Pc(Fc,i,e))}catch(a){Fc(i,a,e)}}):(e.value=t,e.state=xz,Mz(e,!1))}catch(i){Fc({done:!1},i,e)}}};if($z&&(Fo=function(t){yUe(this,Qd),gUe(t),tu(eh,this);var n=w$(this);try{t(Pc(hx,n),Pc(Fc,n))}catch(r){Fc(n,r)}},Qd=Fo.prototype,eh=function(t){TUe(this,{type:s_,done:!1,notified:!1,parent:!1,reactions:new xUe,rejection:!1,state:qD,value:void 0})},eh.prototype=XD(Qd,"then",function(t,n){var r=w$(this),i=dx($Ue(this,Fo));return r.parent=!0,i.ok=Sp(t)?t:!0,i.fail=Sp(n)&&n,i.domain=Mv?AM.domain:void 0,r.state===qD?r.reactions.add(i):TM(function(){Tz(i,r)}),i.promise}),KD=function(){var e=new eh,t=w$(e);this.promise=e,this.resolve=Pc(hx,t),this.reject=Pc(Fc,t)},yz.f=dx=function(e){return e===Fo||e===RUe?new KD(e):MUe(e)},Sp(Av)&&bc!==Object.prototype)){ZD=bc.then,EUe||XD(bc,"then",function(t,n){var r=this;return new Fo(function(i,a){tu(ZD,r,i,a)}).then(t,n)},{unsafe:!0});try{delete bc.constructor}catch{}YD&&YD(bc,Qd)}pUe({global:!0,constructor:!0,wrap:!0,forced:$z},{Promise:Fo});vUe(Fo,s_,!1);mUe(s_);var kf={},DUe=qt,LUe=kf,NUe=DUe("iterator"),UUe=Array.prototype,Pz=function(e){return e!==void 0&&(LUe.Array===e||UUe[NUe]===e)},FUe=t_,QD=fM,kUe=As,BUe=kf,zUe=qt,HUe=zUe("iterator"),CM=function(e){if(!kUe(e))return QD(e,HUe)||QD(e,"@@iterator")||BUe[FUe(e)]},GUe=qn,VUe=Ri,jUe=Mr,WUe=Of,XUe=CM,YUe=TypeError,Cz=function(e,t){var n=arguments.length<2?XUe(e):t;if(VUe(n))return jUe(GUe(n,e));throw new YUe(WUe(e)+" is not iterable")},qUe=qn,eL=Mr,KUe=fM,Rz=function(e,t,n){var r,i;eL(e);try{if(r=KUe(e,"return"),!r){if(t==="throw")throw n;return n}r=qUe(r,e)}catch(a){i=!0,r=a}if(t==="throw")throw n;if(i)throw r;return eL(r),n},ZUe=yu,JUe=qn,QUe=Mr,e4e=Of,t4e=Pz,n4e=vo,tL=lM,r4e=Cz,i4e=CM,nL=Rz,a4e=TypeError,xp=function(e,t){this.stopped=e,this.result=t},rL=xp.prototype,$u=function(e,t,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_RECORD),o=!!(n&&n.IS_ITERATOR),s=!!(n&&n.INTERRUPTED),c=ZUe(t,r),u,l,f,d,h,m,g,p=function(y){return u&&nL(u,"normal",y),new xp(!0,y)},v=function(y){return i?(QUe(y),s?c(y[0],y[1],p):c(y[0],y[1])):s?c(y,p):c(y)};if(a)u=e.iterator;else if(o)u=e;else{if(l=i4e(e),!l)throw new a4e(e4e(e)+" is not iterable");if(t4e(l)){for(f=0,d=n4e(e);d>f;f++)if(h=v(e[f]),h&&tL(rL,h))return h;return new xp(!1)}u=r4e(e,l)}for(m=a?e.next:u.next;!(g=JUe(m,u)).done;){try{h=v(g.value)}catch(y){nL(u,"throw",y)}if(typeof h=="object"&&h&&tL(rL,h))return h}return new xp(!1)},o4e=qt,Iz=o4e("iterator"),Oz=!1;try{var s4e=0,iL={next:function(){return{done:!!s4e++}},return:function(){Oz=!0}};iL[Iz]=function(){return this},Array.from(iL,function(){throw 2})}catch{}var RM=function(e,t){try{if(!t&&!Oz)return!1}catch{return!1}var n=!1;try{var r={};r[Iz]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},c4e=o_,u4e=RM,l4e=Ff.CONSTRUCTOR,IM=l4e||!u4e(function(e){c4e.all(e).then(void 0,function(){})}),f4e=Rt,d4e=qn,h4e=Ri,p4e=Rs,v4e=a_,m4e=$u,g4e=IM;f4e({target:"Promise",stat:!0,forced:g4e},{all:function(t){var n=this,r=p4e.f(n),i=r.resolve,a=r.reject,o=v4e(function(){var s=h4e(n.resolve),c=[],u=0,l=1;m4e(t,function(f){var d=u++,h=!1;l++,d4e(s,n,f).then(function(m){h||(h=!0,c[d]=m,--l||i(c))},a)}),--l||i(c)});return o.error&&a(o.value),r.promise}});var _4e=Rt,y4e=Ff.CONSTRUCTOR,px=o_,$4e=Ps,b4e=Ut,S4e=po,aL=px&&px.prototype;_4e({target:"Promise",proto:!0,forced:y4e,real:!0},{catch:function(e){return this.then(void 0,e)}});if(b4e(px)){var oL=$4e("Promise").prototype.catch;aL.catch!==oL&&S4e(aL,"catch",oL,{unsafe:!0})}var x4e=Rt,w4e=qn,E4e=Ri,T4e=Rs,M4e=a_,A4e=$u,P4e=IM;x4e({target:"Promise",stat:!0,forced:P4e},{race:function(t){var n=this,r=T4e.f(n),i=r.reject,a=M4e(function(){var o=E4e(n.resolve);A4e(t,function(s){w4e(o,n,s).then(r.resolve,i)})});return a.error&&i(a.value),r.promise}});var C4e=Rt,R4e=qn,I4e=Rs,O4e=Ff.CONSTRUCTOR;C4e({target:"Promise",stat:!0,forced:O4e},{reject:function(t){var n=I4e.f(this);return R4e(n.reject,void 0,t),n.promise}});var D4e=Mr,L4e=yn,N4e=Rs,U4e=function(e,t){if(D4e(e),L4e(t)&&t.constructor===e)return t;var n=N4e.f(e),r=n.resolve;return r(t),n.promise},F4e=Rt,k4e=Ps,B4e=Ff.CONSTRUCTOR,z4e=U4e;k4e("Promise");F4e({target:"Promise",stat:!0,forced:B4e},{resolve:function(t){return z4e(this,t)}});var Dz={},H4e=Yn,G4e=L9,V4e=Qr,j4e=Mr,W4e=ba,X4e=e_;Dz.f=H4e&&!G4e?Object.defineProperties:function(t,n){j4e(t);for(var r=W4e(n),i=X4e(n),a=i.length,o=0,s;a>o;)V4e.f(t,s=i[o++],r[s]);return t};var Y4e=Mr,q4e=Dz,sL=yM,K4e=Kg,Z4e=cz,J4e=Yg,Q4e=pM,cL=">",uL="<",vx="prototype",mx="script",Lz=Q4e("IE_PROTO"),E$=function(){},Nz=function(e){return uL+mx+cL+e+uL+"/"+mx+cL},lL=function(e){e.write(Nz("")),e.close();var t=e.parentWindow.Object;return e=null,t},eFe=function(){var e=J4e("iframe"),t="java"+mx+":",n;return e.style.display="none",Z4e.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(Nz("document.F=Object")),n.close(),n.F},th,wp=function(){try{th=new ActiveXObject("htmlfile")}catch{}wp=typeof document<"u"?document.domain&&th?lL(th):eFe():lL(th);for(var e=sL.length;e--;)delete wp[vx][sL[e]];return wp()};K4e[Lz]=!0;var OM=Object.create||function(t,n){var r;return t!==null?(E$[vx]=Y4e(t),r=new E$,E$[vx]=null,r[Lz]=t):r=wp(),n===void 0?r:q4e.f(r,n)},tFe=qt,nFe=OM,rFe=Qr.f,gx=tFe("unscopables"),_x=Array.prototype;_x[gx]===void 0&&rFe(_x,gx,{configurable:!0,value:nFe(null)});var Uz=function(e){_x[gx][e]=!0},iFe=Mt,aFe=!iFe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),oFe=Tr,sFe=Ut,cFe=fo,uFe=pM,lFe=aFe,fL=uFe("IE_PROTO"),yx=Object,fFe=yx.prototype,DM=lFe?yx.getPrototypeOf:function(e){var t=cFe(e);if(oFe(t,fL))return t[fL];var n=t.constructor;return sFe(n)&&t instanceof n?n.prototype:t instanceof yx?fFe:null},dFe=Mt,hFe=Ut,pFe=yn,dL=DM,vFe=po,mFe=qt,$x=mFe("iterator"),Fz=!1,us,T$,M$;[].keys&&(M$=[].keys(),"next"in M$?(T$=dL(dL(M$)),T$!==Object.prototype&&(us=T$)):Fz=!0);var gFe=!pFe(us)||dFe(function(){var e={};return us[$x].call(e)!==e});gFe&&(us={});hFe(us[$x])||vFe(us,$x,function(){return this});var kz={IteratorPrototype:us,BUGGY_SAFARI_ITERATORS:Fz},_Fe=kz.IteratorPrototype,yFe=OM,$Fe=qg,bFe=Uf,SFe=kf,xFe=function(){return this},wFe=function(e,t,n,r){var i=t+" Iterator";return e.prototype=yFe(_Fe,{next:$Fe(+!r,n)}),bFe(e,i,!1),SFe[i]=xFe,e},EFe=Rt,TFe=qn,Bz=Xg,MFe=Ut,AFe=wFe,hL=DM,pL=xM,PFe=Uf,CFe=Df,A$=po,RFe=qt,IFe=kf,zz=kz,OFe=Bz.PROPER,DFe=Bz.CONFIGURABLE,vL=zz.IteratorPrototype,nh=zz.BUGGY_SAFARI_ITERATORS,Vu=RFe("iterator"),mL="keys",ju="values",gL="entries",LFe=function(){return this},LM=function(e,t,n,r,i,a,o){AFe(n,t,r);var s=function(v){if(v===i&&d)return d;if(!nh&&v&&v in l)return l[v];switch(v){case mL:return function(){return new n(this,v)};case ju:return function(){return new n(this,v)};case gL:return function(){return new n(this,v)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,l=e.prototype,f=l[Vu]||l["@@iterator"]||i&&l[i],d=!nh&&f||s(i),h=t==="Array"&&l.entries||f,m,g,p;if(h&&(m=hL(h.call(new e)),m!==Object.prototype&&m.next&&(hL(m)!==vL&&(pL?pL(m,vL):MFe(m[Vu])||A$(m,Vu,LFe)),PFe(m,c,!0))),OFe&&i===ju&&f&&f.name!==ju&&(DFe?CFe(l,"name",ju):(u=!0,d=function(){return TFe(f,this)})),i)if(g={values:s(ju),keys:a?d:s(mL),entries:s(gL)},o)for(p in g)(nh||u||!(p in l))&&A$(l,p,g[p]);else EFe({target:t,proto:!0,forced:nh||u},g);return l[Vu]!==d&&A$(l,Vu,d,{name:i}),IFe[t]=d,g},NM=function(e,t){return{value:e,done:t}},NFe=ba,UM=Uz,_L=kf,Hz=_u,UFe=Qr.f,FFe=LM,rh=NM,kFe=Yn,Gz="Array Iterator",BFe=Hz.set,zFe=Hz.getterFor(Gz),HFe=FFe(Array,"Array",function(e,t){BFe(this,{type:Gz,target:NFe(e),index:0,kind:t})},function(){var e=zFe(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,rh(void 0,!0);switch(e.kind){case"keys":return rh(n,!1);case"values":return rh(t[n],!1)}return rh([n,t[n]],!1)},"values"),yL=_L.Arguments=_L.Array;UM("keys");UM("values");UM("entries");if(kFe&&yL.name!=="values")try{UFe(yL,"name",{value:"values"})}catch{}var GFe=t_,VFe=String,Bf=function(e){if(GFe(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return VFe(e)},FM=Ct,jFe=gM,WFe=Bf,XFe=Rf,YFe=FM("".charAt),$L=FM("".charCodeAt),qFe=FM("".slice),bL=function(e){return function(t,n){var r=WFe(XFe(t)),i=jFe(n),a=r.length,o,s;return i<0||i>=a?e?"":void 0:(o=$L(r,i),o<55296||o>56319||i+1===a||(s=$L(r,i+1))<56320||s>57343?e?YFe(r,i):o:e?qFe(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},KFe={codeAt:bL(!1),charAt:bL(!0)},ZFe=KFe.charAt,JFe=Bf,Vz=_u,QFe=LM,SL=NM,jz="String Iterator",eke=Vz.set,tke=Vz.getterFor(jz);QFe(String,"String",function(e){eke(this,{type:jz,string:JFe(e),index:0})},function(){var t=tke(this),n=t.string,r=t.index,i;return r>=n.length?SL(void 0,!0):(i=ZFe(n,r),t.index+=i.length,SL(i,!1))});var Wz={exports:{}},Xz={},nke=hM,rke=Qr,ike=qg,c_=function(e,t,n){var r=nke(t);r in e?rke.f(e,r,ike(0,n)):e[r]=n},xL=_M,ake=vo,oke=c_,ske=Array,cke=Math.max,Yz=function(e,t,n){for(var r=ake(e),i=xL(t,r),a=xL(n===void 0?r:n,r),o=ske(cke(a-i,0)),s=0;i<a;i++,s++)oke(o,s,e[i]);return o.length=s,o},uke=ho,lke=ba,qz=Qg.f,fke=Yz,Kz=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],dke=function(e){try{return qz(e)}catch{return fke(Kz)}};Xz.f=function(t){return Kz&&uke(t)==="Window"?dke(t):qz(lke(t))};var hke=Mt,pke=hke(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vke=Mt,mke=yn,gke=ho,wL=pke,Ep=Object.isExtensible,_ke=vke(function(){Ep(1)}),yke=_ke||wL?function(t){return!mke(t)||wL&&gke(t)==="ArrayBuffer"?!1:Ep?Ep(t):!0}:Ep,$ke=Mt,bke=!$ke(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ske=Rt,xke=Ct,wke=Kg,Eke=yn,kM=Tr,Tke=Qr.f,EL=Qg,Mke=Xz,BM=yke,Ake=dM,Pke=bke,Zz=!1,ua=Ake("meta"),Cke=0,zM=function(e){Tke(e,ua,{value:{objectID:"O"+Cke++,weakData:{}}})},Rke=function(e,t){if(!Eke(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!kM(e,ua)){if(!BM(e))return"F";if(!t)return"E";zM(e)}return e[ua].objectID},Ike=function(e,t){if(!kM(e,ua)){if(!BM(e))return!0;if(!t)return!1;zM(e)}return e[ua].weakData},Oke=function(e){return Pke&&Zz&&BM(e)&&!kM(e,ua)&&zM(e),e},Dke=function(){Lke.enable=function(){},Zz=!0;var e=EL.f,t=xke([].splice),n={};n[ua]=1,e(n).length&&(EL.f=function(r){for(var i=e(r),a=0,o=i.length;a<o;a++)if(i[a]===ua){t(i,a,1);break}return i},Ske({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Mke.f}))},Lke=Wz.exports={enable:Dke,fastKey:Rke,getWeakData:Ike,onFreeze:Oke};wke[ua]=!0;var HM=Wz.exports,Nke=Ut,Uke=yn,TL=xM,Fke=function(e,t,n){var r,i;return TL&&Nke(r=t.constructor)&&r!==n&&Uke(i=r.prototype)&&i!==n.prototype&&TL(e,i),e},kke=Rt,Bke=tn,zke=Ct,ML=bM,Hke=po,Gke=HM,Vke=$u,jke=r_,Wke=Ut,Xke=As,P$=yn,C$=Mt,Yke=RM,qke=Uf,Kke=Fke,Jz=function(e,t,n){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=r?"set":"add",o=Bke[e],s=o&&o.prototype,c=o,u={},l=function(v){var y=zke(s[v]);Hke(s,v,v==="add"?function(S){return y(this,S===0?0:S),this}:v==="delete"?function(_){return i&&!P$(_)?!1:y(this,_===0?0:_)}:v==="get"?function(S){return i&&!P$(S)?void 0:y(this,S===0?0:S)}:v==="has"?function(S){return i&&!P$(S)?!1:y(this,S===0?0:S)}:function(S,O){return y(this,S===0?0:S,O),this})},f=ML(e,!Wke(o)||!(i||s.forEach&&!C$(function(){new o().entries().next()})));if(f)c=n.getConstructor(t,e,r,a),Gke.enable();else if(ML(e,!0)){var d=new c,h=d[a](i?{}:-0,1)!==d,m=C$(function(){d.has(1)}),g=Yke(function(v){new o(v)}),p=!i&&C$(function(){for(var v=new o,y=5;y--;)v[a](y,y);return!v.has(-0)});g||(c=t(function(v,y){jke(v,s);var _=Kke(new o,v,c);return Xke(y)||Vke(y,_[a],{that:_,AS_ENTRIES:r}),_}),c.prototype=s,s.constructor=c),(m||p)&&(l("delete"),l("has"),r&&l("get")),(p||h)&&l(a),i&&s.clear&&delete s.clear}return u[e]=c,kke({global:!0,constructor:!0,forced:c!==o},u),qke(c,e),i||n.setStrong(c,e,r),c},Zke=po,Qz=function(e,t,n){for(var r in t)Zke(e,r,t[r],n);return e},Jke=ho,GM=Array.isArray||function(t){return Jke(t)==="Array"},AL=GM,Qke=i_,e5e=yn,t5e=qt,n5e=t5e("species"),PL=Array,r5e=function(e){var t;return AL(e)&&(t=e.constructor,Qke(t)&&(t===PL||AL(t.prototype))?t=void 0:e5e(t)&&(t=t[n5e],t===null&&(t=void 0))),t===void 0?PL:t},i5e=r5e,eH=function(e,t){return new(i5e(e))(t===0?0:t)},a5e=yu,o5e=Ct,s5e=Jg,c5e=fo,u5e=vo,l5e=eH,CL=o5e([].push),Ta=function(e){var t=e===1,n=e===2,r=e===3,i=e===4,a=e===6,o=e===7,s=e===5||a;return function(c,u,l,f){for(var d=c5e(c),h=s5e(d),m=u5e(h),g=a5e(u,l),p=0,v=f||l5e,y=t?v(c,m):n||o?v(c,0):void 0,_,S;m>p;p++)if((s||p in h)&&(_=h[p],S=g(_,p,d),e))if(t)y[p]=S;else if(S)switch(e){case 3:return!0;case 5:return _;case 6:return p;case 2:CL(y,_)}else switch(e){case 4:return!1;case 7:CL(y,_)}return a?-1:r||i?i:y}},u_={forEach:Ta(0),map:Ta(1),filter:Ta(2),some:Ta(3),every:Ta(4),find:Ta(5),findIndex:Ta(6),filterReject:Ta(7)},f5e=Ct,RL=Qz,ih=HM.getWeakData,d5e=r_,h5e=Mr,p5e=As,R$=yn,v5e=$u,tH=u_,IL=Tr,nH=_u,m5e=nH.set,g5e=nH.getterFor,_5e=tH.find,y5e=tH.findIndex,$5e=f5e([].splice),b5e=0,ah=function(e){return e.frozen||(e.frozen=new rH)},rH=function(){this.entries=[]},I$=function(e,t){return _5e(e.entries,function(n){return n[0]===t})};rH.prototype={get:function(e){var t=I$(this,e);if(t)return t[1]},has:function(e){return!!I$(this,e)},set:function(e,t){var n=I$(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=y5e(this.entries,function(n){return n[0]===e});return~t&&$5e(this.entries,t,1),!!~t}};var S5e={getConstructor:function(e,t,n,r){var i=e(function(c,u){d5e(c,a),m5e(c,{type:t,id:b5e++,frozen:void 0}),p5e(u)||v5e(u,c[r],{that:c,AS_ENTRIES:n})}),a=i.prototype,o=g5e(t),s=function(c,u,l){var f=o(c),d=ih(h5e(u),!0);return d===!0?ah(f).set(u,l):d[f.id]=l,c};return RL(a,{delete:function(c){var u=o(this);if(!R$(c))return!1;var l=ih(c);return l===!0?ah(u).delete(c):l&&IL(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!R$(u))return!1;var f=ih(u);return f===!0?ah(l).has(u):f&&IL(f,l.id)}}),RL(a,n?{get:function(u){var l=o(this);if(R$(u)){var f=ih(u);return f===!0?ah(l).get(u):f?f[l.id]:void 0}},set:function(u,l){return s(this,u,l)}}:{add:function(u){return s(this,u,!0)}}),i}},x5e=Jz,w5e=S5e;x5e("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},w5e);var iH={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},E5e=Yg,O$=E5e("span").classList,OL=O$&&O$.constructor&&O$.constructor.prototype,aH=OL===Object.prototype?void 0:OL,DL=tn,oH=iH,T5e=aH,dl=HFe,LL=Df,M5e=Uf,A5e=qt,D$=A5e("iterator"),L$=dl.values,sH=function(e,t){if(e){if(e[D$]!==L$)try{LL(e,D$,L$)}catch{e[D$]=L$}if(M5e(e,t,!0),oH[t]){for(var n in dl)if(e[n]!==dl[n])try{LL(e,n,dl[n])}catch{e[n]=dl[n]}}}};for(var N$ in oH)sH(DL[N$]&&DL[N$].prototype,N$);sH(T5e,"DOMTokenList");var P5e=Mt,C5e=qt,R5e=If,I5e=C5e("species"),l_=function(e){return R5e>=51||!P5e(function(){var t=[],n=t.constructor={};return n[I5e]=function(){return{foo:1}},t[e](Boolean).foo!==1})},O5e=Rt,NL=GM,D5e=i_,L5e=yn,UL=_M,N5e=vo,U5e=ba,F5e=c_,k5e=qt,B5e=l_,z5e=uz,H5e=B5e("slice"),G5e=k5e("species"),U$=Array,V5e=Math.max;O5e({target:"Array",proto:!0,forced:!H5e},{slice:function(t,n){var r=U5e(this),i=N5e(r),a=UL(t,i),o=UL(n===void 0?i:n,i),s,c,u;if(NL(r)&&(s=r.constructor,D5e(s)&&(s===U$||NL(s.prototype))?s=void 0:L5e(s)&&(s=s[G5e],s===null&&(s=void 0)),s===U$||s===void 0))return z5e(r,a,o);for(c=new(s===void 0?U$:s)(V5e(o-a,0)),u=0;a<o;a++,u++)a in r&&F5e(c,u,r[a]);return c.length=u,c}});var j5e=Mt,VM=function(e,t){var n=[][e];return!!n&&j5e(function(){n.call(null,t||function(){return 1},1)})},W5e=Rt,X5e=Ct,Y5e=Jg,q5e=ba,K5e=VM,Z5e=X5e([].join),J5e=Y5e!==Object,Q5e=J5e||!K5e("join",",");W5e({target:"Array",proto:!0,forced:Q5e},{join:function(t){return Z5e(q5e(this),t===void 0?",":t)}});function bx(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var e8e=Rt,t8e=fo,cH=e_,n8e=Mt,r8e=n8e(function(){cH(1)});e8e({target:"Object",stat:!0,forced:r8e},{keys:function(t){return cH(t8e(t))}});var i8e=yn,a8e=ho,o8e=qt,s8e=o8e("match"),c8e=function(e){var t;return i8e(e)&&((t=e[s8e])!==void 0?!!t:a8e(e)==="RegExp")},u8e=c8e,l8e=TypeError,f8e=function(e){if(u8e(e))throw new l8e("The method doesn't accept regular expressions");return e},d8e=qt,h8e=d8e("match"),p8e=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[h8e]=!1,"/./"[e](t)}catch{}}return!1},v8e=Rt,uH=sz,m8e=Lf.f,g8e=Z9,FL=Bf,_8e=f8e,y8e=Rf,$8e=p8e,kL=uH("".startsWith),b8e=uH("".slice),S8e=Math.min,lH=$8e("startsWith"),x8e=!lH&&!!function(){var e=m8e(String.prototype,"startsWith");return e&&!e.writable}();v8e({target:"String",proto:!0,forced:!x8e&&!lH},{startsWith:function(t){var n=FL(y8e(this));_8e(t);var r=g8e(S8e(arguments.length>1?arguments[1]:void 0,n.length)),i=FL(t);return kL?kL(n,i,r):b8e(n,r,r+i.length)===i}});var w8e=u_.forEach,E8e=VM,T8e=E8e("forEach"),M8e=T8e?[].forEach:function(t){return w8e(this,t,arguments.length>1?arguments[1]:void 0)},BL=tn,zL=iH,A8e=aH,F$=M8e,P8e=Df,fH=function(e){if(e&&e.forEach!==F$)try{P8e(e,"forEach",F$)}catch{e.forEach=F$}};for(var k$ in zL)zL[k$]&&fH(BL[k$]&&BL[k$].prototype);fH(A8e);var dH=Yn,C8e=Mt,hH=Ct,R8e=DM,I8e=e_,O8e=ba,D8e=Zg.f,pH=hH(D8e),L8e=hH([].push),N8e=dH&&C8e(function(){var e=Object.create(null);return e[2]=2,!pH(e,2)}),HL=function(e){return function(t){for(var n=O8e(t),r=I8e(n),i=N8e&&R8e(n)===null,a=r.length,o=0,s=[],c;a>o;)c=r[o++],(!dH||(i?c in n:pH(n,c)))&&L8e(s,e?[c,n[c]]:n[c]);return s}},U8e={entries:HL(!0),values:HL(!1)},F8e=Rt,k8e=U8e.entries;F8e({target:"Object",stat:!0},{entries:function(t){return k8e(t)}});function GL(e){return e!=null&&!Number.isNaN(e)}function B8e(e,t){return+GL(t)-+GL(e)||Ji(e,t)}function vH(e){return isFinite(e)?e:NaN}function jM(e){return e>0&&isFinite(e)?e:NaN}function mH(e){return e<0&&isFinite(e)?e:NaN}const z8e=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function gH(e,t){return z8e.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const H8e=new Map([["second",Hr],["minute",of],["hour",cf],["day",ms],["week",ja],["month",Qi],["quarter",Qi.every(3)],["half",Qi.every(6)],["year",Wr],["monday",Xc],["tuesday",uE],["wednesday",lE],["thursday",Wa],["friday",fE],["saturday",dE],["sunday",ja]]),G8e=new Map([["second",Hr],["minute",sf],["hour",uf],["day",fu],["week",Xa],["month",ea],["quarter",ea.every(3)],["half",ea.every(6)],["year",Xr],["monday",Yc],["tuesday",hE],["wednesday",pE],["thursday",Ya],["friday",vE],["saturday",mE],["sunday",Xa]]);function V8e(e){const t=H8e.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function j8e(e){const t=G8e.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const _H=Object.getPrototypeOf(Uint8Array),W8e=Object.prototype.toString,X8e=e=>()=>e;function VL(e){return e instanceof _H?e:f_(e,Y8e,Float64Array)}function Y8e(e){return e==null?NaN:Number(e)}function q8e(e){return f_(e,K8e)}function K8e(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?gH(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function yH(e){return e==null||e instanceof Array||e instanceof _H?e:Array.from(e)}function f_(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Sx(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Z8e(e){return(e==null?void 0:e.toString)===W8e}function J8e(e){return Z8e(e)&&(e.type!==void 0||e.domain!==void 0)}function Q8e(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Rl(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Rl(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?V8e:j8e)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function d_(e,t){if(e=Q8e(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function e6e(e,t){if(e=d_(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function jL(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function xx(e){for(const t of e)if(t!=null)return t instanceof Date}function t6e(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&gH(t)}function n6e(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function r6e(e){return e==null||i6e(e)}function i6e(e){return/^\s*none\s*$/i.test(e)}function WM(e){if(e==null)return;const t=e[0],n=e[e.length-1];return vs(t,n)}const Fa=Symbol("position"),xi=Symbol("color"),h_=Symbol("radius"),p_=Symbol("length"),v_=Symbol("opacity"),m_=Symbol("symbol"),Mn=new Map([["x",Fa],["y",Fa],["fx",Fa],["fy",Fa],["r",h_],["color",xi],["opacity",v_],["symbol",m_],["length",p_]]),a6e=Math.sqrt(3),o6e=2/a6e,s6e={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*o6e,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},c6e=new Map([["asterisk",XE],["circle",zm],["cross",YE],["diamond",qE],["diamond2",KE],["hexagon",s6e],["plus",ZE],["square",JE],["square2",QE],["star",e2],["times",i2],["triangle",t2],["triangle2",n2],["wye",r2]]);function u6e(e){return e&&typeof e.draw=="function"}function $H(e){if(e==null||u6e(e))return e;const t=c6e.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function B$(e){console.warn(e)}const WL=new Map([["accent",Fk],["category10",Uk],["dark2",kk],["paired",Bk],["pastel1",zk],["pastel2",Hk],["set1",Gk],["set2",Vk],["set3",jk],["tableau10",Wk],["brbg",Ni(SE,im)],["prgn",Ni(xE,am)],["piyg",Ni(wE,om)],["puor",Ni(EE,sm)],["rdbu",Ni(Ul,qa)],["rdgy",Ni(TE,cm)],["rdylbu",Ni(Fl,Ka)],["rdylgn",Ni(ME,um)],["spectral",Ni(AE,lm)],["burd",XL(Ul,qa)],["buylrd",XL(Fl,Ka)],["blues",on(zE,xm)],["greens",on(HE,wm)],["greys",on(GE,Em)],["oranges",on(WE,Am)],["purples",on(VE,Tm)],["reds",on(jE,Mm)],["turbo",Ui(Lm)],["viridis",Ui(Um)],["magma",Ui(Fm)],["inferno",Ui(km)],["plasma",Ui(Bm)],["cividis",Ui(Pm)],["cubehelix",Ui(Cm)],["warm",Ui(Rm)],["cool",Ui(Im)],["bugn",on(PE,fm)],["bupu",on(CE,dm)],["gnbu",on(RE,hm)],["orrd",on(IE,pm)],["pubu",on(DE,mm)],["pubugn",on(OE,vm)],["purd",on(LE,gm)],["rdpu",on(NE,_m)],["ylgn",on(FE,$m)],["ylgnbu",on(UE,ym)],["ylorbr",on(kE,bm)],["ylorrd",on(BE,Sm)],["rainbow",YL(Om)],["sinebow",YL(Dm)]]);function on(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?jt(t,n):e[n])}function Ni(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?jt(t,n):e[n])}function XL(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?jt(r=>t(1-r),n):e[n].slice().reverse())}function Ui(e){return({length:t})=>jt(e,Math.max(2,Math.floor(t)))}function YL(e){return({length:t})=>jt(e,Math.floor(t)+1).slice(0,-1)}function bH(e){const t=`${e}`.toLowerCase();if(!WL.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return WL.get(t)}function g_(e,t){const n=bH(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function l6e(e,t="greys"){const n=new Set,[r,i]=g_(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const qL=new Map([["brbg",im],["prgn",am],["piyg",om],["puor",sm],["rdbu",qa],["rdgy",cm],["rdylbu",Ka],["rdylgn",um],["spectral",lm],["burd",e=>qa(1-e)],["buylrd",e=>Ka(1-e)],["blues",xm],["greens",wm],["greys",Em],["purples",Tm],["reds",Mm],["oranges",Am],["turbo",Lm],["viridis",Um],["magma",Fm],["inferno",km],["plasma",Bm],["cividis",Pm],["cubehelix",Cm],["warm",Rm],["cool",Im],["bugn",fm],["bupu",dm],["gnbu",hm],["orrd",pm],["pubugn",vm],["pubu",mm],["purd",gm],["rdpu",_m],["ylgnbu",ym],["ylgn",$m],["ylorbr",bm],["ylorrd",Sm],["rainbow",Om],["sinebow",Dm]]);function XM(e){const t=`${e}`.toLowerCase();if(!qL.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return qL.get(t)}const f6e=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function KL(e){return e!=null&&f6e.has(`${e}`.toLowerCase())}const SH=e=>t=>e(1-t),z$=[0,1],ZL=new Map([["number",Kt],["rgb",yi],["hsl",ik],["hcl",ok],["lab",ak]]);function xH(e){const t=`${e}`.toLowerCase();if(!ZL.has(t))throw new Error(`unknown interpolator: ${t}`);return ZL.get(t)}function zf(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:s=EH(e,n),unknown:c,round:u,scheme:l,interval:f,range:d=Mn.get(e)===h_?S6e(n,s):Mn.get(e)===p_?x6e(n,s):Mn.get(e)===v_?z$:void 0,interpolate:h=Mn.get(e)===xi?l==null&&d!==void 0?yi:XM(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?qv:Kt,reverse:m}){if(f=d_(f,r),(r==="cyclical"||r==="sequential")&&(r="linear"),m=!!m,typeof h!="function"&&(h=xH(h)),h.length===1?(m&&(h=SH(h),m=!1),d===void 0&&(d=Float64Array.from(s,(g,p)=>p/(s.length-1)),d.length===2&&(d=z$)),t.interpolate((d===z$?X8e:TH)(h))):t.interpolate(h),o){const[g,p]=uu(s);(g>0||p<0)&&(s=Sx(s),WM(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return m&&(s=Va(s)),t.domain(s).unknown(c),i&&(t.nice(d6e(i,r)),s=t.domain()),d!==void 0&&t.range(d),a&&t.clamp(a),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:f}}function d6e(e,t){return e===!0?void 0:typeof e=="number"?e:e6e(e,t)}function h6e(e,t,n){return zf(e,tE(),t,n)}function p6e(e,t,n){return wH(e,t,{...n,exponent:.5})}function wH(e,t,{exponent:n=1,...r}){return zf(e,aE().exponent(n),t,{...r,type:"pow"})}function v6e(e,t,{base:n=10,domain:r=w6e(t),...i}){return zf(e,rE().base(n),t,{...i,domain:r})}function m6e(e,t,{constant:n=1,...r}){return zf(e,iE().constant(n),t,r)}function g6e(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=E6e(t),unknown:s,interpolate:c,reverse:u}){return n===void 0&&(n=c!==void 0?jt(c,i):Mn.get(e)===xi?g_(a,i):void 0),o.length>0&&(o=oE(o,n===void 0?{length:i}:n).quantiles()),YM(e,t,{domain:o,range:n,reverse:u,unknown:s})}function _6e(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=EH(e,t),unknown:o,interpolate:s,reverse:c}){const[u,l]=uu(a);let f;return n===void 0?(f=Pl(u,l,r),f[0]<=u&&f.splice(0,1),f[f.length-1]>=l&&f.pop(),r=f.length+1,n=s!==void 0?jt(s,r):Mn.get(e)===xi?g_(i,r):void 0):(f=jt(Kt(u,l),r+1).slice(1,-1),u instanceof Date&&(f=f.map(d=>new Date(d)))),WM(yH(a))<0&&f.reverse(),YM(e,t,{domain:f,range:n,reverse:c,unknown:o})}function YM(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?jt(a,n.length+1):Mn.get(e)===xi?g_(i,n.length+1):void 0,reverse:s}){n=yH(n);const c=WM(n);if(!isNaN(c)&&!y6e(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=Va(o)),{type:"threshold",scale:sE(c<0?Va(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function y6e(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=vs(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function $6e(){return{type:"identity",scale:nE()}}function Kl(e,t=vH){return e.length?[Hc(e,({value:n})=>n===void 0?n:Hc(n,t)),Wn(e,({value:n})=>n===void 0?n:Wn(n,t))]:[0,1]}function EH(e,t){const n=Mn.get(e);return(n===h_||n===v_||n===p_?b6e:Kl)(t)}function b6e(e){return[0,e.length?Wn(e,({value:t})=>t===void 0?t:Wn(t,vH)):1]}function S6e(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Cl(e,.5,({value:o})=>o===void 0?NaN:Cl(o,.25,jM)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/Wn(i);return a<1?i.map(o=>o*a):i}function x6e(e,t){const n=Hp(e,({value:a})=>a===void 0?NaN:Hp(a,Math.abs)),r=t.map(a=>12*a/n),i=60/Wn(r);return i<1?r.map(a=>a*i):r}function w6e(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Kl(e,jM);if(n<0)return Kl(e,mH)}return[1,10]}function E6e(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function TH(e){return(t,n)=>r=>e(t+r*(n-t))}function __(e,t,n,r,{type:i,nice:a,clamp:o,domain:s=Kl(r),unknown:c,pivot:u=0,scheme:l,range:f,symmetric:d=!0,interpolate:h=Mn.get(e)===xi?l==null&&f!==void 0?yi:XM(l!==void 0?l:"rdbu"):Kt,reverse:m}){u=+u;let[g,p]=s;if(vs(g,p)<0&&([g,p]=[p,g],m=!m),g=Math.min(g,u),p=Math.max(p,u),typeof h!="function"&&(h=xH(h)),f!==void 0&&(h=h.length===1?TH(h)(...f):Yw(h,f)),m&&(h=SH(h)),d){const v=n.apply(u),y=v-n.apply(g),_=n.apply(p)-v;y<_?g=n.invert(v-_):y>_&&(p=n.invert(v+y))}return t.domain([g,u,p]).unknown(c).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[g,p],pivot:u,interpolate:h,scale:t}}function T6e(e,t,n){return __(e,_E(),C6e,t,n)}function M6e(e,t,n){return MH(e,t,{...n,exponent:.5})}function MH(e,t,{exponent:n=1,...r}){return __(e,bE().exponent(n=+n),O6e(n),t,{...r,type:"diverging-pow"})}function A6e(e,t,{base:n=10,pivot:r=1,domain:i=Kl(t,r<0?mH:jM),...a}){return __(e,yE().base(n=+n),R6e,t,{domain:i,pivot:r,...a})}function P6e(e,t,{constant:n=1,...r}){return __(e,$E().constant(n=+n),D6e(n),t,r)}const C6e={apply(e){return e},invert(e){return e}},R6e={apply:Math.log,invert:Math.exp},I6e={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function O6e(e){return e===.5?I6e:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function D6e(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function AH(e,t,n,r){return zf(e,t,n,r)}function L6e(e,t,n){return AH(e,Lk(),t,n)}function N6e(e,t,n){return AH(e,Nk(),t,n)}const Hf=Symbol("ordinal");function PH(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:s,hint:c}){return i=d_(i,r),a===void 0&&(a=RH(n,i,e)),(r==="categorical"||r===Hf)&&(r="ordinal"),s&&(a=Va(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:c,interval:i}}function U6e(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:s,...c}){r=d_(r,n),i===void 0&&(i=RH(t,r,e));let u;if(Mn.get(e)===m_)u=B6e(t),a=a===void 0?z6e(u):f_(a,$H);else if(Mn.get(e)===xi&&(a===void 0&&(n==="ordinal"||n===Hf)&&(a=l6e(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const l=XM(o),f=a[0],d=a[1]-a[0];a=({length:h})=>jt(m=>l(f+d*m),h)}else a=bH(o);if(s===Zp)throw new Error(`implicit unknown on ${e} scale is not supported`);return PH(e,Qv().unknown(s),t,{...c,type:n,domain:i,range:a,hint:u})}function F6e(e,t,{align:n=.5,padding:r=.5,...i}){return CH(bk().align(n).padding(r),t,i,e)}function k6e(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return CH(em().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function CH(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=PH(r,e,t,n),e.round=i,e}function RH(e,t,n){const r=new xF;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=uu(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&Mn.get(n)===Fa)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return MF(r,B8e)}function JL(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function B6e(e){return{fill:JL(e,"fill"),stroke:JL(e,"stroke")}}function z6e(e){return r6e(e.fill)?e5:Qk}function H6e(e,t,n){return G6e(e,void 0,{...t})}function G6e(e,t=[],n={}){const r=V6e(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&j6e({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(xx)?B$(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${qs(r)}".`):i.some(t6e)?B$(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qs(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${qs(r)}".`):i.some(n6e)&&B$(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qs(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${qs(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=oh(t,n,VL);break;case"identity":switch(Mn.get(e)){case Fa:n=oh(t,n,VL);break;case m_:n=oh(t,n,W6e);break}break;case"utc":case"time":n=oh(t,n,q8e);break}switch(r){case"diverging":return T6e(e,t,n);case"diverging-sqrt":return M6e(e,t,n);case"diverging-pow":return MH(e,t,n);case"diverging-log":return A6e(e,t,n);case"diverging-symlog":return P6e(e,t,n);case"categorical":case"ordinal":case Hf:return U6e(e,t,n);case"cyclical":case"sequential":case"linear":return h6e(e,t,n);case"sqrt":return p6e(e,t,n);case"threshold":return YM(e,t,n);case"quantile":return g6e(e,t,n);case"quantize":return _6e(e,t,n);case"pow":return wH(e,t,n);case"log":return v6e(e,t,n);case"symlog":return m6e(e,t,n);case"utc":return N6e(e,t,n);case"time":return L6e(e,t,n);case"point":return F6e(e,t,n);case"band":return k6e(e,t,n);case"identity":return Mn.get(e)===Fa?$6e():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qs(e){return typeof e=="symbol"?e.description:e}const QL={toString:()=>"projection"};function V6e(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=QL);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===QL)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Mn.get(e);if(c===h_)return"sqrt";if(c===v_||c===p_)return"linear";if(c===m_)return"ordinal";if((r||i||[]).length>2)return H$(c);if(r!==void 0)return jL(r)?H$(c):xx(r)?"utc":c===xi&&(o!=null||KL(a))?"diverging":"linear";const u=t.map(({value:l})=>l).filter(l=>l!==void 0);return u.some(jL)?H$(c):u.some(xx)?"utc":c===xi&&(o!=null||KL(a))?"diverging":"linear"}function H$(e){switch(e){case Fa:return"point";case xi:return Hf;default:return"ordinal"}}function j6e({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Hf}function oh(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function W6e(e){return f_(e,$H)}function X6e(e={}){let t;for(const n in e)if(Mn.has(n)&&J8e(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Y6e(H6e(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function Y6e({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:Sx(n),...r!==void 0&&{range:Sx(r)},...o!==void 0&&{transform:o},...s&&{percent:s},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}var eN;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(eN||(eN={}));var tN;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(tN||(tN={}));var q6e=10,K6e=10,Z6e=2,J6e=0,Q6e="red";function eBe(e){try{var t=Object.keys(e)[0];return X6e(URe({},t,Object.assign(Object.assign({},e[t]),{clamp:!0})))}catch{return null}}function tBe(e,t){var n={};return t.hasOwnProperty("opacity")?(n.fill=function(){return t.opacity.baseColor||Q6e},n["fill-opacity"]=function(r){return e==null?void 0:e.apply(r)}):n.fill=function(r){return typeof r=="string"&&(r!=null&&r.startsWith("#"))?r:e==null?void 0:e.apply(r)},n}function nBe(e,t,n,r){Object.entries(tBe(t,n)).forEach(function(i){var a=FRe(i,2),o=a[0],s=a[1];return e.style(o,function(c){return s(c)})})}var rBe=TypeError,iBe=9007199254740991,aBe=function(e){if(e>iBe)throw rBe("Maximum allowed index exceeded");return e},oBe=Rt,sBe=Mt,cBe=GM,uBe=yn,lBe=fo,fBe=vo,nN=aBe,rN=c_,dBe=eH,hBe=l_,pBe=qt,vBe=If,IH=pBe("isConcatSpreadable"),mBe=vBe>=51||!sBe(function(){var e=[];return e[IH]=!1,e.concat()[0]!==e}),gBe=function(e){if(!uBe(e))return!1;var t=e[IH];return t!==void 0?!!t:cBe(e)},_Be=!mBe||!hBe("concat");oBe({target:"Array",proto:!0,arity:1,forced:_Be},{concat:function(t){var n=lBe(this),r=dBe(n,0),i=0,a,o,s,c,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?n:arguments[a],gBe(u))for(c=fBe(u),nN(i+c),o=0;o<c;o++,i++)o in u&&rN(r,i,u[o]);else nN(i+1),rN(r,i++,u);return r.length=i,r}});var yBe=Rt,$Be=qn,bBe=Ri,SBe=Rs,xBe=a_,wBe=$u,EBe=IM;yBe({target:"Promise",stat:!0,forced:EBe},{allSettled:function(t){var n=this,r=SBe.f(n),i=r.resolve,a=r.reject,o=xBe(function(){var s=bBe(n.resolve),c=[],u=0,l=1;wBe(t,function(f){var d=u++,h=!1;l++,$Be(s,n,f).then(function(m){h||(h=!0,c[d]={status:"fulfilled",value:m},--l||i(c))},function(m){h||(h=!0,c[d]={status:"rejected",reason:m},--l||i(c))})}),--l||i(c)});return o.error&&a(o.value),r.promise}});var TBe=OM,MBe=mM,iN=Qz,ABe=yu,PBe=r_,CBe=As,RBe=$u,IBe=LM,sh=NM,OBe=tz,Wu=Yn,aN=HM.fastKey,OH=_u,oN=OH.set,G$=OH.getterFor,DBe={getConstructor:function(e,t,n,r){var i=e(function(u,l){PBe(u,a),oN(u,{type:t,index:TBe(null),first:void 0,last:void 0,size:0}),Wu||(u.size=0),CBe(l)||RBe(l,u[r],{that:u,AS_ENTRIES:n})}),a=i.prototype,o=G$(t),s=function(u,l,f){var d=o(u),h=c(u,l),m,g;return h?h.value=f:(d.last=h={index:g=aN(l,!0),key:l,value:f,previous:m=d.last,next:void 0,removed:!1},d.first||(d.first=h),m&&(m.next=h),Wu?d.size++:u.size++,g!=="F"&&(d.index[g]=h)),u},c=function(u,l){var f=o(u),d=aN(l),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key===l)return h};return iN(a,{clear:function(){for(var l=this,f=o(l),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,Wu?f.size=0:l.size=0},delete:function(u){var l=this,f=o(l),d=c(l,u);if(d){var h=d.next,m=d.previous;delete f.index[d.index],d.removed=!0,m&&(m.next=h),h&&(h.previous=m),f.first===d&&(f.first=h),f.last===d&&(f.last=m),Wu?f.size--:l.size--}return!!d},forEach:function(l){for(var f=o(this),d=ABe(l,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(l){return!!c(this,l)}}),iN(a,n?{get:function(l){var f=c(this,l);return f&&f.value},set:function(l,f){return s(this,l===0?0:l,f)}}:{add:function(l){return s(this,l=l===0?0:l,l)}}),Wu&&MBe(a,"size",{configurable:!0,get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=G$(t),a=G$(r);IBe(e,t,function(o,s){oN(this,{type:r,target:o,state:i(o),kind:s,last:void 0})},function(){for(var o=a(this),s=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=void 0,sh(void 0,!0)):sh(s==="keys"?c.key:s==="values"?c.value:[c.key,c.value],!1)},n?"entries":"values",!n,!0),OBe(t)}},LBe=Jz,NBe=DBe;LBe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},NBe);var sN=Of,UBe=TypeError,FBe=function(e,t){if(!delete e[t])throw new UBe("Cannot delete property "+sN(t)+" of "+sN(e))},cN=Yz,kBe=Math.floor,wx=function(e,t){var n=e.length,r=kBe(n/2);return n<8?BBe(e,t):zBe(e,wx(cN(e,0,r),t),wx(cN(e,r),t),t)},BBe=function(e,t){for(var n=e.length,r=1,i,a;r<n;){for(a=r,i=e[r];a&&t(e[a-1],i)>0;)e[a]=e[--a];a!==r++&&(e[a]=i)}return e},zBe=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e},HBe=wx,GBe=Cs,uN=GBe.match(/firefox\/(\d+)/i),VBe=!!uN&&+uN[1],jBe=Cs,WBe=/MSIE|Trident/.test(jBe),XBe=Cs,lN=XBe.match(/AppleWebKit\/(\d+)\./),YBe=!!lN&&+lN[1],qBe=Rt,DH=Ct,KBe=Ri,ZBe=fo,fN=vo,JBe=FBe,dN=Bf,qM=Mt,QBe=HBe,e7e=VM,hN=VBe,t7e=WBe,pN=If,vN=YBe,ka=[],mN=DH(ka.sort),n7e=DH(ka.push),r7e=qM(function(){ka.sort(void 0)}),i7e=qM(function(){ka.sort(null)}),a7e=e7e("sort"),LH=!qM(function(){if(pN)return pN<70;if(!(hN&&hN>3)){if(t7e)return!0;if(vN)return vN<603;var e="",t,n,r,i;for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)ka.push({k:n+i,v:r})}for(ka.sort(function(a,o){return o.v-a.v}),i=0;i<ka.length;i++)n=ka[i].k.charAt(0),e.charAt(e.length-1)!==n&&(e+=n);return e!=="DGBEFHACIJK"}}),o7e=r7e||!i7e||!a7e||!LH,s7e=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:dN(t)>dN(n)?1:-1}};qBe({target:"Array",proto:!0,forced:o7e},{sort:function(t){t!==void 0&&KBe(t);var n=ZBe(this);if(LH)return t===void 0?mN(n):mN(n,t);var r=[],i=fN(n),a,o;for(o=0;o<i;o++)o in n&&n7e(r,n[o]);for(QBe(r,s7e(t)),a=fN(r),o=0;o<a;)n[o]=r[o++];for(;o<i;)JBe(n,o++);return n}});var c7e=Rt,u7e=J9.includes,l7e=Mt,f7e=Uz,d7e=l7e(function(){return!Array(1).includes()});c7e({target:"Array",proto:!0,forced:d7e},{includes:function(t){return u7e(this,t,arguments.length>1?arguments[1]:void 0)}});f7e("includes");var h7e=Rt,p7e=u_.map,v7e=l_,m7e=v7e("map");h7e({target:"Array",proto:!0,forced:!m7e},{map:function(t){return p7e(this,t,arguments.length>1?arguments[1]:void 0)}});var g7e=Rt,_7e=u_.filter,y7e=l_,$7e=y7e("filter");g7e({target:"Array",proto:!0,forced:!$7e},{filter:function(t){return _7e(this,t,arguments.length>1?arguments[1]:void 0)}});var b7e=Mr,S7e=Rz,x7e=function(e,t,n,r){try{return r?t(b7e(n)[0],n[1]):t(n)}catch(i){S7e(e,"throw",i)}},w7e=yu,E7e=qn,T7e=fo,M7e=x7e,A7e=Pz,P7e=i_,C7e=vo,gN=c_,R7e=Cz,I7e=CM,_N=Array,O7e=function(t){var n=T7e(t),r=P7e(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=w7e(a,i>2?arguments[2]:void 0));var s=I7e(n),c=0,u,l,f,d,h,m;if(s&&!(this===_N&&A7e(s)))for(d=R7e(n,s),h=d.next,l=r?new this:[];!(f=E7e(h,d)).done;c++)m=o?M7e(d,a,[f.value,c],!0):f.value,gN(l,c,m);else for(u=C7e(n),l=r?new this(u):_N(u);u>c;c++)m=o?a(n[c],c):n[c],gN(l,c,m);return l.length=c,l},D7e=Rt,L7e=O7e,N7e=RM,U7e=!N7e(function(e){Array.from(e)});D7e({target:"Array",stat:!0,forced:U7e},{from:L7e});var NH=`	
\v\f\r                　\u2028\u2029\uFEFF`,F7e=Ct,k7e=Rf,B7e=Bf,Ex=NH,yN=F7e("".replace),z7e=RegExp("^["+Ex+"]+"),H7e=RegExp("(^|[^"+Ex+"])["+Ex+"]+$"),V$=function(e){return function(t){var n=B7e(k7e(t));return e&1&&(n=yN(n,z7e,"")),e&2&&(n=yN(n,H7e,"$1")),n}},G7e={start:V$(1),end:V$(2),trim:V$(3)},V7e=Xg.PROPER,j7e=Mt,$N=NH,bN="​᠎",W7e=function(e){return j7e(function(){return!!$N[e]()||bN[e]()!==bN||V7e&&$N[e].name!==e})},X7e=Rt,Y7e=G7e.trim,q7e=W7e;X7e({target:"String",proto:!0,forced:q7e("trim")},{trim:function(){return Y7e(this)}});var K7e=".ch-subdomain",Z7e=".ch-container",Tl,UH,j$,W$=".ch-plugin-legend-lite",J7e={enabled:!0,itemSelector:null,width:q6e,height:K6e,gutter:Z6e,radius:J6e,includeBlank:!1},Q7e=function(){function e(t){DRe(this,e),Tl.add(this),this.name="LegendLite",this.calendar=t,this.root=null,this.shown=!1,this.options=J7e}return NRe(e,[{key:"setup",value:function(n){this.options=Object.assign(Object.assign({},this.options),n)}},{key:"paint",value:function(){var n=this.options,r=n.enabled,i=n.itemSelector;if(!r||i&&Zo(i).empty())return this.destroy();this.shown=!0,this.root=Zo(i||this.calendar.options.options.itemSelector),this.root.select(W$).empty()?this.root=this.root.append("div").attr("class",W$.slice(1)):this.root=this.root.select(W$);var a=bx(this,Tl,"m",UH).call(this);return this.root.selectAll("*").remove(),this.root.append(function(){return a.node()}),Promise.resolve()}},{key:"destroy",value:function(){return this.root!==null&&(this.root.remove(),this.root=null),Promise.resolve()}}]),e}();Tl=new WeakSet,UH=function(){var t=this,n=TX("svg"),r=eBe(this.calendar.options.options.scale),i=this.options,a=i.width,o=i.height,s=i.gutter,c=i.includeBlank,u=kRe(r.range);return c&&u.unshift(null),n.attr("class",Z7e.slice(1)).attr("width",u.length*a+(u.length-1)*s).attr("height",o),n.selectAll("rect").data(u).join(function(l){return l.append("rect").call(function(f){return bx(t,Tl,"m",j$).call(t,f,r)})},function(l){return l.selectAll("rect").call(function(f){return bx(t,Tl,"m",j$).call(t,f,r)})}),n},j$=function(t,n){var r=this,i=this.options,a=i.width,o=i.height,s=i.radius,c=i.gutter;return t.attr("width",a).attr("height",o).attr("class","".concat(K7e.slice(1),"-bg")).attr("rx",s).attr("ry",s).attr("x",function(u,l){return l*(a+c)}).attr("y",0).call(function(u){nBe(u,n,r.calendar.options.options.scale)})};function e9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i9e(r.key),r)}}function n9e(e,t,n){return t&&t9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r9e(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function i9e(e){var t=r9e(e,"string");return typeof t=="symbol"?t:String(t)}var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nn=function(e){try{return!!e()}catch{return!0}},a9e=nn,Ar=!a9e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),o9e=nn,y_=!o9e(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),FH=y_,kH=Function.prototype,Tx=kH.call,s9e=FH&&kH.bind.bind(Tx,Tx),zt=FH?s9e:function(e){return function(){return Tx.apply(e,arguments)}},bu=function(e){return e==null},c9e=bu,u9e=TypeError,KM=function(e){if(c9e(e))throw new u9e("Can't call method on "+e);return e},l9e=KM,f9e=Object,Gf=function(e){return f9e(l9e(e))},d9e=zt,h9e=Gf,p9e=d9e({}.hasOwnProperty),Pr=Object.hasOwn||function(t,n){return p9e(h9e(t),n)},Mx=Ar,v9e=Pr,BH=Function.prototype,m9e=Mx&&Object.getOwnPropertyDescriptor,ZM=v9e(BH,"name"),g9e=ZM&&(function(){}).name==="something",_9e=ZM&&(!Mx||Mx&&m9e(BH,"name").configurable),JM={EXISTS:ZM,PROPER:g9e,CONFIGURABLE:_9e},zH={exports:{}},Ax=typeof document=="object"&&document.all,y9e=typeof Ax>"u"&&Ax!==void 0,HH={all:Ax,IS_HTMLDDA:y9e},GH=HH,$9e=GH.all,Ft=GH.IS_HTMLDDA?function(e){return typeof e=="function"||e===$9e}:function(e){return typeof e=="function"},Xu=function(e){return e&&e.Math===Math&&e},rn=Xu(typeof globalThis=="object"&&globalThis)||Xu(typeof window=="object"&&window)||Xu(typeof self=="object"&&self)||Xu(typeof ch=="object"&&ch)||Xu(typeof ch=="object"&&ch)||function(){return this}()||Function("return this")(),SN=rn,b9e=Object.defineProperty,QM=function(e,t){try{b9e(SN,e,{value:t,configurable:!0,writable:!0})}catch{SN[e]=t}return t},S9e=rn,x9e=QM,xN="__core-js_shared__",w9e=S9e[xN]||x9e(xN,{}),eA=w9e,E9e=zt,T9e=Ft,Px=eA,M9e=E9e(Function.toString);T9e(Px.inspectSource)||(Px.inspectSource=function(e){return M9e(e)});var tA=Px.inspectSource,A9e=rn,P9e=Ft,wN=A9e.WeakMap,C9e=P9e(wN)&&/native code/.test(String(wN)),EN=Ft,VH=HH,R9e=VH.all,Kn=VH.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:EN(e)||e===R9e}:function(e){return typeof e=="object"?e!==null:EN(e)},ei={},I9e=rn,TN=Kn,Cx=I9e.document,O9e=TN(Cx)&&TN(Cx.createElement),$_=function(e){return O9e?Cx.createElement(e):{}},D9e=Ar,L9e=nn,N9e=$_,jH=!D9e&&!L9e(function(){return Object.defineProperty(N9e("div"),"a",{get:function(){return 7}}).a!==7}),U9e=Ar,F9e=nn,WH=U9e&&F9e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),k9e=Kn,B9e=String,z9e=TypeError,ti=function(e){if(k9e(e))return e;throw new z9e(B9e(e)+" is not an object")},H9e=y_,uh=Function.prototype.call,Cr=H9e?uh.bind(uh):function(){return uh.apply(uh,arguments)},X$=rn,G9e=Ft,V9e=function(e){return G9e(e)?e:void 0},Is=function(e,t){return arguments.length<2?V9e(X$[e]):X$[e]&&X$[e][t]},j9e=zt,nA=j9e({}.isPrototypeOf),b_=typeof navigator<"u"&&String(navigator.userAgent)||"",XH=rn,Y$=b_,MN=XH.process,AN=XH.Deno,PN=MN&&MN.versions||AN&&AN.version,CN=PN&&PN.v8,kr,Pv;CN&&(kr=CN.split("."),Pv=kr[0]>0&&kr[0]<4?1:+(kr[0]+kr[1]));!Pv&&Y$&&(kr=Y$.match(/Edge\/(\d+)/),(!kr||kr[1]>=74)&&(kr=Y$.match(/Chrome\/(\d+)/),kr&&(Pv=+kr[1])));var YH=Pv,RN=YH,W9e=nn,X9e=rn,Y9e=X9e.String,qH=!!Object.getOwnPropertySymbols&&!W9e(function(){var e=Symbol("symbol detection");return!Y9e(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&RN&&RN<41}),q9e=qH,KH=q9e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",K9e=Is,Z9e=Ft,J9e=nA,Q9e=KH,eze=Object,ZH=Q9e?function(e){return typeof e=="symbol"}:function(e){var t=K9e("Symbol");return Z9e(t)&&J9e(t.prototype,eze(e))},tze=String,S_=function(e){try{return tze(e)}catch{return"Object"}},nze=Ft,rze=S_,ize=TypeError,mo=function(e){if(nze(e))return e;throw new ize(rze(e)+" is not a function")},aze=mo,oze=bu,rA=function(e,t){var n=e[t];return oze(n)?void 0:aze(n)},q$=Cr,K$=Ft,Z$=Kn,sze=TypeError,cze=function(e,t){var n,r;if(t==="string"&&K$(n=e.toString)&&!Z$(r=q$(n,e))||K$(n=e.valueOf)&&!Z$(r=q$(n,e))||t!=="string"&&K$(n=e.toString)&&!Z$(r=q$(n,e)))return r;throw new sze("Can't convert object to primitive value")},JH={exports:{}},IN=eA;(JH.exports=function(e,t){return IN[e]||(IN[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"});var QH=JH.exports,uze=zt,lze=0,fze=Math.random(),dze=uze(1 .toString),iA=function(e){return"Symbol("+(e===void 0?"":e)+")_"+dze(++lze+fze,36)},hze=rn,pze=QH,ON=Pr,vze=iA,mze=qH,gze=KH,Cc=hze.Symbol,J$=pze("wks"),_ze=gze?Cc.for||Cc:Cc&&Cc.withoutSetter||vze,Nn=function(e){return ON(J$,e)||(J$[e]=mze&&ON(Cc,e)?Cc[e]:_ze("Symbol."+e)),J$[e]},yze=Cr,DN=Kn,LN=ZH,$ze=rA,bze=cze,Sze=Nn,xze=TypeError,wze=Sze("toPrimitive"),Eze=function(e,t){if(!DN(e)||LN(e))return e;var n=$ze(e,wze),r;if(n){if(t===void 0&&(t="default"),r=yze(n,e,t),!DN(r)||LN(r))return r;throw new xze("Can't convert object to primitive value")}return t===void 0&&(t="number"),bze(e,t)},Tze=Eze,Mze=ZH,aA=function(e){var t=Tze(e,"string");return Mze(t)?t:t+""},Aze=Ar,Pze=jH,Cze=WH,lh=ti,NN=aA,Rze=TypeError,Q$=Object.defineProperty,Ize=Object.getOwnPropertyDescriptor,e1="enumerable",t1="configurable",n1="writable";ei.f=Aze?Cze?function(t,n,r){if(lh(t),n=NN(n),lh(r),typeof t=="function"&&n==="prototype"&&"value"in r&&n1 in r&&!r[n1]){var i=Ize(t,n);i&&i[n1]&&(t[n]=r.value,r={configurable:t1 in r?r[t1]:i[t1],enumerable:e1 in r?r[e1]:i[e1],writable:!1})}return Q$(t,n,r)}:Q$:function(t,n,r){if(lh(t),n=NN(n),lh(r),Pze)try{return Q$(t,n,r)}catch{}if("get"in r||"set"in r)throw new Rze("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var x_=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Oze=Ar,Dze=ei,Lze=x_,Vf=Oze?function(e,t,n){return Dze.f(e,t,Lze(1,n))}:function(e,t,n){return e[t]=n,e},Nze=QH,Uze=iA,UN=Nze("keys"),oA=function(e){return UN[e]||(UN[e]=Uze(e))},w_={},Fze=C9e,eG=rn,kze=Kn,Bze=Vf,r1=Pr,i1=eA,zze=oA,Hze=w_,FN="Object already initialized",Rx=eG.TypeError,Gze=eG.WeakMap,Cv,Zl,Rv,Vze=function(e){return Rv(e)?Zl(e):Cv(e,{})},jze=function(e){return function(t){var n;if(!kze(t)||(n=Zl(t)).type!==e)throw new Rx("Incompatible receiver, "+e+" required");return n}};if(Fze||i1.state){var ai=i1.state||(i1.state=new Gze);ai.get=ai.get,ai.has=ai.has,ai.set=ai.set,Cv=function(e,t){if(ai.has(e))throw new Rx(FN);return t.facade=e,ai.set(e,t),t},Zl=function(e){return ai.get(e)||{}},Rv=function(e){return ai.has(e)}}else{var Ks=zze("state");Hze[Ks]=!0,Cv=function(e,t){if(r1(e,Ks))throw new Rx(FN);return t.facade=e,Bze(e,Ks,t),t},Zl=function(e){return r1(e,Ks)?e[Ks]:{}},Rv=function(e){return r1(e,Ks)}}var jf={set:Cv,get:Zl,has:Rv,enforce:Vze,getterFor:jze},sA=zt,Wze=nn,Xze=Ft,fh=Pr,Ix=Ar,Yze=JM.CONFIGURABLE,qze=tA,tG=jf,Kze=tG.enforce,Zze=tG.get,kN=String,Tp=Object.defineProperty,Jze=sA("".slice),Qze=sA("".replace),eHe=sA([].join),tHe=Ix&&!Wze(function(){return Tp(function(){},"length",{value:8}).length!==8}),nHe=String(String).split("String"),rHe=zH.exports=function(e,t,n){Jze(kN(t),0,7)==="Symbol("&&(t="["+Qze(kN(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!fh(e,"name")||Yze&&e.name!==t)&&(Ix?Tp(e,"name",{value:t,configurable:!0}):e.name=t),tHe&&n&&fh(n,"arity")&&e.length!==n.arity&&Tp(e,"length",{value:n.arity});try{n&&fh(n,"constructor")&&n.constructor?Ix&&Tp(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=Kze(e);return fh(r,"source")||(r.source=eHe(nHe,typeof t=="string"?t:"")),e};Function.prototype.toString=rHe(function(){return Xze(this)&&Zze(this).source||qze(this)},"toString");var nG=zH.exports,BN=nG,iHe=ei,rG=function(e,t,n){return n.get&&BN(n.get,t,{getter:!0}),n.set&&BN(n.set,t,{setter:!0}),iHe.f(e,t,n)},aHe=Ar,oHe=JM.EXISTS,iG=zt,sHe=rG,aG=Function.prototype,cHe=iG(aG.toString),oG=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,uHe=iG(oG.exec),lHe="name";aHe&&!oHe&&sHe(aG,lHe,{configurable:!0,get:function(){try{return uHe(oG,cHe(this))[1]}catch{return""}}});var E_={},cA={},sG={}.propertyIsEnumerable,cG=Object.getOwnPropertyDescriptor,fHe=cG&&!sG.call({1:2},1);cA.f=fHe?function(t){var n=cG(this,t);return!!n&&n.enumerable}:sG;var uG=zt,dHe=uG({}.toString),hHe=uG("".slice),Os=function(e){return hHe(dHe(e),8,-1)},pHe=zt,vHe=nn,mHe=Os,a1=Object,gHe=pHe("".split),T_=vHe(function(){return!a1("z").propertyIsEnumerable(0)})?function(e){return mHe(e)==="String"?gHe(e,""):a1(e)}:a1,_He=T_,yHe=KM,Ds=function(e){return _He(yHe(e))},$He=Ar,bHe=Cr,SHe=cA,xHe=x_,wHe=Ds,EHe=aA,THe=Pr,MHe=jH,zN=Object.getOwnPropertyDescriptor;E_.f=$He?zN:function(t,n){if(t=wHe(t),n=EHe(n),MHe)try{return zN(t,n)}catch{}if(THe(t,n))return xHe(!bHe(SHe.f,t,n),t[n])};var AHe=Ft,PHe=ei,CHe=nG,RHe=QM,go=function(e,t,n,r){r||(r={});var i=r.enumerable,a=r.name!==void 0?r.name:t;if(AHe(n)&&CHe(n,a,r),r.global)i?e[t]=n:RHe(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=n:PHe.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},M_={},IHe=Math.ceil,OHe=Math.floor,DHe=Math.trunc||function(t){var n=+t;return(n>0?OHe:IHe)(n)},LHe=DHe,uA=function(e){var t=+e;return t!==t||t===0?0:LHe(t)},NHe=uA,UHe=Math.max,FHe=Math.min,lG=function(e,t){var n=NHe(e);return n<0?UHe(n+t,0):FHe(n,t)},kHe=uA,BHe=Math.min,zHe=function(e){return e>0?BHe(kHe(e),9007199254740991):0},HHe=zHe,A_=function(e){return HHe(e.length)},GHe=Ds,VHe=lG,jHe=A_,HN=function(e){return function(t,n,r){var i=GHe(t),a=jHe(i),o=VHe(r,a),s;if(e&&n!==n){for(;a>o;)if(s=i[o++],s!==s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},WHe={includes:HN(!0),indexOf:HN(!1)},XHe=zt,o1=Pr,YHe=Ds,qHe=WHe.indexOf,KHe=w_,GN=XHe([].push),fG=function(e,t){var n=YHe(e),r=0,i=[],a;for(a in n)!o1(KHe,a)&&o1(n,a)&&GN(i,a);for(;t.length>r;)o1(n,a=t[r++])&&(~qHe(i,a)||GN(i,a));return i},lA=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ZHe=fG,JHe=lA,QHe=JHe.concat("length","prototype");M_.f=Object.getOwnPropertyNames||function(t){return ZHe(t,QHe)};var fA={};fA.f=Object.getOwnPropertySymbols;var eGe=Is,tGe=zt,nGe=M_,rGe=fA,iGe=ti,aGe=tGe([].concat),oGe=eGe("Reflect","ownKeys")||function(t){var n=nGe.f(iGe(t)),r=rGe.f;return r?aGe(n,r(t)):n},VN=Pr,sGe=oGe,cGe=E_,uGe=ei,lGe=function(e,t,n){for(var r=sGe(t),i=uGe.f,a=cGe.f,o=0;o<r.length;o++){var s=r[o];!VN(e,s)&&!(n&&VN(n,s))&&i(e,s,a(t,s))}},fGe=nn,dGe=Ft,hGe=/#|\.prototype\./,Wf=function(e,t){var n=vGe[pGe(e)];return n===gGe?!0:n===mGe?!1:dGe(t)?fGe(t):!!t},pGe=Wf.normalize=function(e){return String(e).replace(hGe,".").toLowerCase()},vGe=Wf.data={},mGe=Wf.NATIVE="N",gGe=Wf.POLYFILL="P",dA=Wf,s1=rn,_Ge=E_.f,yGe=Vf,$Ge=go,bGe=QM,SGe=lGe,xGe=dA,Rr=function(e,t){var n=e.target,r=e.global,i=e.stat,a,o,s,c,u,l;if(r?o=s1:i?o=s1[n]||bGe(n,{}):o=(s1[n]||{}).prototype,o)for(s in t){if(u=t[s],e.dontCallGetSet?(l=_Ge(o,s),c=l&&l.value):c=o[s],a=xGe(r?s:n+(i?".":"#")+s,e.forced),!a&&c!==void 0){if(typeof u==typeof c)continue;SGe(u,c)}(e.sham||c&&c.sham)&&yGe(u,"sham",!0),$Ge(o,s,u,e)}},wGe=fG,EGe=lA,hA=Object.keys||function(t){return wGe(t,EGe)},jN=Ar,TGe=zt,MGe=Cr,AGe=nn,c1=hA,PGe=fA,CGe=cA,RGe=Gf,IGe=T_,Zs=Object.assign,WN=Object.defineProperty,OGe=TGe([].concat),DGe=!Zs||AGe(function(){if(jN&&Zs({b:1},Zs(WN({},"a",{enumerable:!0,get:function(){WN(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(i){t[i]=i}),Zs({},e)[n]!==7||c1(Zs({},t)).join("")!==r})?function(t,n){for(var r=RGe(t),i=arguments.length,a=1,o=PGe.f,s=CGe.f;i>a;)for(var c=IGe(arguments[a++]),u=o?OGe(c1(c),o(c)):c1(c),l=u.length,f=0,d;l>f;)d=u[f++],(!jN||MGe(s,c,d))&&(r[d]=c[d]);return r}:Zs,LGe=Rr,XN=DGe;LGe({target:"Object",stat:!0,arity:2,forced:Object.assign!==XN},{assign:XN});var NGe=Nn,UGe=NGe("toStringTag"),dG={};dG[UGe]="z";var pA=String(dG)==="[object z]",FGe=pA,kGe=Ft,Mp=Os,BGe=Nn,zGe=BGe("toStringTag"),HGe=Object,GGe=Mp(function(){return arguments}())==="Arguments",VGe=function(e,t){try{return e[t]}catch{}},P_=FGe?Mp:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=VGe(t=HGe(e),zGe))=="string"?n:GGe?Mp(t):(r=Mp(t))==="Object"&&kGe(t.callee)?"Arguments":r},jGe=pA,WGe=P_,XGe=jGe?{}.toString:function(){return"[object "+WGe(this)+"]"},YGe=pA,qGe=go,KGe=XGe;YGe||qGe(Object.prototype,"toString",KGe,{unsafe:!0});var ZGe=rn,JGe=Os,C_=JGe(ZGe.process)==="process",QGe=zt,eVe=mo,tVe=function(e,t,n){try{return QGe(eVe(Object.getOwnPropertyDescriptor(e,t)[n]))}catch{}},nVe=Ft,rVe=String,iVe=TypeError,aVe=function(e){if(typeof e=="object"||nVe(e))return e;throw new iVe("Can't set "+rVe(e)+" as a prototype")},oVe=tVe,sVe=ti,cVe=aVe,vA=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=oVe(Object.prototype,"__proto__","set"),n(t,[]),e=t instanceof Array}catch{}return function(i,a){return sVe(i),cVe(a),e?n(i,a):i.__proto__=a,i}}():void 0),uVe=ei.f,lVe=Pr,fVe=Nn,YN=fVe("toStringTag"),Xf=function(e,t,n){e&&!n&&(e=e.prototype),e&&!lVe(e,YN)&&uVe(e,YN,{configurable:!0,value:t})},dVe=Is,hVe=rG,pVe=Nn,vVe=Ar,qN=pVe("species"),mVe=function(e){var t=dVe(e);vVe&&t&&!t[qN]&&hVe(t,qN,{configurable:!0,get:function(){return this}})},gVe=nA,_Ve=TypeError,mA=function(e,t){if(gVe(t,e))return e;throw new _Ve("Incorrect invocation")},yVe=zt,$Ve=nn,hG=Ft,bVe=P_,SVe=Is,xVe=tA,pG=function(){},wVe=[],vG=SVe("Reflect","construct"),gA=/^\s*(?:class|function)\b/,EVe=yVe(gA.exec),TVe=!gA.test(pG),Yu=function(t){if(!hG(t))return!1;try{return vG(pG,wVe,t),!0}catch{return!1}},mG=function(t){if(!hG(t))return!1;switch(bVe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return TVe||!!EVe(gA,xVe(t))}catch{return!0}};mG.sham=!0;var gG=!vG||$Ve(function(){var e;return Yu(Yu.call)||!Yu(Object)||!Yu(function(){e=!0})||e})?mG:Yu,MVe=gG,AVe=S_,PVe=TypeError,CVe=function(e){if(MVe(e))return e;throw new PVe(AVe(e)+" is not a constructor")},KN=ti,RVe=CVe,IVe=bu,OVe=Nn,DVe=OVe("species"),LVe=function(e,t){var n=KN(e).constructor,r;return n===void 0||IVe(r=KN(n)[DVe])?t:RVe(r)},NVe=y_,_G=Function.prototype,ZN=_G.apply,JN=_G.call,UVe=typeof Reflect=="object"&&Reflect.apply||(NVe?JN.bind(ZN):function(){return JN.apply(ZN,arguments)}),FVe=Os,kVe=zt,BVe=function(e){if(FVe(e)==="Function")return kVe(e)},QN=BVe,zVe=mo,HVe=y_,GVe=QN(QN.bind),R_=function(e,t){return zVe(e),t===void 0?e:HVe?GVe(e,t):function(){return e.apply(t,arguments)}},VVe=Is,yG=VVe("document","documentElement"),jVe=zt,WVe=jVe([].slice),XVe=TypeError,YVe=function(e,t){if(e<t)throw new XVe("Not enough arguments");return e},qVe=b_,$G=/(?:ipad|iphone|ipod).*applewebkit/i.test(qVe),ar=rn,KVe=UVe,ZVe=R_,eU=Ft,JVe=Pr,bG=nn,tU=yG,QVe=WVe,nU=$_,eje=YVe,tje=$G,nje=C_,Ox=ar.setImmediate,Dx=ar.clearImmediate,rje=ar.process,u1=ar.Dispatch,ije=ar.Function,rU=ar.MessageChannel,aje=ar.String,l1=0,Ml={},iU="onreadystatechange",Jl,xo,f1,d1;bG(function(){Jl=ar.location});var _A=function(e){if(JVe(Ml,e)){var t=Ml[e];delete Ml[e],t()}},h1=function(e){return function(){_A(e)}},aU=function(e){_A(e.data)},oU=function(e){ar.postMessage(aje(e),Jl.protocol+"//"+Jl.host)};(!Ox||!Dx)&&(Ox=function(t){eje(arguments.length,1);var n=eU(t)?t:ije(t),r=QVe(arguments,1);return Ml[++l1]=function(){KVe(n,void 0,r)},xo(l1),l1},Dx=function(t){delete Ml[t]},nje?xo=function(e){rje.nextTick(h1(e))}:u1&&u1.now?xo=function(e){u1.now(h1(e))}:rU&&!tje?(f1=new rU,d1=f1.port2,f1.port1.onmessage=aU,xo=ZVe(d1.postMessage,d1)):ar.addEventListener&&eU(ar.postMessage)&&!ar.importScripts&&Jl&&Jl.protocol!=="file:"&&!bG(oU)?(xo=oU,ar.addEventListener("message",aU,!1)):iU in nU("script")?xo=function(e){tU.appendChild(nU("script"))[iU]=function(){tU.removeChild(this),_A(e)}}:xo=function(e){setTimeout(h1(e),0)});var SG={set:Ox,clear:Dx},xG=function(){this.head=null,this.tail=null};xG.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var wG=xG,oje=b_,sje=/ipad|iphone|ipod/i.test(oje)&&typeof Pebble<"u",cje=b_,uje=/web0s(?!.*chrome)/i.test(cje),ls=rn,sU=R_,lje=E_.f,p1=SG.set,fje=wG,dje=$G,hje=sje,pje=uje,v1=C_,cU=ls.MutationObserver||ls.WebKitMutationObserver,uU=ls.document,lU=ls.process,dh=ls.Promise,fU=lje(ls,"queueMicrotask"),Lx=fU&&fU.value,Js,m1,g1,hh,dU;if(!Lx){var ph=new fje,vh=function(){var e,t;for(v1&&(e=lU.domain)&&e.exit();t=ph.get();)try{t()}catch(n){throw ph.head&&Js(),n}e&&e.enter()};!dje&&!v1&&!pje&&cU&&uU?(m1=!0,g1=uU.createTextNode(""),new cU(vh).observe(g1,{characterData:!0}),Js=function(){g1.data=m1=!m1}):!hje&&dh&&dh.resolve?(hh=dh.resolve(void 0),hh.constructor=dh,dU=sU(hh.then,hh),Js=function(){dU(vh)}):v1?Js=function(){lU.nextTick(vh)}:(p1=sU(p1,ls),Js=function(){p1(vh)}),Lx=function(e){ph.head||Js(),ph.add(e)}}var vje=Lx,mje=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},yA=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},gje=rn,I_=gje.Promise,EG=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",_je=EG,yje=C_,$je=!_je&&!yje&&typeof window=="object"&&typeof document=="object",bje=rn,Al=I_,Sje=Ft,xje=dA,wje=tA,Eje=Nn,Tje=$je,Mje=EG,_1=YH;Al&&Al.prototype;var Aje=Eje("species"),Nx=!1,TG=Sje(bje.PromiseRejectionEvent),Pje=xje("Promise",function(){var e=wje(Al),t=e!==String(Al);if(!t&&_1===66)return!0;if(!_1||_1<51||!/native code/.test(e)){var n=new Al(function(a){a(1)}),r=function(a){a(function(){},function(){})},i=n.constructor={};if(i[Aje]=r,Nx=n.then(function(){})instanceof r,!Nx)return!0}return!t&&(Tje||Mje)&&!TG}),Yf={CONSTRUCTOR:Pje,REJECTION_EVENT:TG,SUBCLASSING:Nx},Su={},hU=mo,Cje=TypeError,Rje=function(e){var t,n;this.promise=new e(function(r,i){if(t!==void 0||n!==void 0)throw new Cje("Bad Promise constructor");t=r,n=i}),this.resolve=hU(t),this.reject=hU(n)};Su.f=function(e){return new Rje(e)};var Ije=Rr,Iv=C_,ro=rn,nu=Cr,pU=go,vU=vA,Oje=Xf,Dje=mVe,Lje=mo,Ap=Ft,Nje=Kn,Uje=mA,Fje=LVe,MG=SG.set,$A=vje,kje=mje,Bje=yA,zje=wG,AG=jf,Ov=I_,bA=Yf,PG=Su,O_="Promise",CG=bA.CONSTRUCTOR,Hje=bA.REJECTION_EVENT,Gje=bA.SUBCLASSING,y1=AG.getterFor(O_),Vje=AG.set,Sc=Ov&&Ov.prototype,ko=Ov,mh=Sc,RG=ro.TypeError,Ux=ro.document,SA=ro.process,Fx=PG.f,jje=Fx,Wje=!!(Ux&&Ux.createEvent&&ro.dispatchEvent),IG="unhandledrejection",Xje="rejectionhandled",mU=0,OG=1,Yje=2,xA=1,DG=2,gh,gU,qje,_U,LG=function(e){var t;return Nje(e)&&Ap(t=e.then)?t:!1},NG=function(e,t){var n=t.value,r=t.state===OG,i=r?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain,c,u,l;try{i?(r||(t.rejection===DG&&Zje(t),t.rejection=xA),i===!0?c=n:(s&&s.enter(),c=i(n),s&&(s.exit(),l=!0)),c===e.promise?o(new RG("Promise-chain cycle")):(u=LG(c))?nu(u,c,a,o):a(c)):o(n)}catch(f){s&&!l&&s.exit(),o(f)}},UG=function(e,t){e.notified||(e.notified=!0,$A(function(){for(var n=e.reactions,r;r=n.get();)NG(r,e);e.notified=!1,t&&!e.rejection&&Kje(e)}))},FG=function(e,t,n){var r,i;Wje?(r=Ux.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),ro.dispatchEvent(r)):r={promise:t,reason:n},!Hje&&(i=ro["on"+e])?i(r):e===IG&&kje("Unhandled promise rejection",n)},Kje=function(e){nu(MG,ro,function(){var t=e.facade,n=e.value,r=yU(e),i;if(r&&(i=Bje(function(){Iv?SA.emit("unhandledRejection",n,t):FG(IG,t,n)}),e.rejection=Iv||yU(e)?DG:xA,i.error))throw i.value})},yU=function(e){return e.rejection!==xA&&!e.parent},Zje=function(e){nu(MG,ro,function(){var t=e.facade;Iv?SA.emit("rejectionHandled",t):FG(Xje,t,e.value)})},Rc=function(e,t,n){return function(r){e(t,r,n)}},kc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Yje,UG(e,!0))},kx=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new RG("Promise can't be resolved itself");var r=LG(t);r?$A(function(){var i={done:!1};try{nu(r,t,Rc(kx,i,e),Rc(kc,i,e))}catch(a){kc(i,a,e)}}):(e.value=t,e.state=OG,UG(e,!1))}catch(i){kc({done:!1},i,e)}}};if(CG&&(ko=function(t){Uje(this,mh),Lje(t),nu(gh,this);var n=y1(this);try{t(Rc(kx,n),Rc(kc,n))}catch(r){kc(n,r)}},mh=ko.prototype,gh=function(t){Vje(this,{type:O_,done:!1,notified:!1,parent:!1,reactions:new zje,rejection:!1,state:mU,value:void 0})},gh.prototype=pU(mh,"then",function(t,n){var r=y1(this),i=Fx(Fje(this,ko));return r.parent=!0,i.ok=Ap(t)?t:!0,i.fail=Ap(n)&&n,i.domain=Iv?SA.domain:void 0,r.state===mU?r.reactions.add(i):$A(function(){NG(i,r)}),i.promise}),gU=function(){var e=new gh,t=y1(e);this.promise=e,this.resolve=Rc(kx,t),this.reject=Rc(kc,t)},PG.f=Fx=function(e){return e===ko||e===qje?new gU(e):jje(e)},Ap(Ov)&&Sc!==Object.prototype)){_U=Sc.then,Gje||pU(Sc,"then",function(t,n){var r=this;return new ko(function(i,a){nu(_U,r,i,a)}).then(t,n)},{unsafe:!0});try{delete Sc.constructor}catch{}vU&&vU(Sc,mh)}Ije({global:!0,constructor:!0,wrap:!0,forced:CG},{Promise:ko});Oje(ko,O_,!1);Dje(O_);var qf={},Jje=Nn,Qje=qf,eWe=Jje("iterator"),tWe=Array.prototype,nWe=function(e){return e!==void 0&&(Qje.Array===e||tWe[eWe]===e)},rWe=P_,$U=rA,iWe=bu,aWe=qf,oWe=Nn,sWe=oWe("iterator"),kG=function(e){if(!iWe(e))return $U(e,sWe)||$U(e,"@@iterator")||aWe[rWe(e)]},cWe=Cr,uWe=mo,lWe=ti,fWe=S_,dWe=kG,hWe=TypeError,pWe=function(e,t){var n=arguments.length<2?dWe(e):t;if(uWe(n))return lWe(cWe(n,e));throw new hWe(fWe(e)+" is not iterable")},vWe=Cr,bU=ti,mWe=rA,gWe=function(e,t,n){var r,i;bU(e);try{if(r=mWe(e,"return"),!r){if(t==="throw")throw n;return n}r=vWe(r,e)}catch(a){i=!0,r=a}if(t==="throw")throw n;if(i)throw r;return bU(r),n},_We=R_,yWe=Cr,$We=ti,bWe=S_,SWe=nWe,xWe=A_,SU=nA,wWe=pWe,EWe=kG,xU=gWe,TWe=TypeError,Pp=function(e,t){this.stopped=e,this.result=t},wU=Pp.prototype,D_=function(e,t,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),a=!!(n&&n.IS_RECORD),o=!!(n&&n.IS_ITERATOR),s=!!(n&&n.INTERRUPTED),c=_We(t,r),u,l,f,d,h,m,g,p=function(y){return u&&xU(u,"normal",y),new Pp(!0,y)},v=function(y){return i?($We(y),s?c(y[0],y[1],p):c(y[0],y[1])):s?c(y,p):c(y)};if(a)u=e.iterator;else if(o)u=e;else{if(l=EWe(e),!l)throw new TWe(bWe(e)+" is not iterable");if(SWe(l)){for(f=0,d=xWe(e);d>f;f++)if(h=v(e[f]),h&&SU(wU,h))return h;return new Pp(!1)}u=wWe(e,l)}for(m=a?e.next:u.next;!(g=yWe(m,u)).done;){try{h=v(g.value)}catch(y){xU(u,"throw",y)}if(typeof h=="object"&&h&&SU(wU,h))return h}return new Pp(!1)},MWe=Nn,BG=MWe("iterator"),zG=!1;try{var AWe=0,EU={next:function(){return{done:!!AWe++}},return:function(){zG=!0}};EU[BG]=function(){return this},Array.from(EU,function(){throw 2})}catch{}var HG=function(e,t){try{if(!t&&!zG)return!1}catch{return!1}var n=!1;try{var r={};r[BG]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},PWe=I_,CWe=HG,RWe=Yf.CONSTRUCTOR,GG=RWe||!CWe(function(e){PWe.all(e).then(void 0,function(){})}),IWe=Rr,OWe=Cr,DWe=mo,LWe=Su,NWe=yA,UWe=D_,FWe=GG;IWe({target:"Promise",stat:!0,forced:FWe},{all:function(t){var n=this,r=LWe.f(n),i=r.resolve,a=r.reject,o=NWe(function(){var s=DWe(n.resolve),c=[],u=0,l=1;UWe(t,function(f){var d=u++,h=!1;l++,OWe(s,n,f).then(function(m){h||(h=!0,c[d]=m,--l||i(c))},a)}),--l||i(c)});return o.error&&a(o.value),r.promise}});var kWe=Rr,BWe=Yf.CONSTRUCTOR,Bx=I_,zWe=Is,HWe=Ft,GWe=go,TU=Bx&&Bx.prototype;kWe({target:"Promise",proto:!0,forced:BWe,real:!0},{catch:function(e){return this.then(void 0,e)}});if(HWe(Bx)){var MU=zWe("Promise").prototype.catch;TU.catch!==MU&&GWe(TU,"catch",MU,{unsafe:!0})}var VWe=Rr,jWe=Cr,WWe=mo,XWe=Su,YWe=yA,qWe=D_,KWe=GG;VWe({target:"Promise",stat:!0,forced:KWe},{race:function(t){var n=this,r=XWe.f(n),i=r.reject,a=YWe(function(){var o=WWe(n.resolve);qWe(t,function(s){jWe(o,n,s).then(r.resolve,i)})});return a.error&&i(a.value),r.promise}});var ZWe=Rr,JWe=Cr,QWe=Su,eXe=Yf.CONSTRUCTOR;ZWe({target:"Promise",stat:!0,forced:eXe},{reject:function(t){var n=QWe.f(this);return JWe(n.reject,void 0,t),n.promise}});var tXe=ti,nXe=Kn,rXe=Su,iXe=function(e,t){if(tXe(e),nXe(t)&&t.constructor===e)return t;var n=rXe.f(e),r=n.resolve;return r(t),n.promise},aXe=Rr,oXe=Is,sXe=Yf.CONSTRUCTOR,cXe=iXe;oXe("Promise");aXe({target:"Promise",stat:!0,forced:sXe},{resolve:function(t){return cXe(this,t)}});var uXe=nn,VG=function(e,t){var n=[][e];return!!n&&uXe(function(){n.call(null,t||function(){return 1},1)})},lXe=Rr,fXe=zt,dXe=T_,hXe=Ds,pXe=VG,vXe=fXe([].join),mXe=dXe!==Object,gXe=mXe||!pXe("join",",");lXe({target:"Array",proto:!0,forced:gXe},{join:function(t){return vXe(hXe(this),t===void 0?",":t)}});var jG={},_Xe=Ar,yXe=WH,$Xe=ei,bXe=ti,SXe=Ds,xXe=hA;jG.f=_Xe&&!yXe?Object.defineProperties:function(t,n){bXe(t);for(var r=SXe(n),i=xXe(n),a=i.length,o=0,s;a>o;)$Xe.f(t,s=i[o++],r[s]);return t};var wXe=ti,EXe=jG,AU=lA,TXe=w_,MXe=yG,AXe=$_,PXe=oA,PU=">",CU="<",zx="prototype",Hx="script",WG=PXe("IE_PROTO"),$1=function(){},XG=function(e){return CU+Hx+PU+e+CU+"/"+Hx+PU},RU=function(e){e.write(XG("")),e.close();var t=e.parentWindow.Object;return e=null,t},CXe=function(){var e=AXe("iframe"),t="java"+Hx+":",n;return e.style.display="none",MXe.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(XG("document.F=Object")),n.close(),n.F},_h,Cp=function(){try{_h=new ActiveXObject("htmlfile")}catch{}Cp=typeof document<"u"?document.domain&&_h?RU(_h):CXe():RU(_h);for(var e=AU.length;e--;)delete Cp[zx][AU[e]];return Cp()};TXe[WG]=!0;var YG=Object.create||function(t,n){var r;return t!==null?($1[zx]=wXe(t),r=new $1,$1[zx]=null,r[WG]=t):r=Cp(),n===void 0?r:EXe.f(r,n)},RXe=Nn,IXe=YG,OXe=ei.f,Gx=RXe("unscopables"),Vx=Array.prototype;Vx[Gx]===void 0&&OXe(Vx,Gx,{configurable:!0,value:IXe(null)});var DXe=function(e){Vx[Gx][e]=!0},LXe=nn,NXe=!LXe(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),UXe=Pr,FXe=Ft,kXe=Gf,BXe=oA,zXe=NXe,IU=BXe("IE_PROTO"),jx=Object,HXe=jx.prototype,qG=zXe?jx.getPrototypeOf:function(e){var t=kXe(e);if(UXe(t,IU))return t[IU];var n=t.constructor;return FXe(n)&&t instanceof n?n.prototype:t instanceof jx?HXe:null},GXe=nn,VXe=Ft,jXe=Kn,OU=qG,WXe=go,XXe=Nn,Wx=XXe("iterator"),KG=!1,fs,b1,S1;[].keys&&(S1=[].keys(),"next"in S1?(b1=OU(OU(S1)),b1!==Object.prototype&&(fs=b1)):KG=!0);var YXe=!jXe(fs)||GXe(function(){var e={};return fs[Wx].call(e)!==e});YXe&&(fs={});VXe(fs[Wx])||WXe(fs,Wx,function(){return this});var ZG={IteratorPrototype:fs,BUGGY_SAFARI_ITERATORS:KG},qXe=ZG.IteratorPrototype,KXe=YG,ZXe=x_,JXe=Xf,QXe=qf,eYe=function(){return this},tYe=function(e,t,n,r){var i=t+" Iterator";return e.prototype=KXe(qXe,{next:ZXe(+!r,n)}),JXe(e,i,!1),QXe[i]=eYe,e},nYe=Rr,rYe=Cr,JG=JM,iYe=Ft,aYe=tYe,DU=qG,LU=vA,oYe=Xf,sYe=Vf,x1=go,cYe=Nn,uYe=qf,QG=ZG,lYe=JG.PROPER,fYe=JG.CONFIGURABLE,NU=QG.IteratorPrototype,yh=QG.BUGGY_SAFARI_ITERATORS,qu=cYe("iterator"),UU="keys",Ku="values",FU="entries",dYe=function(){return this},eV=function(e,t,n,r,i,a,o){aYe(n,t,r);var s=function(v){if(v===i&&d)return d;if(!yh&&v&&v in l)return l[v];switch(v){case UU:return function(){return new n(this,v)};case Ku:return function(){return new n(this,v)};case FU:return function(){return new n(this,v)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,l=e.prototype,f=l[qu]||l["@@iterator"]||i&&l[i],d=!yh&&f||s(i),h=t==="Array"&&l.entries||f,m,g,p;if(h&&(m=DU(h.call(new e)),m!==Object.prototype&&m.next&&(DU(m)!==NU&&(LU?LU(m,NU):iYe(m[qu])||x1(m,qu,dYe)),oYe(m,c,!0))),lYe&&i===Ku&&f&&f.name!==Ku&&(fYe?sYe(l,"name",Ku):(u=!0,d=function(){return rYe(f,this)})),i)if(g={values:s(Ku),keys:a?d:s(UU),entries:s(FU)},o)for(p in g)(yh||u||!(p in l))&&x1(l,p,g[p]);else nYe({target:t,proto:!0,forced:yh||u},g);return l[qu]!==d&&x1(l,qu,d,{name:i}),uYe[t]=d,g},tV=function(e,t){return{value:e,done:t}},hYe=Ds,wA=DXe,kU=qf,nV=jf,pYe=ei.f,vYe=eV,$h=tV,mYe=Ar,rV="Array Iterator",gYe=nV.set,_Ye=nV.getterFor(rV),yYe=vYe(Array,"Array",function(e,t){gYe(this,{type:rV,target:hYe(e),index:0,kind:t})},function(){var e=_Ye(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,$h(void 0,!0);switch(e.kind){case"keys":return $h(n,!1);case"values":return $h(t[n],!1)}return $h([n,t[n]],!1)},"values"),BU=kU.Arguments=kU.Array;wA("keys");wA("values");wA("entries");if(mYe&&BU.name!=="values")try{pYe(BU,"name",{value:"values"})}catch{}var $Ye=P_,bYe=String,iV=function(e){if($Ye(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return bYe(e)},EA=zt,SYe=uA,xYe=iV,wYe=KM,EYe=EA("".charAt),zU=EA("".charCodeAt),TYe=EA("".slice),HU=function(e){return function(t,n){var r=xYe(wYe(t)),i=SYe(n),a=r.length,o,s;return i<0||i>=a?e?"":void 0:(o=zU(r,i),o<55296||o>56319||i+1===a||(s=zU(r,i+1))<56320||s>57343?e?EYe(r,i):o:e?TYe(r,i,i+2):(o-55296<<10)+(s-56320)+65536)}},MYe={codeAt:HU(!1),charAt:HU(!0)},AYe=MYe.charAt,PYe=iV,aV=jf,CYe=eV,GU=tV,oV="String Iterator",RYe=aV.set,IYe=aV.getterFor(oV);CYe(String,"String",function(e){RYe(this,{type:oV,string:PYe(e),index:0})},function(){var t=IYe(this),n=t.string,r=t.index,i;return r>=n.length?GU(void 0,!0):(i=AYe(n,r),t.index+=i.length,GU(i,!1))});var sV={exports:{}},cV={},OYe=aA,DYe=ei,LYe=x_,NYe=function(e,t,n){var r=OYe(t);r in e?DYe.f(e,r,LYe(0,n)):e[r]=n},VU=lG,UYe=A_,FYe=NYe,kYe=Array,BYe=Math.max,zYe=function(e,t,n){for(var r=UYe(e),i=VU(t,r),a=VU(n===void 0?r:n,r),o=kYe(BYe(a-i,0)),s=0;i<a;i++,s++)FYe(o,s,e[i]);return o.length=s,o},HYe=Os,GYe=Ds,uV=M_.f,VYe=zYe,lV=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],jYe=function(e){try{return uV(e)}catch{return VYe(lV)}};cV.f=function(t){return lV&&HYe(t)==="Window"?jYe(t):uV(GYe(t))};var WYe=nn,XYe=WYe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),YYe=nn,qYe=Kn,KYe=Os,jU=XYe,Rp=Object.isExtensible,ZYe=YYe(function(){Rp(1)}),JYe=ZYe||jU?function(t){return!qYe(t)||jU&&KYe(t)==="ArrayBuffer"?!1:Rp?Rp(t):!0}:Rp,QYe=nn,eqe=!QYe(function(){return Object.isExtensible(Object.preventExtensions({}))}),tqe=Rr,nqe=zt,rqe=w_,iqe=Kn,TA=Pr,aqe=ei.f,WU=M_,oqe=cV,MA=JYe,sqe=iA,cqe=eqe,fV=!1,la=sqe("meta"),uqe=0,AA=function(e){aqe(e,la,{value:{objectID:"O"+uqe++,weakData:{}}})},lqe=function(e,t){if(!iqe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!TA(e,la)){if(!MA(e))return"F";if(!t)return"E";AA(e)}return e[la].objectID},fqe=function(e,t){if(!TA(e,la)){if(!MA(e))return!0;if(!t)return!1;AA(e)}return e[la].weakData},dqe=function(e){return cqe&&fV&&MA(e)&&!TA(e,la)&&AA(e),e},hqe=function(){pqe.enable=function(){},fV=!0;var e=WU.f,t=nqe([].splice),n={};n[la]=1,e(n).length&&(WU.f=function(r){for(var i=e(r),a=0,o=i.length;a<o;a++)if(i[a]===la){t(i,a,1);break}return i},tqe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:oqe.f}))},pqe=sV.exports={enable:hqe,fastKey:lqe,getWeakData:fqe,onFreeze:dqe};rqe[la]=!0;var dV=sV.exports,vqe=Ft,mqe=Kn,XU=vA,gqe=function(e,t,n){var r,i;return XU&&vqe(r=t.constructor)&&r!==n&&mqe(i=r.prototype)&&i!==n.prototype&&XU(e,i),e},_qe=Rr,yqe=rn,$qe=zt,YU=dA,bqe=go,Sqe=dV,xqe=D_,wqe=mA,Eqe=Ft,Tqe=bu,w1=Kn,E1=nn,Mqe=HG,Aqe=Xf,Pqe=gqe,Cqe=function(e,t,n){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=r?"set":"add",o=yqe[e],s=o&&o.prototype,c=o,u={},l=function(v){var y=$qe(s[v]);bqe(s,v,v==="add"?function(S){return y(this,S===0?0:S),this}:v==="delete"?function(_){return i&&!w1(_)?!1:y(this,_===0?0:_)}:v==="get"?function(S){return i&&!w1(S)?void 0:y(this,S===0?0:S)}:v==="has"?function(S){return i&&!w1(S)?!1:y(this,S===0?0:S)}:function(S,O){return y(this,S===0?0:S,O),this})},f=YU(e,!Eqe(o)||!(i||s.forEach&&!E1(function(){new o().entries().next()})));if(f)c=n.getConstructor(t,e,r,a),Sqe.enable();else if(YU(e,!0)){var d=new c,h=d[a](i?{}:-0,1)!==d,m=E1(function(){d.has(1)}),g=Mqe(function(v){new o(v)}),p=!i&&E1(function(){for(var v=new o,y=5;y--;)v[a](y,y);return!v.has(-0)});g||(c=t(function(v,y){wqe(v,s);var _=Pqe(new o,v,c);return Tqe(y)||xqe(y,_[a],{that:_,AS_ENTRIES:r}),_}),c.prototype=s,s.constructor=c),(m||p)&&(l("delete"),l("has"),r&&l("get")),(p||h)&&l(a),i&&s.clear&&delete s.clear}return u[e]=c,_qe({global:!0,constructor:!0,forced:c!==o},u),Aqe(c,e),i||n.setStrong(c,e,r),c},Rqe=go,Iqe=function(e,t,n){for(var r in t)Rqe(e,r,t[r],n);return e},Oqe=Os,Dqe=Array.isArray||function(t){return Oqe(t)==="Array"},qU=Dqe,Lqe=gG,Nqe=Kn,Uqe=Nn,Fqe=Uqe("species"),KU=Array,kqe=function(e){var t;return qU(e)&&(t=e.constructor,Lqe(t)&&(t===KU||qU(t.prototype))?t=void 0:Nqe(t)&&(t=t[Fqe],t===null&&(t=void 0))),t===void 0?KU:t},Bqe=kqe,zqe=function(e,t){return new(Bqe(e))(t===0?0:t)},Hqe=R_,Gqe=zt,Vqe=T_,jqe=Gf,Wqe=A_,Xqe=zqe,ZU=Gqe([].push),Ma=function(e){var t=e===1,n=e===2,r=e===3,i=e===4,a=e===6,o=e===7,s=e===5||a;return function(c,u,l,f){for(var d=jqe(c),h=Vqe(d),m=Wqe(h),g=Hqe(u,l),p=0,v=f||Xqe,y=t?v(c,m):n||o?v(c,0):void 0,_,S;m>p;p++)if((s||p in h)&&(_=h[p],S=g(_,p,d),e))if(t)y[p]=S;else if(S)switch(e){case 3:return!0;case 5:return _;case 6:return p;case 2:ZU(y,_)}else switch(e){case 4:return!1;case 7:ZU(y,_)}return a?-1:r||i?i:y}},hV={forEach:Ma(0),map:Ma(1),filter:Ma(2),some:Ma(3),every:Ma(4),find:Ma(5),findIndex:Ma(6),filterReject:Ma(7)},Yqe=zt,JU=Iqe,bh=dV.getWeakData,qqe=mA,Kqe=ti,Zqe=bu,T1=Kn,Jqe=D_,pV=hV,QU=Pr,vV=jf,Qqe=vV.set,eKe=vV.getterFor,tKe=pV.find,nKe=pV.findIndex,rKe=Yqe([].splice),iKe=0,Sh=function(e){return e.frozen||(e.frozen=new mV)},mV=function(){this.entries=[]},M1=function(e,t){return tKe(e.entries,function(n){return n[0]===t})};mV.prototype={get:function(e){var t=M1(this,e);if(t)return t[1]},has:function(e){return!!M1(this,e)},set:function(e,t){var n=M1(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=nKe(this.entries,function(n){return n[0]===e});return~t&&rKe(this.entries,t,1),!!~t}};var aKe={getConstructor:function(e,t,n,r){var i=e(function(c,u){qqe(c,a),Qqe(c,{type:t,id:iKe++,frozen:void 0}),Zqe(u)||Jqe(u,c[r],{that:c,AS_ENTRIES:n})}),a=i.prototype,o=eKe(t),s=function(c,u,l){var f=o(c),d=bh(Kqe(u),!0);return d===!0?Sh(f).set(u,l):d[f.id]=l,c};return JU(a,{delete:function(c){var u=o(this);if(!T1(c))return!1;var l=bh(c);return l===!0?Sh(u).delete(c):l&&QU(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!T1(u))return!1;var f=bh(u);return f===!0?Sh(l).has(u):f&&QU(f,l.id)}}),JU(a,n?{get:function(u){var l=o(this);if(T1(u)){var f=bh(u);return f===!0?Sh(l).get(u):f?f[l.id]:void 0}},set:function(u,l){return s(this,u,l)}}:{add:function(u){return s(this,u,!0)}}),i}},oKe=Cqe,sKe=aKe;oKe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},sKe);var gV={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},cKe=$_,A1=cKe("span").classList,e4=A1&&A1.constructor&&A1.constructor.prototype,_V=e4===Object.prototype?void 0:e4,t4=rn,yV=gV,uKe=_V,hl=yYe,n4=Vf,lKe=Xf,fKe=Nn,P1=fKe("iterator"),C1=hl.values,$V=function(e,t){if(e){if(e[P1]!==C1)try{n4(e,P1,C1)}catch{e[P1]=C1}if(lKe(e,t,!0),yV[t]){for(var n in hl)if(e[n]!==hl[n])try{n4(e,n,hl[n])}catch{e[n]=hl[n]}}}};for(var R1 in yV)$V(t4[R1]&&t4[R1].prototype,R1);$V(uKe,"DOMTokenList");var dKe=hV.forEach,hKe=VG,pKe=hKe("forEach"),vKe=pKe?[].forEach:function(t){return dKe(this,t,arguments.length>1?arguments[1]:void 0)},r4=rn,i4=gV,mKe=_V,I1=vKe,gKe=Vf,bV=function(e){if(e&&e.forEach!==I1)try{gKe(e,"forEach",I1)}catch{e.forEach=I1}};for(var O1 in i4)i4[O1]&&bV(r4[O1]&&r4[O1].prototype);bV(mKe);var _Ke=Rr,yKe=Gf,SV=hA,$Ke=nn,bKe=$Ke(function(){SV(1)});_Ke({target:"Object",stat:!0,forced:bKe},{keys:function(t){return SV(yKe(t))}});function ji(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}var a4;(function(e){e[e.SCROLL_NONE=0]="SCROLL_NONE",e[e.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",e[e.SCROLL_FORWARD=2]="SCROLL_FORWARD"})(a4||(a4={}));var ui;(function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"})(ui||(ui={}));function SKe(e){return e==="left"||e==="right"}function o4(e){return e==="top"||e==="bottom"}function xKe(e){return e[ui.LEFT]+e[ui.RIGHT]}function wKe(e){return e[ui.TOP]+e[ui.BOTTOM]}var Br,xV,wV,EV,TV,s4,D1,L1,N1=".ch-plugin-calendar-label",c4={enabled:!0,dimensions:{width:0,height:0},position:"left",text:function(){return[]},padding:[0,0,0,0]},EKe=function(){function e(t){e9e(this,e);var n,r;Br.add(this),this.name="CalendarLabel";var i=(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.options)===null||r===void 0?void 0:r.subDomain;this.calendar=t,this.root=null,this.shown=!1,this.options=c4,this.computedOptions={radius:i==null?void 0:i.radius,width:i==null?void 0:i.width,height:i==null?void 0:i.height,gutter:i==null?void 0:i.gutter,textAlign:"start"}}return n9e(e,[{key:"setup",value:function(n){this.options=Object.assign(Object.assign({},c4),n)}},{key:"paint",value:function(){var n=this.options.enabled;if(!n)return this.destroy();this.shown=!0;var r=this.calendar.calendarPainter.root;return this.root||(this.root=r.append("svg").attr("class",N1.slice(1)).attr("data-key",this.options.key).attr("x",0).attr("y",0)),this.build(),Promise.resolve()}},{key:"destroy",value:function(){return this.root!==null&&(this.root.remove(),this.root=null),Promise.resolve()}},{key:"build",value:function(){var n=this;return ji(this,Br,"m",xV).call(this),ji(this,Br,"m",wV).call(this),this.root.selectAll("g").data(this.options.text).join(function(r){return r.append("g").call(function(i){return i.append("rect").attr("class","".concat(N1.slice(1),"-bg")).attr("style","fill: transparent").call(function(a){return ji(n,Br,"m",EV).call(n,a)})}).call(function(i){return i.append("text").attr("class","".concat(N1.slice(1),"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").attr("style","fill: currentColor; font-size: 10px").call(function(a){return ji(n,Br,"m",TV).call(n,a)})})}),Promise.resolve()}}]),e}();Br=new WeakSet,xV=function(){var t=this;Object.keys(this.computedOptions).forEach(function(n){typeof t.options[n]<"u"&&(t.computedOptions[n]=t.options[n])})},wV=function(){var t=this.computedOptions,n=t.width,r=t.height,i=t.gutter,a=this.options,o=a.text,s=a.padding,c=a.position,u=o().length;this.options.dimensions={width:n+xKe(s),height:r+wKe(s)},o4(c)?this.options.dimensions.width+=(n+i)*(u-1):this.options.dimensions.height+=(r+i)*(u-1)},EV=function(t){var n=this,r=this.computedOptions,i=r.width,a=r.height,o=r.radius;t.attr("width",i).attr("height",a).attr("rx",o&&o>0?o:null).attr("ry",o&&o>0?o:null).attr("x",function(s,c){return ji(n,Br,"m",D1).call(n,c)}).attr("y",function(s,c){return ji(n,Br,"m",L1).call(n,c)})},TV=function(t){var n=this,r=this.computedOptions,i=r.height,a=r.textAlign;t.attr("text-anchor",a).attr("x",function(o,s){return ji(n,Br,"m",s4).call(n)+ji(n,Br,"m",D1).call(n,s)}).attr("y",function(o,s){return ji(n,Br,"m",L1).call(n,s)+i/2}).text(function(o){return o})},s4=function(){var t=this.computedOptions,n=t.width,r=t.textAlign;switch(r){case"start":return 0;case"middle":return n/2;case"end":return n;default:return 0}},D1=function(t){var n=this.options,r=n.position,i=n.padding,a=this.computedOptions,o=a.width,s=a.gutter;return SKe(r)?i[ui.LEFT]:i[ui.LEFT]+(o+s)*t},L1=function(t){var n=this.options,r=n.position,i=n.padding,a=this.computedOptions,o=a.height,s=a.gutter;return o4(r)?i[ui.TOP]:i[ui.TOP]+(o+s)*t};var MV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(yF,function(){return function(n,r,i){var a=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,m,g){var p=f.name?f:f.$locale(),v=o(p[d]),y=o(p[h]),_=v||y.map(function(O){return O.slice(0,m)});if(!g)return _;var S=p.weekStart;return _.map(function(O,M){return _[(M+(S||0))%7]})},c=function(){return i.Ls[i.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,p){return g||p.slice(1)})}(f.formats[d.toUpperCase()])},l=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return l.bind(this)()},i.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(c(),"months")},i.monthsShort=function(){return s(c(),"monthsShort","months",3)},i.weekdays=function(f){return s(c(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(c(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(c(),"weekdaysMin","weekdays",2,f)}}})})(MV);var TKe=MV.exports;const MKe=$F(TKe),AV=e=>(Wt("data-v-67f9eaf9"),e=e(),Xt(),e),AKe={class:"cal-heatmap-container"},PKe={class:"cal-heatmap-container-inner"},CKe=AV(()=>te("div",{id:"ex-ghDay"},null,-1)),RKe={style:{color:"#768390","font-size":"12px","margin-left":"30px"}},IKe=AV(()=>te("div",{class:"legend"},[te("span",{style:{color:"#768390","font-size":"12px"}},"Less"),te("div",{id:"ex-ghDay-legend",style:{display:"inline-block",margin:"0 4px"}}),te("span",{style:{color:"#768390","font-size":"12px"}},"More")],-1)),OKe={class:"years-block"},DKe=["onClick"],LKe=De({__name:"Heatmap",setup(e){const{isDark:t}=qo(),{theme:n}=qo(),r=n.value.historyYears.slice().sort((d,h)=>h-d),i=n.value.modificationHistory,a=at(r[0]),o=Ve(()=>i.filter(d=>d.date.startsWith(a.value+"")).length);let s="dark";KA.extend(MKe);function c(d){a.value=d,f!==void 0&&u(f),f=new fp,l(f,s,a.value)}function u(d){d.destroy()}function l(d,h,m){d.paint({theme:h,data:{source:i,type:"json",x:"date",y:g=>+g.value,groupY:"sum"},animationDuration:0,date:{start:new Date(`${m}-01-01`),min:new Date(`${r[r.length-1]}-01-01`),max:new Date(`${r[0]}-12-31`)},range:12,scale:{color:{type:"threshold",range:["#daf6ea","#c7f0df","#82edc0","#0bd07d","#00663b"],domain:[0,1,2,3]}},domain:{type:"month",gutter:5,label:{text:"MMM",textAlign:"start",position:"top"}},subDomain:{type:"ghDay",radius:2,width:15,height:15,gutter:5},itemSelector:"#ex-ghDay"},[[IRe,{text:function(g,p,v){return(p||"No")+" contributions on "+v.format("dddd, MMMM D, YYYY")}}],[Q7e,{includeBlank:!0,itemSelector:"#ex-ghDay-legend",radius:2,width:12,height:12,gutter:4}],[EKe,{width:30,textAlign:"start",text:()=>KA.weekdaysShort().map((g,p)=>p%2==0?"":g),padding:[25,0,0,0]}]])}let f;return jn(t,()=>{t.value?(f!==void 0&&u(f),f=new fp,s="dark",l(f,s,a.value)):(f!==void 0&&u(f),f=new fp,s="light",l(f,s,a.value))},{immediate:!0}),(d,h)=>(z(),ne("div",AKe,[te("div",PKe,[CKe,te("span",RKe,nt(o.value)+" contributions in the "+nt(a.value),1),IKe]),te("div",OKe,[(z(!0),ne(gt,null,fn(q(r),m=>(z(),ne("span",{class:vt(a.value===m?"year-item active":"year-item"),onClick:g=>c(m)},nt(m),11,DKe))),256))])]))}}),NKe=ke(LKe,[["__scopeId","data-v-67f9eaf9"]]);/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh=function(t){return t.tagName==="IMG"},UKe=function(t){return NodeList.prototype.isPrototypeOf(t)},Ip=function(t){return t&&t.nodeType===1},u4=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},l4=function(t){try{return Array.isArray(t)?t.filter(xh):UKe(t)?[].slice.call(t).filter(xh):Ip(t)?[t].filter(xh):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(xh):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},FKe=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},kKe=function(t){var n=t.getBoundingClientRect(),r=n.top,i=n.left,a=n.width,o=n.height,s=t.cloneNode(),c=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return s.removeAttribute("id"),s.style.position="absolute",s.style.top=r+c+"px",s.style.left=i+u+"px",s.style.width=a+"px",s.style.height=o+"px",s.style.transform="",s},Qs=function(t,n){var r=Oo({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,r);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),i},BKe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(I){function T(){}I(T,T)},i=function(I){var T=I.target;if(T===X){m();return}_.indexOf(T)!==-1&&g({target:T})},a=function(){if(!(O||!D.original)){var I=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(M-I)>P.scrollOffset&&setTimeout(m,150)}},o=function(I){var T=I.key||I.keyCode;(T==="Escape"||T==="Esc"||T===27)&&m()},s=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=I;if(I.background&&(X.style.background=I.background),I.container&&I.container instanceof Object&&(T.container=Oo({},P.container,I.container)),I.template){var E=Ip(I.template)?I.template:document.querySelector(I.template);T.template=E}return P=Oo({},P,T),_.forEach(function(A){A.dispatchEvent(Qs("medium-zoom:update",{detail:{zoom:$}}))}),$},c=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(Oo({},P,I))},u=function(){for(var I=arguments.length,T=Array(I),E=0;E<I;E++)T[E]=arguments[E];var A=T.reduce(function(x,N){return[].concat(x,l4(N))},[]);return A.filter(function(x){return _.indexOf(x)===-1}).forEach(function(x){_.push(x),x.classList.add("medium-zoom-image")}),S.forEach(function(x){var N=x.type,R=x.listener,F=x.options;A.forEach(function(k){k.addEventListener(N,R,F)})}),$},l=function(){for(var I=arguments.length,T=Array(I),E=0;E<I;E++)T[E]=arguments[E];D.zoomed&&m();var A=T.length>0?T.reduce(function(x,N){return[].concat(x,l4(N))},[]):_;return A.forEach(function(x){x.classList.remove("medium-zoom-image"),x.dispatchEvent(Qs("medium-zoom:detach",{detail:{zoom:$}}))}),_=_.filter(function(x){return A.indexOf(x)===-1}),$},f=function(I,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.forEach(function(A){A.addEventListener("medium-zoom:"+I,T,E)}),S.push({type:"medium-zoom:"+I,listener:T,options:E}),$},d=function(I,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.forEach(function(A){A.removeEventListener("medium-zoom:"+I,T,E)}),S=S.filter(function(A){return!(A.type==="medium-zoom:"+I&&A.listener.toString()===T.toString())}),$},h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=I.target,E=function(){var x={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},N=void 0,R=void 0;if(P.container)if(P.container instanceof Object)x=Oo({},x,P.container),N=x.width-x.left-x.right-P.margin*2,R=x.height-x.top-x.bottom-P.margin*2;else{var F=Ip(P.container)?P.container:document.querySelector(P.container),k=F.getBoundingClientRect(),ee=k.width,de=k.height,ge=k.left,j=k.top;x=Oo({},x,{width:ee,height:de,left:ge,top:j})}N=N||x.width-P.margin*2,R=R||x.height-P.margin*2;var Z=D.zoomedHd||D.original,_e=u4(Z)?N:Z.naturalWidth||N,he=u4(Z)?R:Z.naturalHeight||R,we=Z.getBoundingClientRect(),Q=we.top,se=we.left,me=we.width,K=we.height,U=Math.min(Math.max(me,_e),N)/me,ue=Math.min(Math.max(K,he),R)/K,pe=Math.min(U,ue),ye=(-se+(N-me)/2+P.margin+x.left)/pe,ve=(-Q+(R-K)/2+P.margin+x.top)/pe,He="scale("+pe+") translate3d("+ye+"px, "+ve+"px, 0)";D.zoomed.style.transform=He,D.zoomedHd&&(D.zoomedHd.style.transform=He)};return new r(function(A){if(T&&_.indexOf(T)===-1){A($);return}var x=function ee(){O=!1,D.zoomed.removeEventListener("transitionend",ee),D.original.dispatchEvent(Qs("medium-zoom:opened",{detail:{zoom:$}})),A($)};if(D.zoomed){A($);return}if(T)D.original=T;else if(_.length>0){var N=_;D.original=N[0]}else{A($);return}if(D.original.dispatchEvent(Qs("medium-zoom:open",{detail:{zoom:$}})),M=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,O=!0,D.zoomed=kKe(D.original),document.body.appendChild(X),P.template){var R=Ip(P.template)?P.template:document.querySelector(P.template);D.template=document.createElement("div"),D.template.appendChild(R.content.cloneNode(!0)),document.body.appendChild(D.template)}if(D.original.parentElement&&D.original.parentElement.tagName==="PICTURE"&&D.original.currentSrc&&(D.zoomed.src=D.original.currentSrc),document.body.appendChild(D.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),D.original.classList.add("medium-zoom-image--hidden"),D.zoomed.classList.add("medium-zoom-image--opened"),D.zoomed.addEventListener("click",m),D.zoomed.addEventListener("transitionend",x),D.original.getAttribute("data-zoom-src")){D.zoomedHd=D.zoomed.cloneNode(),D.zoomedHd.removeAttribute("srcset"),D.zoomedHd.removeAttribute("sizes"),D.zoomedHd.removeAttribute("loading"),D.zoomedHd.src=D.zoomed.getAttribute("data-zoom-src"),D.zoomedHd.onerror=function(){clearInterval(F),console.warn("Unable to reach the zoom image target "+D.zoomedHd.src),D.zoomedHd=null,E()};var F=setInterval(function(){D.zoomedHd.complete&&(clearInterval(F),D.zoomedHd.classList.add("medium-zoom-image--opened"),D.zoomedHd.addEventListener("click",m),document.body.appendChild(D.zoomedHd),E())},10)}else if(D.original.hasAttribute("srcset")){D.zoomedHd=D.zoomed.cloneNode(),D.zoomedHd.removeAttribute("sizes"),D.zoomedHd.removeAttribute("loading");var k=D.zoomedHd.addEventListener("load",function(){D.zoomedHd.removeEventListener("load",k),D.zoomedHd.classList.add("medium-zoom-image--opened"),D.zoomedHd.addEventListener("click",m),document.body.appendChild(D.zoomedHd),E()})}else E()})},m=function(){return new r(function(I){if(O||!D.original){I($);return}var T=function E(){D.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(D.zoomed),D.zoomedHd&&document.body.removeChild(D.zoomedHd),document.body.removeChild(X),D.zoomed.classList.remove("medium-zoom-image--opened"),D.template&&document.body.removeChild(D.template),O=!1,D.zoomed.removeEventListener("transitionend",E),D.original.dispatchEvent(Qs("medium-zoom:closed",{detail:{zoom:$}})),D.original=null,D.zoomed=null,D.zoomedHd=null,D.template=null,I($)};O=!0,document.body.classList.remove("medium-zoom--opened"),D.zoomed.style.transform="",D.zoomedHd&&(D.zoomedHd.style.transform=""),D.template&&(D.template.style.transition="opacity 150ms",D.template.style.opacity=0),D.original.dispatchEvent(Qs("medium-zoom:close",{detail:{zoom:$}})),D.zoomed.addEventListener("transitionend",T)})},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=I.target;return D.original?m():h({target:T})},p=function(){return P},v=function(){return _},y=function(){return D.original},_=[],S=[],O=!1,M=0,P=n,D={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?P=t:(t||typeof t=="string")&&u(t),P=Oo({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},P);var X=FKe(P.background);document.addEventListener("click",i),document.addEventListener("keyup",o),document.addEventListener("scroll",a),window.addEventListener("resize",m);var $={open:h,close:m,toggle:g,update:s,clone:c,attach:u,detach:l,on:f,off:d,getOptions:p,getImages:v,getZoomedImage:y};return $};function zKe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var HKe=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";zKe(HKe);const GKe={},VKe={class:"footer-record"},jKe=te("span",null,[te("a",{class:"footer-link",target:"_blank"},"Copyright © 2022-2024 知识星球")],-1),WKe=te("i",{class:"footer-icon-record"},[te("a",{href:"https://beian.miit.gov.cn",target:"_blank"})],-1),XKe=te("span",null,[te("a",{class:"footer-link",href:"https://beian.miit.gov.cn",target:"_blank"},"赣ICP备2024041551号")],-1),YKe=[jKe,WKe,XKe];function qKe(e,t){return z(),ne("div",VKe,YKe)}const KKe=ke(GKe,[["render",qKe]]),ZKe={class:"page"},JKe=Tj('<section class="page-edit"><div class="page-edit-read"><span class="leancloud-visitors" data-flag-title="Your Article Title"><b class="post-meta-item-text">阅读量： </b><span class="leancloud-visitors-count"></span></span></div><div id="vcomments"></div></section>',1),QKe=[JKe],eZe={__name:"Comment",setup(e){const t=ps(),n=()=>{let i=location.origin+location.pathname;document.getElementsByClassName("leancloud-visitors")[0].id=i,new Valine({el:"#vcomments",appId:"wDLwVdy79AHhZYuDxIlTCvHP-gzGzoHsz",appKey:"xEBprOUwKjh9hebYToNgWHFY",notify:!1,verify:!1,path:i,visitor:!0,avatar:"mm",meta:["nick","mail"],placeholder:"请在这里写下你的留言(填写邮箱可接收评论回复通知)"})};jn(()=>t.path,()=>{n()}),ha(()=>{r("//unpkg.com/valine/dist/Valine.min.js").then(()=>n())});function r(i){return new Promise(a=>{var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",i),o.appendChild(s),s.onload=function(){a()}})}return(i,a)=>(z(),ne("div",ZKe,QKe))}},tZe={class:"container"},nZe={__name:"Passwd",emits:["change"],setup(e,{emit:t}){const n=t,r=i=>{n("change",i.target.value)};return(i,a)=>(z(),ne("div",tZe,[te("input",{onInput:r,type:"password",id:"password",placeholder:"请输入访问密码",required:""},null,32)]))}},rZe=ke(nZe,[["__scopeId","data-v-5b3bd944"]]),iZe=/^(?:[a-z]+:|\/\/)/i,aZe=De({__name:"Link",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(e){const t=e,n=Ve(()=>t.tag??(t.href?"a":"span")),r=Ve(()=>t.href&&iZe.test(t.href)||t.target==="_blank");return(i,a)=>(z(),Ge(Vo(n.value),{class:vt(["VPLink",{link:i.href,"vp-external-link-icon":r.value,"no-icon":i.noIcon}]),href:i.href,target:i.target??(r.value?"_blank":void 0),rel:i.rel??(r.value?"noreferrer":void 0)},{default:fe(()=>[oe(i.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),oZe=e=>(Wt("data-v-ca128e59"),e=e(),Xt(),e),sZe={class:"box"},cZe=["innerHTML"],uZe=["innerHTML"],lZe=["innerHTML"],fZe={key:2,class:"link-text"},dZe={class:"link-text-value"},hZe=oZe(()=>te("span",{class:"vpi-arrow-right link-text-icon"},null,-1)),pZe={key:1,class:""},vZe=De({__name:"Tool",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(e){return(t,n)=>t.title?(z(),Ge(aZe,{key:0,class:"VPFeature",href:t.link,rel:t.rel,target:t.target,"no-icon":!0,tag:t.link?"a":"div"},{default:fe(()=>[te("article",sZe,[t.icon?(z(),ne("div",{key:0,class:"icon",innerHTML:t.icon},null,8,cZe)):Re("",!0),te("h2",{class:"title",innerHTML:t.title},null,8,uZe),t.details?(z(),ne("p",{key:1,class:"details",innerHTML:t.details},null,8,lZe)):Re("",!0),t.linkText?(z(),ne("div",fZe,[te("p",dZe,[gi(nt(t.linkText)+" ",1),hZe])])):Re("",!0)])]),_:1},8,["href","rel","target","tag"])):(z(),ne("div",pZe,"11"))}}),mZe=ke(vZe,[["__scopeId","data-v-ca128e59"]]),gZe={key:0,class:"Tools"},_Ze={class:"container"},yZe={class:"items"},$Ze=De({__name:"Tools",props:{tools:{}},setup(e){const{tools:t}=e,n=Ve(()=>{const r=t.length;if(r){if(r===2)return"grid-2";if(r===3)return"grid-3";if(r%3===0)return"grid-6";if(r>3)return"grid-4"}else return});return console.log(t),(r,i)=>r.tools?(z(),ne("div",gZe,[te("div",_Ze,[te("div",yZe,[(z(!0),ne(gt,null,fn(r.tools,a=>(z(),ne("div",{key:a.title,class:vt(["item",[n.value]])},[Fe(mZe,{icon:a.icon,title:a.title,details:a.details,link:a.link,"link-text":a.linkText,rel:a.rel,target:a.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):Re("",!0)}}),bZe=ke($Ze,[["__scopeId","data-v-09ee0d86"]]),SZe={key:0},xZe={class:"container"},wZe={class:"items"},EZe={class:"group-name"},TZe=De({__name:"Groups",setup(e){var r;const{frontmatter:t}=qo(),n=Array.isArray((r=t.value)==null?void 0:r.groups)?t.value.groups:[];return console.log(n[0].tools),(i,a)=>q(n).length?(z(),ne("div",SZe,[te("div",xZe,[te("div",wZe,[(z(!0),ne(gt,null,fn(q(n),o=>(z(),ne("div",{key:o.name,class:"item"},[te("div",EZe,nt(o.name),1),Fe(bZe,{tools:o.tools},null,8,["tools"])]))),128))])])])):Re("",!0)}}),MZe=ke(TZe,[["__scopeId","data-v-5ec88709"]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const PA="169",AZe=0,f4=1,PZe=2,PV=1,CZe=2,Gi=3,wi=0,Vn=1,Wi=2,za=0,Yo=1,d4=2,h4=3,p4=4,RZe=5,Bo=100,IZe=101,OZe=102,DZe=103,LZe=104,NZe=200,UZe=201,FZe=202,kZe=203,Xx=204,Yx=205,BZe=206,zZe=207,HZe=208,GZe=209,VZe=210,jZe=211,WZe=212,XZe=213,YZe=214,qx=0,Kx=1,Zx=2,ru=3,Jx=4,Qx=5,ew=6,tw=7,CV=0,qZe=1,KZe=2,Ha=0,ZZe=1,JZe=2,QZe=3,eJe=4,tJe=5,nJe=6,rJe=7,RV=300,iu=301,au=302,nw=303,rw=304,L_=306,Dv=1e3,li=1001,iw=1002,gr=1003,iJe=1004,wh=1005,tr=1006,U1=1007,Go=1008,fa=1009,IV=1010,OV=1011,Ql=1012,CA=1013,ds=1014,Ki=1015,Kf=1016,RA=1017,IA=1018,ou=1020,DV=35902,LV=1021,NV=1022,Gr=1023,UV=1024,FV=1025,Bc=1026,su=1027,kV=1028,OA=1029,BV=1030,DA=1031,LA=1033,Op=33776,Dp=33777,Lp=33778,Np=33779,aw=35840,ow=35841,sw=35842,cw=35843,uw=36196,lw=37492,fw=37496,dw=37808,hw=37809,pw=37810,vw=37811,mw=37812,gw=37813,_w=37814,yw=37815,$w=37816,bw=37817,Sw=37818,xw=37819,ww=37820,Ew=37821,Up=36492,Tw=36494,Mw=36495,zV=36283,Aw=36284,Pw=36285,Cw=36286,aJe=3200,oJe=3201,sJe=0,cJe=1,La="",oi="srgb",_o="srgb-linear",NA="display-p3",N_="display-p3-linear",Lv="linear",xt="srgb",Nv="rec709",Uv="p3",ec=7680,v4=519,uJe=512,lJe=513,fJe=514,HV=515,dJe=516,hJe=517,pJe=518,vJe=519,Rw=35044,m4="300 es",Zi=2e3,Fv=2001;class xu{addEventListener(t,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n)}hasEventListener(t,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(n)!==-1}removeEventListener(t,n){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,t);t.target=null}}}const bn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],F1=Math.PI/180,Iw=180/Math.PI;function Ga(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bn[e&255]+bn[e>>8&255]+bn[e>>16&255]+bn[e>>24&255]+"-"+bn[t&255]+bn[t>>8&255]+"-"+bn[t>>16&15|64]+bn[t>>24&255]+"-"+bn[n&63|128]+bn[n>>8&255]+"-"+bn[n>>16&255]+bn[n>>24&255]+bn[r&255]+bn[r>>8&255]+bn[r>>16&255]+bn[r>>24&255]).toLowerCase()}function zn(e,t,n){return Math.max(t,Math.min(n,e))}function mJe(e,t){return(e%t+t)%t}function k1(e,t,n){return(1-n)*e+n*t}function ci(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function mt(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}class tt{constructor(t=0,n=0){tt.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,r=this.y,i=t.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(zn(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y;return n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-t.x,o=this.y-t.y;return this.x=a*r-o*i+t.x,this.y=a*i+o*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qe{constructor(t,n,r,i,a,o,s,c,u){Qe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,n,r,i,a,o,s,c,u)}set(t,n,r,i,a,o,s,c,u){const l=this.elements;return l[0]=t,l[1]=i,l[2]=s,l[3]=n,l[4]=a,l[5]=c,l[6]=r,l[7]=o,l[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(t,n,r){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],c=r[6],u=r[1],l=r[4],f=r[7],d=r[2],h=r[5],m=r[8],g=i[0],p=i[3],v=i[6],y=i[1],_=i[4],S=i[7],O=i[2],M=i[5],P=i[8];return a[0]=o*g+s*y+c*O,a[3]=o*p+s*_+c*M,a[6]=o*v+s*S+c*P,a[1]=u*g+l*y+f*O,a[4]=u*p+l*_+f*M,a[7]=u*v+l*S+f*P,a[2]=d*g+h*y+m*O,a[5]=d*p+h*_+m*M,a[8]=d*v+h*S+m*P,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8];return n*o*l-n*s*u-r*a*l+r*s*c+i*a*u-i*o*c}invert(){const t=this.elements,n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=l*o-s*u,d=s*c-l*a,h=u*a-o*c,m=n*f+r*d+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return t[0]=f*g,t[1]=(i*u-l*r)*g,t[2]=(s*r-i*o)*g,t[3]=d*g,t[4]=(l*n-i*c)*g,t[5]=(i*a-s*n)*g,t[6]=h*g,t[7]=(r*c-u*n)*g,t[8]=(o*n-r*a)*g,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,r,i,a,o,s){const c=Math.cos(a),u=Math.sin(a);return this.set(r*c,r*u,-r*(c*o+u*s)+o+t,-i*u,i*c,-i*(-u*o+c*s)+s+n,0,0,1),this}scale(t,n){return this.premultiply(B1.makeScale(t,n)),this}rotate(t){return this.premultiply(B1.makeRotation(-t)),this}translate(t,n){return this.premultiply(B1.makeTranslation(t,n)),this}makeTranslation(t,n){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,n,0,0,1),this}makeRotation(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(t,n){return this.set(t,0,0,0,n,0,0,0,1),this}equals(t){const n=this.elements,r=t.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(t,n=0){for(let r=0;r<9;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const B1=new Qe;function GV(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function kv(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function gJe(){const e=kv("canvas");return e.style.display="block",e}const g4={};function Fp(e){e in g4||(g4[e]=!0,console.warn(e))}function _Je(e,t,n){return new Promise(function(r,i){function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}function yJe(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function $Je(e){const t=e.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const _4=new Qe().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),y4=new Qe().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Zu={[_o]:{transfer:Lv,primaries:Nv,luminanceCoefficients:[.2126,.7152,.0722],toReference:e=>e,fromReference:e=>e},[oi]:{transfer:xt,primaries:Nv,luminanceCoefficients:[.2126,.7152,.0722],toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[N_]:{transfer:Lv,primaries:Uv,luminanceCoefficients:[.2289,.6917,.0793],toReference:e=>e.applyMatrix3(y4),fromReference:e=>e.applyMatrix3(_4)},[NA]:{transfer:xt,primaries:Uv,luminanceCoefficients:[.2289,.6917,.0793],toReference:e=>e.convertSRGBToLinear().applyMatrix3(y4),fromReference:e=>e.applyMatrix3(_4).convertLinearToSRGB()}},bJe=new Set([_o,N_]),dt={enabled:!0,_workingColorSpace:_o,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!bJe.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(this.enabled===!1||t===n||!t||!n)return e;const r=Zu[t].toReference,i=Zu[n].fromReference;return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Zu[e].primaries},getTransfer:function(e){return e===La?Lv:Zu[e].transfer},getLuminanceCoefficients:function(e,t=this._workingColorSpace){return e.fromArray(Zu[t].luminanceCoefficients)}};function zc(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function z1(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}let tc;class SJe{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{tc===void 0&&(tc=kv("canvas")),tc.width=t.width,tc.height=t.height;const r=tc.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=tc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const n=kv("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const i=r.getImageData(0,0,t.width,t.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=zc(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(t.data){const n=t.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(zc(n[r]/255)*255):n[r]=zc(n[r]);return{data:n,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let xJe=0;class VV{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xJe++}),this.uuid=Ga(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(H1(i[o].image)):a.push(H1(i[o]))}else a=H1(i);r.url=a}return n||(t.images[this.uuid]=r),r}}function H1(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?SJe.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wJe=0;class In extends xu{constructor(t=In.DEFAULT_IMAGE,n=In.DEFAULT_MAPPING,r=li,i=li,a=tr,o=Go,s=Gr,c=fa,u=In.DEFAULT_ANISOTROPY,l=La){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wJe++}),this.uuid=Ga(),this.name="",this.source=new VV(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=c,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==RV)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Dv:t.x=t.x-Math.floor(t.x);break;case li:t.x=t.x<0?0:1;break;case iw:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Dv:t.y=t.y-Math.floor(t.y);break;case li:t.y=t.y<0?0:1;break;case iw:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}In.DEFAULT_IMAGE=null;In.DEFAULT_MAPPING=RV;In.DEFAULT_ANISOTROPY=1;class Ot{constructor(t=0,n=0,r=0,i=1){Ot.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,r,i){return this.x=t,this.y=n,this.z=r,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,r=this.y,i=this.z,a=this.w,o=t.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,r,i,a;const c=t.elements,u=c[0],l=c[4],f=c[8],d=c[1],h=c[5],m=c[9],g=c[2],p=c[6],v=c[10];if(Math.abs(l-d)<.01&&Math.abs(f-g)<.01&&Math.abs(m-p)<.01){if(Math.abs(l+d)<.1&&Math.abs(f+g)<.1&&Math.abs(m+p)<.1&&Math.abs(u+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,S=(h+1)/2,O=(v+1)/2,M=(l+d)/4,P=(f+g)/4,D=(m+p)/4;return _>S&&_>O?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=M/r,a=P/r):S>O?S<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(S),r=M/i,a=D/i):O<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(O),r=P/a,i=D/a),this.set(r,i,a,n),this}let y=Math.sqrt((p-m)*(p-m)+(f-g)*(f-g)+(d-l)*(d-l));return Math.abs(y)<.001&&(y=1),this.x=(p-m)/y,this.y=(f-g)/y,this.z=(d-l)/y,this.w=Math.acos((u+h+v-1)/2),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this.w=t.w+(n.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class EJe extends xu{constructor(t=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=t,this.height=n,this.depth=1,this.scissor=new Ot(0,0,t,n),this.scissorTest=!1,this.viewport=new Ot(0,0,t,n);const i={width:t,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new In(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,n,r=1){if(this.width!==t||this.height!==n||this.depth!==r){this.width=t,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=t,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let r=0,i=t.textures.length;r<i;r++)this.textures[r]=t.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},t.texture.image);return this.texture.source=new VV(n),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hs extends EJe{constructor(t=1,n=1,r={}){super(t,n,r),this.isWebGLRenderTarget=!0}}class jV extends In{constructor(t=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:n,height:r,depth:i},this.magFilter=gr,this.minFilter=gr,this.wrapR=li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class TJe extends In{constructor(t=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:n,height:r,depth:i},this.magFilter=gr,this.minFilter=gr,this.wrapR=li,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dr{constructor(t=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}static slerpFlat(t,n,r,i,a,o,s){let c=r[i+0],u=r[i+1],l=r[i+2],f=r[i+3];const d=a[o+0],h=a[o+1],m=a[o+2],g=a[o+3];if(s===0){t[n+0]=c,t[n+1]=u,t[n+2]=l,t[n+3]=f;return}if(s===1){t[n+0]=d,t[n+1]=h,t[n+2]=m,t[n+3]=g;return}if(f!==g||c!==d||u!==h||l!==m){let p=1-s;const v=c*d+u*h+l*m+f*g,y=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const O=Math.sqrt(_),M=Math.atan2(O,v*y);p=Math.sin(p*M)/O,s=Math.sin(s*M)/O}const S=s*y;if(c=c*p+d*S,u=u*p+h*S,l=l*p+m*S,f=f*p+g*S,p===1-s){const O=1/Math.sqrt(c*c+u*u+l*l+f*f);c*=O,u*=O,l*=O,f*=O}}t[n]=c,t[n+1]=u,t[n+2]=l,t[n+3]=f}static multiplyQuaternionsFlat(t,n,r,i,a,o){const s=r[i],c=r[i+1],u=r[i+2],l=r[i+3],f=a[o],d=a[o+1],h=a[o+2],m=a[o+3];return t[n]=s*m+l*f+c*h-u*d,t[n+1]=c*m+l*d+u*f-s*h,t[n+2]=u*m+l*h+s*d-c*f,t[n+3]=l*m-s*f-c*d-u*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,r,i){return this._x=t,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n=!0){const r=t._x,i=t._y,a=t._z,o=t._order,s=Math.cos,c=Math.sin,u=s(r/2),l=s(i/2),f=s(a/2),d=c(r/2),h=c(i/2),m=c(a/2);switch(o){case"XYZ":this._x=d*l*f+u*h*m,this._y=u*h*f-d*l*m,this._z=u*l*m+d*h*f,this._w=u*l*f-d*h*m;break;case"YXZ":this._x=d*l*f+u*h*m,this._y=u*h*f-d*l*m,this._z=u*l*m-d*h*f,this._w=u*l*f+d*h*m;break;case"ZXY":this._x=d*l*f-u*h*m,this._y=u*h*f+d*l*m,this._z=u*l*m+d*h*f,this._w=u*l*f-d*h*m;break;case"ZYX":this._x=d*l*f-u*h*m,this._y=u*h*f+d*l*m,this._z=u*l*m-d*h*f,this._w=u*l*f+d*h*m;break;case"YZX":this._x=d*l*f+u*h*m,this._y=u*h*f+d*l*m,this._z=u*l*m-d*h*f,this._w=u*l*f-d*h*m;break;case"XZY":this._x=d*l*f-u*h*m,this._y=u*h*f-d*l*m,this._z=u*l*m+d*h*f,this._w=u*l*f+d*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const r=n/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],c=n[9],u=n[2],l=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(l-c)*h,this._y=(a-u)*h,this._z=(o-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(l-c)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(a+u)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(a-u)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(c+l)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(o-i)/h,this._x=(a+u)/h,this._y=(c+l)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(zn(this.dot(t),-1,1)))}rotateTowards(t,n){const r=this.angleTo(t);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const r=t._x,i=t._y,a=t._z,o=t._w,s=n._x,c=n._y,u=n._z,l=n._w;return this._x=r*l+o*s+i*u-a*c,this._y=i*l+o*c+a*s-r*u,this._z=a*l+o*u+r*c-i*s,this._w=o*l-r*s-i*c-a*u,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*t._w+r*t._x+i*t._y+a*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const c=1-s*s;if(c<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*a+n*this._z,this.normalize(),this}const u=Math.sqrt(c),l=Math.atan2(u,s),f=Math.sin((1-n)*l)/u,d=Math.sin(n*l)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=a*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,n,r){return this.copy(t).slerp(n,r)}random(){const t=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(t),i*Math.cos(t),a*Math.sin(n),a*Math.cos(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(t=0,n=0,r=0){W.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(t,n,r){return r===void 0&&(r=this.z),this.x=t,this.y=n,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion($4.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion($4.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,r=this.y,i=this.z,a=t.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,r=this.y,i=this.z,a=t.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(t){const n=this.x,r=this.y,i=this.z,a=t.x,o=t.y,s=t.z,c=t.w,u=2*(o*i-s*r),l=2*(s*n-a*i),f=2*(a*r-o*n);return this.x=n+c*u+o*f-s*l,this.y=r+c*l+s*u-a*f,this.z=i+c*f+a*l-o*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,r=this.y,i=this.z,a=t.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const r=t.x,i=t.y,a=t.z,o=n.x,s=n.y,c=n.z;return this.x=i*c-a*s,this.y=a*o-r*c,this.z=r*s-i*o,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return G1.copy(this).projectOnVector(t),this.sub(G1)}reflect(t){return this.sub(G1.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(zn(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return n*n+r*r+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,r){const i=Math.sin(n)*t;return this.x=i*Math.sin(r),this.y=Math.cos(n)*t,this.z=i*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(t),this.y=n,this.z=r*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const G1=new W,$4=new dr;class Zf{constructor(t=new W(1/0,1/0,1/0),n=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n+=3)this.expandByPoint(Or.fromArray(t,n));return this}setFromBufferAttribute(t){this.makeEmpty();for(let n=0,r=t.count;n<r;n++)this.expandByPoint(Or.fromBufferAttribute(t,n));return this}setFromPoints(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const r=Or.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,n=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&t.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)t.isMesh===!0?t.getVertexPosition(o,Or):Or.fromBufferAttribute(a,o),Or.applyMatrix4(t.matrixWorld),this.expandByPoint(Or);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Eh.copy(t.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Eh.copy(r.boundingBox)),Eh.applyMatrix4(t.matrixWorld),this.union(Eh)}const i=t.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Or),Or.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,r;return t.normal.x>0?(n=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),n<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Ju),Th.subVectors(this.max,Ju),nc.subVectors(t.a,Ju),rc.subVectors(t.b,Ju),ic.subVectors(t.c,Ju),Aa.subVectors(rc,nc),Pa.subVectors(ic,rc),wo.subVectors(nc,ic);let n=[0,-Aa.z,Aa.y,0,-Pa.z,Pa.y,0,-wo.z,wo.y,Aa.z,0,-Aa.x,Pa.z,0,-Pa.x,wo.z,0,-wo.x,-Aa.y,Aa.x,0,-Pa.y,Pa.x,0,-wo.y,wo.x,0];return!V1(n,nc,rc,ic,Th)||(n=[1,0,0,0,1,0,0,0,1],!V1(n,nc,rc,ic,Th))?!1:(Mh.crossVectors(Aa,Pa),n=[Mh.x,Mh.y,Mh.z],V1(n,nc,rc,ic,Th))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Or).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Or).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Fi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Fi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Fi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Fi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Fi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Fi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Fi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Fi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Fi),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Fi=[new W,new W,new W,new W,new W,new W,new W,new W],Or=new W,Eh=new Zf,nc=new W,rc=new W,ic=new W,Aa=new W,Pa=new W,wo=new W,Ju=new W,Th=new W,Mh=new W,Eo=new W;function V1(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Eo.fromArray(e,a);const s=i.x*Math.abs(Eo.x)+i.y*Math.abs(Eo.y)+i.z*Math.abs(Eo.z),c=t.dot(Eo),u=n.dot(Eo),l=r.dot(Eo);if(Math.max(-Math.max(c,u,l),Math.min(c,u,l))>s)return!1}return!0}const MJe=new Zf,Qu=new W,j1=new W;class UA{constructor(t=new W,n=-1){this.isSphere=!0,this.center=t,this.radius=n}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const r=this.center;n!==void 0?r.copy(n):MJe.setFromPoints(t).getCenter(r);let i=0;for(let a=0,o=t.length;a<o;a++)i=Math.max(i,r.distanceToSquared(t[a]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const r=this.center.distanceToSquared(t);return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Qu.subVectors(t,this.center);const n=Qu.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Qu,i/r),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(j1.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Qu.copy(t.center).add(j1)),this.expandByPoint(Qu.copy(t.center).sub(j1))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ki=new W,W1=new W,Ah=new W,Ca=new W,X1=new W,Ph=new W,Y1=new W;class WV{constructor(t=new W,n=new W(0,0,-1)){this.origin=t,this.direction=n}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ki)),this}closestPointToPoint(t,n){n.subVectors(t,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=ki.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(ki.copy(this.origin).addScaledVector(this.direction,n),ki.distanceToSquared(t))}distanceSqToSegment(t,n,r,i){W1.copy(t).add(n).multiplyScalar(.5),Ah.copy(n).sub(t).normalize(),Ca.copy(this.origin).sub(W1);const a=t.distanceTo(n)*.5,o=-this.direction.dot(Ah),s=Ca.dot(this.direction),c=-Ca.dot(Ah),u=Ca.lengthSq(),l=Math.abs(1-o*o);let f,d,h,m;if(l>0)if(f=o*c-s,d=o*s-c,m=a*l,f>=0)if(d>=-m)if(d<=m){const g=1/l;f*=g,d*=g,h=f*(f+o*d+2*s)+d*(o*f+d+2*c)+u}else d=a,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*c)+u;else d=-a,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*c)+u;else d<=-m?(f=Math.max(0,-(-o*a+s)),d=f>0?-a:Math.min(Math.max(-a,-c),a),h=-f*f+d*(d+2*c)+u):d<=m?(f=0,d=Math.min(Math.max(-a,-c),a),h=d*(d+2*c)+u):(f=Math.max(0,-(o*a+s)),d=f>0?a:Math.min(Math.max(-a,-c),a),h=-f*f+d*(d+2*c)+u);else d=o>0?-a:a,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(W1).addScaledVector(Ah,d),h}intersectSphere(t,n){ki.subVectors(t.center,this.origin);const r=ki.dot(this.direction),i=ki.dot(ki)-r*r,a=t.radius*t.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,c=r+o;return c<0?null:s<0?this.at(c,n):this.at(s,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/n;return r>=0?r:null}intersectPlane(t,n){const r=this.distanceToPlane(t);return r===null?null:this.at(r,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let r,i,a,o,s,c;const u=1/this.direction.x,l=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(t.min.x-d.x)*u,i=(t.max.x-d.x)*u):(r=(t.max.x-d.x)*u,i=(t.min.x-d.x)*u),l>=0?(a=(t.min.y-d.y)*l,o=(t.max.y-d.y)*l):(a=(t.max.y-d.y)*l,o=(t.min.y-d.y)*l),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(t.min.z-d.z)*f,c=(t.max.z-d.z)*f):(s=(t.max.z-d.z)*f,c=(t.min.z-d.z)*f),r>c||s>i)||((s>r||r!==r)&&(r=s),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(t){return this.intersectBox(t,ki)!==null}intersectTriangle(t,n,r,i,a){X1.subVectors(n,t),Ph.subVectors(r,t),Y1.crossVectors(X1,Ph);let o=this.direction.dot(Y1),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Ca.subVectors(this.origin,t);const c=s*this.direction.dot(Ph.crossVectors(Ca,Ph));if(c<0)return null;const u=s*this.direction.dot(X1.cross(Ca));if(u<0||c+u>o)return null;const l=-s*Ca.dot(Y1);return l<0?null:this.at(l/o,a)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(t,n,r,i,a,o,s,c,u,l,f,d,h,m,g,p){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,r,i,a,o,s,c,u,l,f,d,h,m,g,p)}set(t,n,r,i,a,o,s,c,u,l,f,d,h,m,g,p){const v=this.elements;return v[0]=t,v[4]=n,v[8]=r,v[12]=i,v[1]=a,v[5]=o,v[9]=s,v[13]=c,v[2]=u,v[6]=l,v[10]=f,v[14]=d,v[3]=h,v[7]=m,v[11]=g,v[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(t){const n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,r=t.elements,i=1/ac.setFromMatrixColumn(t,0).length(),a=1/ac.setFromMatrixColumn(t,1).length(),o=1/ac.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,r=t.x,i=t.y,a=t.z,o=Math.cos(r),s=Math.sin(r),c=Math.cos(i),u=Math.sin(i),l=Math.cos(a),f=Math.sin(a);if(t.order==="XYZ"){const d=o*l,h=o*f,m=s*l,g=s*f;n[0]=c*l,n[4]=-c*f,n[8]=u,n[1]=h+m*u,n[5]=d-g*u,n[9]=-s*c,n[2]=g-d*u,n[6]=m+h*u,n[10]=o*c}else if(t.order==="YXZ"){const d=c*l,h=c*f,m=u*l,g=u*f;n[0]=d+g*s,n[4]=m*s-h,n[8]=o*u,n[1]=o*f,n[5]=o*l,n[9]=-s,n[2]=h*s-m,n[6]=g+d*s,n[10]=o*c}else if(t.order==="ZXY"){const d=c*l,h=c*f,m=u*l,g=u*f;n[0]=d-g*s,n[4]=-o*f,n[8]=m+h*s,n[1]=h+m*s,n[5]=o*l,n[9]=g-d*s,n[2]=-o*u,n[6]=s,n[10]=o*c}else if(t.order==="ZYX"){const d=o*l,h=o*f,m=s*l,g=s*f;n[0]=c*l,n[4]=m*u-h,n[8]=d*u+g,n[1]=c*f,n[5]=g*u+d,n[9]=h*u-m,n[2]=-u,n[6]=s*c,n[10]=o*c}else if(t.order==="YZX"){const d=o*c,h=o*u,m=s*c,g=s*u;n[0]=c*l,n[4]=g-d*f,n[8]=m*f+h,n[1]=f,n[5]=o*l,n[9]=-s*l,n[2]=-u*l,n[6]=h*f+m,n[10]=d-g*f}else if(t.order==="XZY"){const d=o*c,h=o*u,m=s*c,g=s*u;n[0]=c*l,n[4]=-f,n[8]=u*l,n[1]=d*f+g,n[5]=o*l,n[9]=h*f-m,n[2]=m*f-h,n[6]=s*l,n[10]=g*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(AJe,t,PJe)}lookAt(t,n,r){const i=this.elements;return Qn.subVectors(t,n),Qn.lengthSq()===0&&(Qn.z=1),Qn.normalize(),Ra.crossVectors(r,Qn),Ra.lengthSq()===0&&(Math.abs(r.z)===1?Qn.x+=1e-4:Qn.z+=1e-4,Qn.normalize(),Ra.crossVectors(r,Qn)),Ra.normalize(),Ch.crossVectors(Qn,Ra),i[0]=Ra.x,i[4]=Ch.x,i[8]=Qn.x,i[1]=Ra.y,i[5]=Ch.y,i[9]=Qn.y,i[2]=Ra.z,i[6]=Ch.z,i[10]=Qn.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],c=r[8],u=r[12],l=r[1],f=r[5],d=r[9],h=r[13],m=r[2],g=r[6],p=r[10],v=r[14],y=r[3],_=r[7],S=r[11],O=r[15],M=i[0],P=i[4],D=i[8],X=i[12],$=i[1],b=i[5],I=i[9],T=i[13],E=i[2],A=i[6],x=i[10],N=i[14],R=i[3],F=i[7],k=i[11],ee=i[15];return a[0]=o*M+s*$+c*E+u*R,a[4]=o*P+s*b+c*A+u*F,a[8]=o*D+s*I+c*x+u*k,a[12]=o*X+s*T+c*N+u*ee,a[1]=l*M+f*$+d*E+h*R,a[5]=l*P+f*b+d*A+h*F,a[9]=l*D+f*I+d*x+h*k,a[13]=l*X+f*T+d*N+h*ee,a[2]=m*M+g*$+p*E+v*R,a[6]=m*P+g*b+p*A+v*F,a[10]=m*D+g*I+p*x+v*k,a[14]=m*X+g*T+p*N+v*ee,a[3]=y*M+_*$+S*E+O*R,a[7]=y*P+_*b+S*A+O*F,a[11]=y*D+_*I+S*x+O*k,a[15]=y*X+_*T+S*N+O*ee,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[4],i=t[8],a=t[12],o=t[1],s=t[5],c=t[9],u=t[13],l=t[2],f=t[6],d=t[10],h=t[14],m=t[3],g=t[7],p=t[11],v=t[15];return m*(+a*c*f-i*u*f-a*s*d+r*u*d+i*s*h-r*c*h)+g*(+n*c*h-n*u*d+a*o*d-i*o*h+i*u*l-a*c*l)+p*(+n*u*f-n*s*h-a*o*f+r*o*h+a*s*l-r*u*l)+v*(-i*s*l-n*c*f+n*s*d+i*o*f-r*o*d+r*c*l)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,r){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=n,i[14]=r),this}invert(){const t=this.elements,n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],u=t[7],l=t[8],f=t[9],d=t[10],h=t[11],m=t[12],g=t[13],p=t[14],v=t[15],y=f*p*u-g*d*u+g*c*h-s*p*h-f*c*v+s*d*v,_=m*d*u-l*p*u-m*c*h+o*p*h+l*c*v-o*d*v,S=l*g*u-m*f*u+m*s*h-o*g*h-l*s*v+o*f*v,O=m*f*c-l*g*c-m*s*d+o*g*d+l*s*p-o*f*p,M=n*y+r*_+i*S+a*O;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/M;return t[0]=y*P,t[1]=(g*d*a-f*p*a-g*i*h+r*p*h+f*i*v-r*d*v)*P,t[2]=(s*p*a-g*c*a+g*i*u-r*p*u-s*i*v+r*c*v)*P,t[3]=(f*c*a-s*d*a-f*i*u+r*d*u+s*i*h-r*c*h)*P,t[4]=_*P,t[5]=(l*p*a-m*d*a+m*i*h-n*p*h-l*i*v+n*d*v)*P,t[6]=(m*c*a-o*p*a-m*i*u+n*p*u+o*i*v-n*c*v)*P,t[7]=(o*d*a-l*c*a+l*i*u-n*d*u-o*i*h+n*c*h)*P,t[8]=S*P,t[9]=(m*f*a-l*g*a-m*r*h+n*g*h+l*r*v-n*f*v)*P,t[10]=(o*g*a-m*s*a+m*r*u-n*g*u-o*r*v+n*s*v)*P,t[11]=(l*s*a-o*f*a-l*r*u+n*f*u+o*r*h-n*s*h)*P,t[12]=O*P,t[13]=(l*g*i-m*f*i+m*r*d-n*g*d-l*r*p+n*f*p)*P,t[14]=(m*s*i-o*g*i-m*r*c+n*g*c+o*r*p-n*s*p)*P,t[15]=(o*f*i-l*s*i+l*r*c-n*f*c-o*r*d+n*s*d)*P,this}scale(t){const n=this.elements,r=t.x,i=t.y,a=t.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(t,n,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=t.x,s=t.y,c=t.z,u=a*o,l=a*s;return this.set(u*o+r,u*s-i*c,u*c+i*s,0,u*s+i*c,l*s+r,l*c-i*o,0,u*c-i*s,l*c+i*o,a*c*c+r,0,0,0,0,1),this}makeScale(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,n,r,i,a,o){return this.set(1,r,a,0,t,1,o,0,n,i,1,0,0,0,0,1),this}compose(t,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,c=n._w,u=a+a,l=o+o,f=s+s,d=a*u,h=a*l,m=a*f,g=o*l,p=o*f,v=s*f,y=c*u,_=c*l,S=c*f,O=r.x,M=r.y,P=r.z;return i[0]=(1-(g+v))*O,i[1]=(h+S)*O,i[2]=(m-_)*O,i[3]=0,i[4]=(h-S)*M,i[5]=(1-(d+v))*M,i[6]=(p+y)*M,i[7]=0,i[8]=(m+_)*P,i[9]=(p-y)*P,i[10]=(1-(d+g))*P,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,n,r){const i=this.elements;let a=ac.set(i[0],i[1],i[2]).length();const o=ac.set(i[4],i[5],i[6]).length(),s=ac.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),t.x=i[12],t.y=i[13],t.z=i[14],Dr.copy(this);const u=1/a,l=1/o,f=1/s;return Dr.elements[0]*=u,Dr.elements[1]*=u,Dr.elements[2]*=u,Dr.elements[4]*=l,Dr.elements[5]*=l,Dr.elements[6]*=l,Dr.elements[8]*=f,Dr.elements[9]*=f,Dr.elements[10]*=f,n.setFromRotationMatrix(Dr),r.x=a,r.y=o,r.z=s,this}makePerspective(t,n,r,i,a,o,s=Zi){const c=this.elements,u=2*a/(n-t),l=2*a/(r-i),f=(n+t)/(n-t),d=(r+i)/(r-i);let h,m;if(s===Zi)h=-(o+a)/(o-a),m=-2*o*a/(o-a);else if(s===Fv)h=-o/(o-a),m=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=l,c[9]=d,c[13]=0,c[2]=0,c[6]=0,c[10]=h,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,n,r,i,a,o,s=Zi){const c=this.elements,u=1/(n-t),l=1/(r-i),f=1/(o-a),d=(n+t)*u,h=(r+i)*l;let m,g;if(s===Zi)m=(o+a)*f,g=-2*f;else if(s===Fv)m=a*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-d,c[1]=0,c[5]=2*l,c[9]=0,c[13]=-h,c[2]=0,c[6]=0,c[10]=g,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const n=this.elements,r=t.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(t,n=0){for(let r=0;r<16;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t}}const ac=new W,Dr=new At,AJe=new W(0,0,0),PJe=new W(1,1,1),Ra=new W,Ch=new W,Qn=new W,b4=new At,S4=new dr;class Ei{constructor(t=0,n=0,r=0,i=Ei.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,i=this._order){return this._x=t,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const i=t.elements,a=i[0],o=i[4],s=i[8],c=i[1],u=i[5],l=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(zn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-zn(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(zn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-zn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(zn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return b4.makeRotationFromQuaternion(t),this.setFromRotationMatrix(b4,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return S4.setFromEuler(this),this.setFromQuaternion(S4,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ei.DEFAULT_ORDER="XYZ";class FA{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let CJe=0;const x4=new W,oc=new dr,Bi=new At,Rh=new W,el=new W,RJe=new W,IJe=new dr,w4=new W(1,0,0),E4=new W(0,1,0),T4=new W(0,0,1),M4={type:"added"},OJe={type:"removed"},sc={type:"childadded",child:null},q1={type:"childremoved",child:null};class vn extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:CJe++}),this.uuid=Ga(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vn.DEFAULT_UP.clone();const t=new W,n=new Ei,r=new dr,i=new W(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new Qe}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=vn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new FA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return oc.setFromAxisAngle(t,n),this.quaternion.multiply(oc),this}rotateOnWorldAxis(t,n){return oc.setFromAxisAngle(t,n),this.quaternion.premultiply(oc),this}rotateX(t){return this.rotateOnAxis(w4,t)}rotateY(t){return this.rotateOnAxis(E4,t)}rotateZ(t){return this.rotateOnAxis(T4,t)}translateOnAxis(t,n){return x4.copy(t).applyQuaternion(this.quaternion),this.position.add(x4.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(w4,t)}translateY(t){return this.translateOnAxis(E4,t)}translateZ(t){return this.translateOnAxis(T4,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Bi.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?Rh.copy(t):Rh.set(t,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),el.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bi.lookAt(el,Rh,this.up):Bi.lookAt(Rh,el,this.up),this.quaternion.setFromRotationMatrix(Bi),i&&(Bi.extractRotation(i.matrixWorld),oc.setFromRotationMatrix(Bi),this.quaternion.premultiply(oc.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(M4),sc.child=t,this.dispatchEvent(sc),sc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return n!==-1&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(OJe),q1.child=t,this.dispatchEvent(q1),q1.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Bi.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Bi.multiply(t.parent.matrixWorld)),t.applyMatrix4(Bi),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(M4),sc.child=t,this.dispatchEvent(sc),sc.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(t,n);if(o!==void 0)return o}}getObjectsByProperty(t,n,r=[]){this[t]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(t,n,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(el,t,RJe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(el,IJe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;n!==null&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(t)}updateWorldMatrix(t,n){const r=this.parent;if(t===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(t){const n=t===void 0||typeof t=="string",r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,c){return s[c.uuid]===void 0&&(s[c.uuid]=c.toJSON(t)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(t.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const c=s.shapes;if(Array.isArray(c))for(let u=0,l=c.length;u<l;u++){const f=c[u];a(t.shapes,f)}else a(t.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let c=0,u=this.material.length;c<u;c++)s.push(a(t.materials,this.material[c]));i.material=s}else i.material=a(t.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const c=this.animations[s];i.animations.push(a(t.animations,c))}}if(n){const s=o(t.geometries),c=o(t.materials),u=o(t.textures),l=o(t.images),f=o(t.shapes),d=o(t.skeletons),h=o(t.animations),m=o(t.nodes);s.length>0&&(r.geometries=s),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),l.length>0&&(r.images=l),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(s){const c=[];for(const u in s){const l=s[u];delete l.metadata,c.push(l)}return c}}clone(t){return new this.constructor().copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),n===!0)for(let r=0;r<t.children.length;r++){const i=t.children[r];this.add(i.clone())}return this}}vn.DEFAULT_UP=new W(0,1,0);vn.DEFAULT_MATRIX_AUTO_UPDATE=!0;vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Lr=new W,zi=new W,K1=new W,Hi=new W,cc=new W,uc=new W,A4=new W,Z1=new W,J1=new W,Q1=new W,eb=new Ot,tb=new Ot,nb=new Ot;class pr{constructor(t=new W,n=new W,r=new W){this.a=t,this.b=n,this.c=r}static getNormal(t,n,r,i){i.subVectors(r,n),Lr.subVectors(t,n),i.cross(Lr);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(t,n,r,i,a){Lr.subVectors(i,n),zi.subVectors(r,n),K1.subVectors(t,n);const o=Lr.dot(Lr),s=Lr.dot(zi),c=Lr.dot(K1),u=zi.dot(zi),l=zi.dot(K1),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const d=1/f,h=(u*c-s*l)*d,m=(o*l-s*c)*d;return a.set(1-h-m,m,h)}static containsPoint(t,n,r,i){return this.getBarycoord(t,n,r,i,Hi)===null?!1:Hi.x>=0&&Hi.y>=0&&Hi.x+Hi.y<=1}static getInterpolation(t,n,r,i,a,o,s,c){return this.getBarycoord(t,n,r,i,Hi)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Hi.x),c.addScaledVector(o,Hi.y),c.addScaledVector(s,Hi.z),c)}static getInterpolatedAttribute(t,n,r,i,a,o){return eb.setScalar(0),tb.setScalar(0),nb.setScalar(0),eb.fromBufferAttribute(t,n),tb.fromBufferAttribute(t,r),nb.fromBufferAttribute(t,i),o.setScalar(0),o.addScaledVector(eb,a.x),o.addScaledVector(tb,a.y),o.addScaledVector(nb,a.z),o}static isFrontFacing(t,n,r,i){return Lr.subVectors(r,n),zi.subVectors(t,n),Lr.cross(zi).dot(i)<0}set(t,n,r){return this.a.copy(t),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(t,n,r,i){return this.a.copy(t[n]),this.b.copy(t[r]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,n,r,i){return this.a.fromBufferAttribute(t,n),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Lr.subVectors(this.c,this.b),zi.subVectors(this.a,this.b),Lr.cross(zi).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return pr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return pr.getBarycoord(t,this.a,this.b,this.c,n)}getInterpolation(t,n,r,i,a){return pr.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}containsPoint(t){return pr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return pr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){const r=this.a,i=this.b,a=this.c;let o,s;cc.subVectors(i,r),uc.subVectors(a,r),Z1.subVectors(t,r);const c=cc.dot(Z1),u=uc.dot(Z1);if(c<=0&&u<=0)return n.copy(r);J1.subVectors(t,i);const l=cc.dot(J1),f=uc.dot(J1);if(l>=0&&f<=l)return n.copy(i);const d=c*f-l*u;if(d<=0&&c>=0&&l<=0)return o=c/(c-l),n.copy(r).addScaledVector(cc,o);Q1.subVectors(t,a);const h=cc.dot(Q1),m=uc.dot(Q1);if(m>=0&&h<=m)return n.copy(a);const g=h*u-c*m;if(g<=0&&u>=0&&m<=0)return s=u/(u-m),n.copy(r).addScaledVector(uc,s);const p=l*m-h*f;if(p<=0&&f-l>=0&&h-m>=0)return A4.subVectors(a,i),s=(f-l)/(f-l+(h-m)),n.copy(i).addScaledVector(A4,s);const v=1/(p+g+d);return o=g*v,s=d*v,n.copy(r).addScaledVector(cc,o).addScaledVector(uc,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const XV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ia={h:0,s:0,l:0},Ih={h:0,s:0,l:0};function rb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}class ut{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}set(t,n,r){if(n===void 0&&r===void 0){const i=t;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(t,n,r);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=oi){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,dt.toWorkingColorSpace(this,n),this}setRGB(t,n,r,i=dt.workingColorSpace){return this.r=t,this.g=n,this.b=r,dt.toWorkingColorSpace(this,i),this}setHSL(t,n,r,i=dt.workingColorSpace){if(t=mJe(t,1),n=zn(n,0,1),r=zn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=rb(o,a,t+1/3),this.g=rb(o,a,t),this.b=rb(o,a,t-1/3)}return dt.toWorkingColorSpace(this,i),this}setStyle(t,n=oi){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}setColorName(t,n=oi){const r=XV[t.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=zc(t.r),this.g=zc(t.g),this.b=zc(t.b),this}copyLinearToSRGB(t){return this.r=z1(t.r),this.g=z1(t.g),this.b=z1(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=oi){return dt.fromWorkingColorSpace(Sn.copy(this),t),Math.round(zn(Sn.r*255,0,255))*65536+Math.round(zn(Sn.g*255,0,255))*256+Math.round(zn(Sn.b*255,0,255))}getHexString(t=oi){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=dt.workingColorSpace){dt.fromWorkingColorSpace(Sn.copy(this),n);const r=Sn.r,i=Sn.g,a=Sn.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let c,u;const l=(s+o)/2;if(s===o)c=0,u=0;else{const f=o-s;switch(u=l<=.5?f/(o+s):f/(2-o-s),o){case r:c=(i-a)/f+(i<a?6:0);break;case i:c=(a-r)/f+2;break;case a:c=(r-i)/f+4;break}c/=6}return t.h=c,t.s=u,t.l=l,t}getRGB(t,n=dt.workingColorSpace){return dt.fromWorkingColorSpace(Sn.copy(this),n),t.r=Sn.r,t.g=Sn.g,t.b=Sn.b,t}getStyle(t=oi){dt.fromWorkingColorSpace(Sn.copy(this),t);const n=Sn.r,r=Sn.g,i=Sn.b;return t!==oi?`color(${t} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(t,n,r){return this.getHSL(Ia),this.setHSL(Ia.h+t,Ia.s+n,Ia.l+r)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(Ia),t.getHSL(Ih);const r=k1(Ia.h,Ih.h,n),i=k1(Ia.s,Ih.s,n),a=k1(Ia.l,Ih.l,n);return this.setHSL(r,i,a),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const n=this.r,r=this.g,i=this.b,a=t.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Sn=new ut;ut.NAMES=XV;let DJe=0;class Jf extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:DJe++}),this.uuid=Ga(),this.name="",this.type="Material",this.blending=Yo,this.side=wi,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Xx,this.blendDst=Yx,this.blendEquation=Bo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=ru,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=v4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ec,this.stencilZFail=ec,this.stencilZPass=ec,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const n in t){const r=t[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(t){const n=t===void 0||typeof t=="string";n&&(t={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Yo&&(r.blending=this.blending),this.side!==wi&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Xx&&(r.blendSrc=this.blendSrc),this.blendDst!==Yx&&(r.blendDst=this.blendDst),this.blendEquation!==Bo&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==ru&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==v4&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ec&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ec&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ec&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const c=a[s];delete c.metadata,o.push(c)}return o}if(n){const a=i(t.textures),o=i(t.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const n=t.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class kA extends Jf{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ei,this.combine=CV,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Gt=new W,Oh=new tt;class jr{constructor(t,n,r=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=t!==void 0?t.length/n:0,this.normalized=r,this.usage=Rw,this.updateRanges=[],this.gpuType=Ki,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,n){this.updateRanges.push({start:t,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,n,r){t*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[t+i]=n.array[r+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Oh.fromBufferAttribute(this,n),Oh.applyMatrix3(t),this.setXY(n,Oh.x,Oh.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyMatrix3(t),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}applyMatrix4(t){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyMatrix4(t),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyNormalMatrix(t),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.transformDirection(t),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}set(t,n=0){return this.array.set(t,n),this}getComponent(t,n){let r=this.array[t*this.itemSize+n];return this.normalized&&(r=ci(r,this.array)),r}setComponent(t,n,r){return this.normalized&&(r=mt(r,this.array)),this.array[t*this.itemSize+n]=r,this}getX(t){let n=this.array[t*this.itemSize];return this.normalized&&(n=ci(n,this.array)),n}setX(t,n){return this.normalized&&(n=mt(n,this.array)),this.array[t*this.itemSize]=n,this}getY(t){let n=this.array[t*this.itemSize+1];return this.normalized&&(n=ci(n,this.array)),n}setY(t,n){return this.normalized&&(n=mt(n,this.array)),this.array[t*this.itemSize+1]=n,this}getZ(t){let n=this.array[t*this.itemSize+2];return this.normalized&&(n=ci(n,this.array)),n}setZ(t,n){return this.normalized&&(n=mt(n,this.array)),this.array[t*this.itemSize+2]=n,this}getW(t){let n=this.array[t*this.itemSize+3];return this.normalized&&(n=ci(n,this.array)),n}setW(t,n){return this.normalized&&(n=mt(n,this.array)),this.array[t*this.itemSize+3]=n,this}setXY(t,n,r){return t*=this.itemSize,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array)),this.array[t+0]=n,this.array[t+1]=r,this}setXYZ(t,n,r,i){return t*=this.itemSize,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array),i=mt(i,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=i,this}setXYZW(t,n,r,i,a){return t*=this.itemSize,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array),i=mt(i,this.array),a=mt(a,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=i,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Rw&&(t.usage=this.usage),t}}class YV extends jr{constructor(t,n,r){super(new Uint16Array(t),n,r)}}class qV extends jr{constructor(t,n,r){super(new Uint32Array(t),n,r)}}class mi extends jr{constructor(t,n,r){super(new Float32Array(t),n,r)}}let LJe=0;const fr=new At,ib=new vn,lc=new W,er=new Zf,tl=new Zf,sn=new W;class Sa extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:LJe++}),this.uuid=Ga(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(GV(t)?qV:YV)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,n){return this.attributes[t]=n,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,n,r=0){this.groups.push({start:t,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}applyMatrix4(t){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(t),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Qe().getNormalMatrix(t);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return fr.makeRotationFromQuaternion(t),this.applyMatrix4(fr),this}rotateX(t){return fr.makeRotationX(t),this.applyMatrix4(fr),this}rotateY(t){return fr.makeRotationY(t),this.applyMatrix4(fr),this}rotateZ(t){return fr.makeRotationZ(t),this.applyMatrix4(fr),this}translate(t,n,r){return fr.makeTranslation(t,n,r),this.applyMatrix4(fr),this}scale(t,n,r){return fr.makeScale(t,n,r),this.applyMatrix4(fr),this}lookAt(t){return ib.lookAt(t),ib.updateMatrix(),this.applyMatrix4(ib.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lc).negate(),this.translate(lc.x,lc.y,lc.z),this}setFromPoints(t){const n=[];for(let r=0,i=t.length;r<i;r++){const a=t[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new mi(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zf);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];er.setFromBufferAttribute(a),this.morphTargetsRelative?(sn.addVectors(this.boundingBox.min,er.min),this.boundingBox.expandByPoint(sn),sn.addVectors(this.boundingBox.max,er.max),this.boundingBox.expandByPoint(sn)):(this.boundingBox.expandByPoint(er.min),this.boundingBox.expandByPoint(er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new UA);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(t){const r=this.boundingSphere.center;if(er.setFromBufferAttribute(t),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];tl.setFromBufferAttribute(s),this.morphTargetsRelative?(sn.addVectors(er.min,tl.min),er.expandByPoint(sn),sn.addVectors(er.max,tl.max),er.expandByPoint(sn)):(er.expandByPoint(tl.min),er.expandByPoint(tl.max))}er.getCenter(r);let i=0;for(let a=0,o=t.count;a<o;a++)sn.fromBufferAttribute(t,a),i=Math.max(i,r.distanceToSquared(sn));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],c=this.morphTargetsRelative;for(let u=0,l=s.count;u<l;u++)sn.fromBufferAttribute(s,u),c&&(lc.fromBufferAttribute(t,u),sn.add(lc)),i=Math.max(i,r.distanceToSquared(sn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,n=this.attributes;if(t===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],c=[];for(let D=0;D<r.count;D++)s[D]=new W,c[D]=new W;const u=new W,l=new W,f=new W,d=new tt,h=new tt,m=new tt,g=new W,p=new W;function v(D,X,$){u.fromBufferAttribute(r,D),l.fromBufferAttribute(r,X),f.fromBufferAttribute(r,$),d.fromBufferAttribute(a,D),h.fromBufferAttribute(a,X),m.fromBufferAttribute(a,$),l.sub(u),f.sub(u),h.sub(d),m.sub(d);const b=1/(h.x*m.y-m.x*h.y);isFinite(b)&&(g.copy(l).multiplyScalar(m.y).addScaledVector(f,-h.y).multiplyScalar(b),p.copy(f).multiplyScalar(h.x).addScaledVector(l,-m.x).multiplyScalar(b),s[D].add(g),s[X].add(g),s[$].add(g),c[D].add(p),c[X].add(p),c[$].add(p))}let y=this.groups;y.length===0&&(y=[{start:0,count:t.count}]);for(let D=0,X=y.length;D<X;++D){const $=y[D],b=$.start,I=$.count;for(let T=b,E=b+I;T<E;T+=3)v(t.getX(T+0),t.getX(T+1),t.getX(T+2))}const _=new W,S=new W,O=new W,M=new W;function P(D){O.fromBufferAttribute(i,D),M.copy(O);const X=s[D];_.copy(X),_.sub(O.multiplyScalar(O.dot(X))).normalize(),S.crossVectors(M,X);const b=S.dot(c[D])<0?-1:1;o.setXYZW(D,_.x,_.y,_.z,b)}for(let D=0,X=y.length;D<X;++D){const $=y[D],b=$.start,I=$.count;for(let T=b,E=b+I;T<E;T+=3)P(t.getX(T+0)),P(t.getX(T+1)),P(t.getX(T+2))}}computeVertexNormals(){const t=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new W,a=new W,o=new W,s=new W,c=new W,u=new W,l=new W,f=new W;if(t)for(let d=0,h=t.count;d<h;d+=3){const m=t.getX(d+0),g=t.getX(d+1),p=t.getX(d+2);i.fromBufferAttribute(n,m),a.fromBufferAttribute(n,g),o.fromBufferAttribute(n,p),l.subVectors(o,a),f.subVectors(i,a),l.cross(f),s.fromBufferAttribute(r,m),c.fromBufferAttribute(r,g),u.fromBufferAttribute(r,p),s.add(l),c.add(l),u.add(l),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(g,c.x,c.y,c.z),r.setXYZ(p,u.x,u.y,u.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),a.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),l.subVectors(o,a),f.subVectors(i,a),l.cross(f),r.setXYZ(d+0,l.x,l.y,l.z),r.setXYZ(d+1,l.x,l.y,l.z),r.setXYZ(d+2,l.x,l.y,l.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let n=0,r=t.count;n<r;n++)sn.fromBufferAttribute(t,n),sn.normalize(),t.setXYZ(n,sn.x,sn.y,sn.z)}toNonIndexed(){function t(s,c){const u=s.array,l=s.itemSize,f=s.normalized,d=new u.constructor(c.length*l);let h=0,m=0;for(let g=0,p=c.length;g<p;g++){s.isInterleavedBufferAttribute?h=c[g]*s.data.stride+s.offset:h=c[g]*l;for(let v=0;v<l;v++)d[m++]=u[h++]}return new jr(d,l,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Sa,r=this.index.array,i=this.attributes;for(const s in i){const c=i[s],u=t(c,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const c=[],u=a[s];for(let l=0,f=u.length;l<f;l++){const d=u[l],h=t(d,r);c.push(h)}n.morphAttributes[s]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,c=o.length;s<c;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(t[u]=c[u]);return t}t.data={attributes:{}};const n=this.index;n!==null&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];t.data.attributes[c]=u.toJSON(t.data)}const i={};let a=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],l=[];for(let f=0,d=u.length;f<d;f++){const h=u[f];l.push(h.toJSON(t.data))}l.length>0&&(i[c]=l,a=!0)}a&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(n));const i=t.attributes;for(const u in i){const l=i[u];this.setAttribute(u,l.clone(n))}const a=t.morphAttributes;for(const u in a){const l=[],f=a[u];for(let d=0,h=f.length;d<h;d++)l.push(f[d].clone(n));this.morphAttributes[u]=l}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,l=o.length;u<l;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=t.boundingBox;s!==null&&(this.boundingBox=s.clone());const c=t.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const P4=new At,To=new WV,Dh=new UA,C4=new W,Lh=new W,Nh=new W,Uh=new W,ab=new W,Fh=new W,R4=new W,kh=new W;class Vr extends vn{constructor(t=new Sa,n=new kA){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(t,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,t);const s=this.morphTargetInfluences;if(a&&s){Fh.set(0,0,0);for(let c=0,u=a.length;c<u;c++){const l=s[c],f=a[c];l!==0&&(ab.fromBufferAttribute(f,t),o?Fh.addScaledVector(ab,l):Fh.addScaledVector(ab.sub(n),l))}n.add(Fh)}return n}raycast(t,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Dh.copy(r.boundingSphere),Dh.applyMatrix4(a),To.copy(t.ray).recast(t.near),!(Dh.containsPoint(To.origin)===!1&&(To.intersectSphere(Dh,C4)===null||To.origin.distanceToSquared(C4)>(t.far-t.near)**2))&&(P4.copy(a).invert(),To.copy(t.ray).applyMatrix4(P4),!(r.boundingBox!==null&&To.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(t,n,To)))}_computeIntersections(t,n,r){let i;const a=this.geometry,o=this.material,s=a.index,c=a.attributes.position,u=a.attributes.uv,l=a.attributes.uv1,f=a.attributes.normal,d=a.groups,h=a.drawRange;if(s!==null)if(Array.isArray(o))for(let m=0,g=d.length;m<g;m++){const p=d[m],v=o[p.materialIndex],y=Math.max(p.start,h.start),_=Math.min(s.count,Math.min(p.start+p.count,h.start+h.count));for(let S=y,O=_;S<O;S+=3){const M=s.getX(S),P=s.getX(S+1),D=s.getX(S+2);i=Bh(this,v,t,r,u,l,f,M,P,D),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=p.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),g=Math.min(s.count,h.start+h.count);for(let p=m,v=g;p<v;p+=3){const y=s.getX(p),_=s.getX(p+1),S=s.getX(p+2);i=Bh(this,o,t,r,u,l,f,y,_,S),i&&(i.faceIndex=Math.floor(p/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let m=0,g=d.length;m<g;m++){const p=d[m],v=o[p.materialIndex],y=Math.max(p.start,h.start),_=Math.min(c.count,Math.min(p.start+p.count,h.start+h.count));for(let S=y,O=_;S<O;S+=3){const M=S,P=S+1,D=S+2;i=Bh(this,v,t,r,u,l,f,M,P,D),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=p.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),g=Math.min(c.count,h.start+h.count);for(let p=m,v=g;p<v;p+=3){const y=p,_=p+1,S=p+2;i=Bh(this,o,t,r,u,l,f,y,_,S),i&&(i.faceIndex=Math.floor(p/3),n.push(i))}}}}function NJe(e,t,n,r,i,a,o,s){let c;if(t.side===Vn?c=r.intersectTriangle(o,a,i,!0,s):c=r.intersectTriangle(i,a,o,t.side===wi,s),c===null)return null;kh.copy(s),kh.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(kh);return u<n.near||u>n.far?null:{distance:u,point:kh.clone(),object:e}}function Bh(e,t,n,r,i,a,o,s,c,u){e.getVertexPosition(s,Lh),e.getVertexPosition(c,Nh),e.getVertexPosition(u,Uh);const l=NJe(e,t,n,r,Lh,Nh,Uh,R4);if(l){const f=new W;pr.getBarycoord(R4,Lh,Nh,Uh,f),i&&(l.uv=pr.getInterpolatedAttribute(i,s,c,u,f,new tt)),a&&(l.uv1=pr.getInterpolatedAttribute(a,s,c,u,f,new tt)),o&&(l.normal=pr.getInterpolatedAttribute(o,s,c,u,f,new W),l.normal.dot(r.direction)>0&&l.normal.multiplyScalar(-1));const d={a:s,b:c,c:u,normal:new W,materialIndex:0};pr.getNormal(Lh,Nh,Uh,d.normal),l.face=d,l.barycoord=f}return l}class Qf extends Sa{constructor(t=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const c=[],u=[],l=[],f=[];let d=0,h=0;m("z","y","x",-1,-1,r,n,t,o,a,0),m("z","y","x",1,-1,r,n,-t,o,a,1),m("x","z","y",1,1,t,r,n,i,o,2),m("x","z","y",1,-1,t,r,-n,i,o,3),m("x","y","z",1,-1,t,n,r,i,a,4),m("x","y","z",-1,-1,t,n,-r,i,a,5),this.setIndex(c),this.setAttribute("position",new mi(u,3)),this.setAttribute("normal",new mi(l,3)),this.setAttribute("uv",new mi(f,2));function m(g,p,v,y,_,S,O,M,P,D,X){const $=S/P,b=O/D,I=S/2,T=O/2,E=M/2,A=P+1,x=D+1;let N=0,R=0;const F=new W;for(let k=0;k<x;k++){const ee=k*b-T;for(let de=0;de<A;de++){const ge=de*$-I;F[g]=ge*y,F[p]=ee*_,F[v]=E,u.push(F.x,F.y,F.z),F[g]=0,F[p]=0,F[v]=M>0?1:-1,l.push(F.x,F.y,F.z),f.push(de/P),f.push(1-k/D),N+=1}}for(let k=0;k<D;k++)for(let ee=0;ee<P;ee++){const de=d+ee+A*k,ge=d+ee+A*(k+1),j=d+(ee+1)+A*(k+1),Z=d+(ee+1)+A*k;c.push(de,ge,Z),c.push(ge,j,Z),R+=6}s.addGroup(h,R,X),h+=R,d+=N}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Qf(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function cu(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Rn(e){const t={};for(let n=0;n<e.length;n++){const r=cu(e[n]);for(const i in r)t[i]=r[i]}return t}function UJe(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function KV(e){const t=e.getRenderTarget();return t===null?e.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:dt.workingColorSpace}const FJe={clone:cu,merge:Rn};var kJe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,BJe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class da extends Jf{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kJe,this.fragmentShader=BJe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=cu(t.uniforms),this.uniformsGroups=UJe(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const n=super.toJSON(t);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class ZV extends vn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Zi}copy(t,n){return super.copy(t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,n){super.updateWorldMatrix(t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Oa=new W,I4=new tt,O4=new tt;class hr extends ZV{constructor(t=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const n=.5*this.getFilmHeight()/t;this.fov=Iw*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(F1*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Iw*2*Math.atan(Math.tan(F1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,n,r){Oa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Oa.x,Oa.y).multiplyScalar(-t/Oa.z),Oa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Oa.x,Oa.y).multiplyScalar(-t/Oa.z)}getViewSize(t,n){return this.getViewBounds(t,I4,O4),n.subVectors(O4,I4)}setViewOffset(t,n,r,i,a,o){this.aspect=t/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let n=t*Math.tan(F1*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/c,n-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fc=-90,dc=1;class zJe extends vn{constructor(t,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new hr(fc,dc,t,n);i.layers=this.layers,this.add(i);const a=new hr(fc,dc,t,n);a.layers=this.layers,this.add(a);const o=new hr(fc,dc,t,n);o.layers=this.layers,this.add(o);const s=new hr(fc,dc,t,n);s.layers=this.layers,this.add(s);const c=new hr(fc,dc,t,n);c.layers=this.layers,this.add(c);const u=new hr(fc,dc,t,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const t=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,c]=n;for(const u of n)this.remove(u);if(t===Zi)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(t===Fv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const u of n)this.add(u),u.updateMatrixWorld()}update(t,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,c,u,l]=this.children,f=t.getRenderTarget(),d=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),m=t.xr.enabled;t.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0,i),t.render(n,a),t.setRenderTarget(r,1,i),t.render(n,o),t.setRenderTarget(r,2,i),t.render(n,s),t.setRenderTarget(r,3,i),t.render(n,c),t.setRenderTarget(r,4,i),t.render(n,u),r.texture.generateMipmaps=g,t.setRenderTarget(r,5,i),t.render(n,l),t.setRenderTarget(f,d,h),t.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class JV extends In{constructor(t,n,r,i,a,o,s,c,u,l){t=t!==void 0?t:[],n=n!==void 0?n:iu,super(t,n,r,i,a,o,s,c,u,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class HJe extends hs{constructor(t=1,n={}){super(t,t,n),this.isWebGLCubeRenderTarget=!0;const r={width:t,height:t,depth:1},i=[r,r,r,r,r,r];this.texture=new JV(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tr}fromEquirectangularTexture(t,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Qf(5,5,5),a=new da({name:"CubemapFromEquirect",uniforms:cu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Vn,blending:za});a.uniforms.tEquirect.value=n;const o=new Vr(i,a),s=n.minFilter;return n.minFilter===Go&&(n.minFilter=tr),new zJe(1,10,this).update(t,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(t,n,r,i){const a=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(n,r,i);t.setRenderTarget(a)}}const ob=new W,GJe=new W,VJe=new Qe;class Do{constructor(t=new W(1,0,0),n=0){this.isPlane=!0,this.normal=t,this.constant=n}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,r,i){return this.normal.set(t,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,r){const i=ob.subVectors(r,n).cross(GJe.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,n){const r=t.delta(ob),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):null;const a=-(t.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(t.start).addScaledVector(r,a)}intersectsLine(t){const n=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return n<0&&r>0||r<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const r=n||VJe.getNormalMatrix(t),i=this.coplanarPoint(ob).applyMatrix4(t),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mo=new UA,zh=new W;class BA{constructor(t=new Do,n=new Do,r=new Do,i=new Do,a=new Do,o=new Do){this.planes=[t,n,r,i,a,o]}set(t,n,r,i,a,o){const s=this.planes;return s[0].copy(t),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(t){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t,n=Zi){const r=this.planes,i=t.elements,a=i[0],o=i[1],s=i[2],c=i[3],u=i[4],l=i[5],f=i[6],d=i[7],h=i[8],m=i[9],g=i[10],p=i[11],v=i[12],y=i[13],_=i[14],S=i[15];if(r[0].setComponents(c-a,d-u,p-h,S-v).normalize(),r[1].setComponents(c+a,d+u,p+h,S+v).normalize(),r[2].setComponents(c+o,d+l,p+m,S+y).normalize(),r[3].setComponents(c-o,d-l,p-m,S-y).normalize(),r[4].setComponents(c-s,d-f,p-g,S-_).normalize(),n===Zi)r[5].setComponents(c+s,d+f,p+g,S+_).normalize();else if(n===Fv)r[5].setComponents(s,f,g,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Mo.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const n=t.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Mo.copy(n.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Mo)}intersectsSprite(t){return Mo.center.set(0,0,0),Mo.radius=.7071067811865476,Mo.applyMatrix4(t.matrixWorld),this.intersectsSphere(Mo)}intersectsSphere(t){const n=this.planes,r=t.center,i=-t.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(t){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(zh.x=i.normal.x>0?t.max.x:t.min.x,zh.y=i.normal.y>0?t.max.y:t.min.y,zh.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(zh)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function QV(){let e=null,t=!1,n=null,r=null;function i(a,o){n(a,o),r=e.requestAnimationFrame(i)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(a){n=a},setContext:function(a){e=a}}}function jJe(e){const t=new WeakMap;function n(s,c){const u=s.array,l=s.usage,f=u.byteLength,d=e.createBuffer();e.bindBuffer(c,d),e.bufferData(c,u,l),s.onUploadCallback();let h;if(u instanceof Float32Array)h=e.FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?h=e.HALF_FLOAT:h=e.UNSIGNED_SHORT;else if(u instanceof Int16Array)h=e.SHORT;else if(u instanceof Uint32Array)h=e.UNSIGNED_INT;else if(u instanceof Int32Array)h=e.INT;else if(u instanceof Int8Array)h=e.BYTE;else if(u instanceof Uint8Array)h=e.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)h=e.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:d,type:h,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,c,u){const l=c.array,f=c.updateRanges;if(e.bindBuffer(u,s),f.length===0)e.bufferSubData(u,0,l);else{f.sort((h,m)=>h.start-m.start);let d=0;for(let h=1;h<f.length;h++){const m=f[d],g=f[h];g.start<=m.start+m.count+1?m.count=Math.max(m.count,g.start+g.count-m.start):(++d,f[d]=g)}f.length=d+1;for(let h=0,m=f.length;h<m;h++){const g=f[h];e.bufferSubData(u,g.start*l.BYTES_PER_ELEMENT,l,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),t.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const c=t.get(s);c&&(e.deleteBuffer(c.buffer),t.delete(s))}function o(s,c){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const l=t.get(s);(!l||l.version<s.version)&&t.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=t.get(s);if(u===void 0)t.set(s,n(s,c));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,c),u.version=s.version}}return{get:i,remove:a,update:o}}class U_ extends Sa{constructor(t=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:r,heightSegments:i};const a=t/2,o=n/2,s=Math.floor(r),c=Math.floor(i),u=s+1,l=c+1,f=t/s,d=n/c,h=[],m=[],g=[],p=[];for(let v=0;v<l;v++){const y=v*d-o;for(let _=0;_<u;_++){const S=_*f-a;m.push(S,-y,0),g.push(0,0,1),p.push(_/s),p.push(1-v/c)}}for(let v=0;v<c;v++)for(let y=0;y<s;y++){const _=y+u*v,S=y+u*(v+1),O=y+1+u*(v+1),M=y+1+u*v;h.push(_,S,M),h.push(S,O,M)}this.setIndex(h),this.setAttribute("position",new mi(m,3)),this.setAttribute("normal",new mi(g,3)),this.setAttribute("uv",new mi(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new U_(t.width,t.height,t.widthSegments,t.heightSegments)}}var WJe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,XJe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,YJe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qJe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KJe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ZJe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,JJe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QJe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,eQe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,tQe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,nQe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,rQe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iQe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,aQe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,oQe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sQe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,cQe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uQe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,lQe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fQe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dQe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,hQe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,pQe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,vQe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,mQe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gQe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_Qe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yQe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$Qe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bQe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SQe="gl_FragColor = linearToOutputTexel( gl_FragColor );",xQe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wQe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,EQe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TQe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,MQe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AQe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,PQe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,CQe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,RQe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IQe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,OQe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,DQe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,LQe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,NQe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,UQe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,FQe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,kQe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,BQe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zQe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,HQe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,GQe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,VQe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jQe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WQe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XQe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,YQe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,qQe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KQe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZQe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,JQe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,QQe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eet=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tet=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,net=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ret=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iet=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,aet=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,oet=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,set=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,cet=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,uet=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,fet=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,det=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,het=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pet=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,vet=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,met=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,get=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,_et=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,yet=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$et=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bet=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,xet=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wet=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Eet=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Tet=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Met=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Aet=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Pet=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Cet=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ret=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Iet=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Oet=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Det=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Let=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Net=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Uet=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Fet=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ket=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Bet=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zet=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Het=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Get=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Vet=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jet=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Wet=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Xet=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Yet=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qet=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ket=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zet=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jet=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qet=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ett=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ttt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ntt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rtt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,itt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,att=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ott=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,stt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ctt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,utt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ltt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ftt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dtt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,htt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ptt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vtt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mtt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gtt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_tt=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ytt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$tt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,btt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Stt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xtt=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wtt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ett=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ttt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Je={alphahash_fragment:WJe,alphahash_pars_fragment:XJe,alphamap_fragment:YJe,alphamap_pars_fragment:qJe,alphatest_fragment:KJe,alphatest_pars_fragment:ZJe,aomap_fragment:JJe,aomap_pars_fragment:QJe,batching_pars_vertex:eQe,batching_vertex:tQe,begin_vertex:nQe,beginnormal_vertex:rQe,bsdfs:iQe,iridescence_fragment:aQe,bumpmap_pars_fragment:oQe,clipping_planes_fragment:sQe,clipping_planes_pars_fragment:cQe,clipping_planes_pars_vertex:uQe,clipping_planes_vertex:lQe,color_fragment:fQe,color_pars_fragment:dQe,color_pars_vertex:hQe,color_vertex:pQe,common:vQe,cube_uv_reflection_fragment:mQe,defaultnormal_vertex:gQe,displacementmap_pars_vertex:_Qe,displacementmap_vertex:yQe,emissivemap_fragment:$Qe,emissivemap_pars_fragment:bQe,colorspace_fragment:SQe,colorspace_pars_fragment:xQe,envmap_fragment:wQe,envmap_common_pars_fragment:EQe,envmap_pars_fragment:TQe,envmap_pars_vertex:MQe,envmap_physical_pars_fragment:FQe,envmap_vertex:AQe,fog_vertex:PQe,fog_pars_vertex:CQe,fog_fragment:RQe,fog_pars_fragment:IQe,gradientmap_pars_fragment:OQe,lightmap_pars_fragment:DQe,lights_lambert_fragment:LQe,lights_lambert_pars_fragment:NQe,lights_pars_begin:UQe,lights_toon_fragment:kQe,lights_toon_pars_fragment:BQe,lights_phong_fragment:zQe,lights_phong_pars_fragment:HQe,lights_physical_fragment:GQe,lights_physical_pars_fragment:VQe,lights_fragment_begin:jQe,lights_fragment_maps:WQe,lights_fragment_end:XQe,logdepthbuf_fragment:YQe,logdepthbuf_pars_fragment:qQe,logdepthbuf_pars_vertex:KQe,logdepthbuf_vertex:ZQe,map_fragment:JQe,map_pars_fragment:QQe,map_particle_fragment:eet,map_particle_pars_fragment:tet,metalnessmap_fragment:net,metalnessmap_pars_fragment:ret,morphinstance_vertex:iet,morphcolor_vertex:aet,morphnormal_vertex:oet,morphtarget_pars_vertex:set,morphtarget_vertex:cet,normal_fragment_begin:uet,normal_fragment_maps:fet,normal_pars_fragment:det,normal_pars_vertex:het,normal_vertex:pet,normalmap_pars_fragment:vet,clearcoat_normal_fragment_begin:met,clearcoat_normal_fragment_maps:get,clearcoat_pars_fragment:_et,iridescence_pars_fragment:yet,opaque_fragment:$et,packing:bet,premultiplied_alpha_fragment:xet,project_vertex:wet,dithering_fragment:Eet,dithering_pars_fragment:Tet,roughnessmap_fragment:Met,roughnessmap_pars_fragment:Aet,shadowmap_pars_fragment:Pet,shadowmap_pars_vertex:Cet,shadowmap_vertex:Ret,shadowmask_pars_fragment:Iet,skinbase_vertex:Oet,skinning_pars_vertex:Det,skinning_vertex:Let,skinnormal_vertex:Net,specularmap_fragment:Uet,specularmap_pars_fragment:Fet,tonemapping_fragment:ket,tonemapping_pars_fragment:Bet,transmission_fragment:zet,transmission_pars_fragment:Het,uv_pars_fragment:Get,uv_pars_vertex:Vet,uv_vertex:jet,worldpos_vertex:Wet,background_vert:Xet,background_frag:Yet,backgroundCube_vert:qet,backgroundCube_frag:Ket,cube_vert:Zet,cube_frag:Jet,depth_vert:Qet,depth_frag:ett,distanceRGBA_vert:ttt,distanceRGBA_frag:ntt,equirect_vert:rtt,equirect_frag:itt,linedashed_vert:att,linedashed_frag:ott,meshbasic_vert:stt,meshbasic_frag:ctt,meshlambert_vert:utt,meshlambert_frag:ltt,meshmatcap_vert:ftt,meshmatcap_frag:dtt,meshnormal_vert:htt,meshnormal_frag:ptt,meshphong_vert:vtt,meshphong_frag:mtt,meshphysical_vert:gtt,meshphysical_frag:_tt,meshtoon_vert:ytt,meshtoon_frag:$tt,points_vert:btt,points_frag:Stt,shadow_vert:xtt,shadow_frag:wtt,sprite_vert:Ett,sprite_frag:Ttt},Ee={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qe},alphaMap:{value:null},alphaMapTransform:{value:new Qe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qe}},envmap:{envMap:{value:null},envMapRotation:{value:new Qe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qe},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qe},alphaTest:{value:0},uvTransform:{value:new Qe}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qe},alphaMap:{value:null},alphaMapTransform:{value:new Qe},alphaTest:{value:0}}},si={basic:{uniforms:Rn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.fog]),vertexShader:Je.meshbasic_vert,fragmentShader:Je.meshbasic_frag},lambert:{uniforms:Rn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new ut(0)}}]),vertexShader:Je.meshlambert_vert,fragmentShader:Je.meshlambert_frag},phong:{uniforms:Rn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:Je.meshphong_vert,fragmentShader:Je.meshphong_frag},standard:{uniforms:Rn([Ee.common,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.roughnessmap,Ee.metalnessmap,Ee.fog,Ee.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag},toon:{uniforms:Rn([Ee.common,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.gradientmap,Ee.fog,Ee.lights,{emissive:{value:new ut(0)}}]),vertexShader:Je.meshtoon_vert,fragmentShader:Je.meshtoon_frag},matcap:{uniforms:Rn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,{matcap:{value:null}}]),vertexShader:Je.meshmatcap_vert,fragmentShader:Je.meshmatcap_frag},points:{uniforms:Rn([Ee.points,Ee.fog]),vertexShader:Je.points_vert,fragmentShader:Je.points_frag},dashed:{uniforms:Rn([Ee.common,Ee.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Je.linedashed_vert,fragmentShader:Je.linedashed_frag},depth:{uniforms:Rn([Ee.common,Ee.displacementmap]),vertexShader:Je.depth_vert,fragmentShader:Je.depth_frag},normal:{uniforms:Rn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,{opacity:{value:1}}]),vertexShader:Je.meshnormal_vert,fragmentShader:Je.meshnormal_frag},sprite:{uniforms:Rn([Ee.sprite,Ee.fog]),vertexShader:Je.sprite_vert,fragmentShader:Je.sprite_frag},background:{uniforms:{uvTransform:{value:new Qe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Je.background_vert,fragmentShader:Je.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qe}},vertexShader:Je.backgroundCube_vert,fragmentShader:Je.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Je.cube_vert,fragmentShader:Je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Je.equirect_vert,fragmentShader:Je.equirect_frag},distanceRGBA:{uniforms:Rn([Ee.common,Ee.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Je.distanceRGBA_vert,fragmentShader:Je.distanceRGBA_frag},shadow:{uniforms:Rn([Ee.lights,Ee.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:Je.shadow_vert,fragmentShader:Je.shadow_frag}};si.physical={uniforms:Rn([si.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qe},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qe},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qe},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qe},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qe},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qe}}]),vertexShader:Je.meshphysical_vert,fragmentShader:Je.meshphysical_frag};const Hh={r:0,b:0,g:0},Ao=new Ei,Mtt=new At;function Att(e,t,n,r,i,a,o){const s=new ut(0);let c=a===!0?0:1,u,l,f=null,d=0,h=null;function m(y){let _=y.isScene===!0?y.background:null;return _&&_.isTexture&&(_=(y.backgroundBlurriness>0?n:t).get(_)),_}function g(y){let _=!1;const S=m(y);S===null?v(s,c):S&&S.isColor&&(v(S,1),_=!0);const O=e.xr.getEnvironmentBlendMode();O==="additive"?r.buffers.color.setClear(0,0,0,1,o):O==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))}function p(y,_){const S=m(_);S&&(S.isCubeTexture||S.mapping===L_)?(l===void 0&&(l=new Vr(new Qf(1,1,1),new da({name:"BackgroundCubeMaterial",uniforms:cu(si.backgroundCube.uniforms),vertexShader:si.backgroundCube.vertexShader,fragmentShader:si.backgroundCube.fragmentShader,side:Vn,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(O,M,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),Ao.copy(_.backgroundRotation),Ao.x*=-1,Ao.y*=-1,Ao.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Ao.y*=-1,Ao.z*=-1),l.material.uniforms.envMap.value=S,l.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,l.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(Mtt.makeRotationFromEuler(Ao)),l.material.toneMapped=dt.getTransfer(S.colorSpace)!==xt,(f!==S||d!==S.version||h!==e.toneMapping)&&(l.material.needsUpdate=!0,f=S,d=S.version,h=e.toneMapping),l.layers.enableAll(),y.unshift(l,l.geometry,l.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Vr(new U_(2,2),new da({name:"BackgroundMaterial",uniforms:cu(si.background.uniforms),vertexShader:si.background.vertexShader,fragmentShader:si.background.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=dt.getTransfer(S.colorSpace)!==xt,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||d!==S.version||h!==e.toneMapping)&&(u.material.needsUpdate=!0,f=S,d=S.version,h=e.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,_){y.getRGB(Hh,KV(e)),r.buffers.color.setClear(Hh.r,Hh.g,Hh.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(y,_=1){s.set(y),c=_,v(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(y){c=y,v(s,c)},render:g,addToRenderList:p}}function Ptt(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,o=!1;function s($,b,I,T,E){let A=!1;const x=f(T,I,b);a!==x&&(a=x,u(a.object)),A=h($,T,I,E),A&&m($,T,I,E),E!==null&&t.update(E,e.ELEMENT_ARRAY_BUFFER),(A||o)&&(o=!1,S($,b,I,T),E!==null&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(E).buffer))}function c(){return e.createVertexArray()}function u($){return e.bindVertexArray($)}function l($){return e.deleteVertexArray($)}function f($,b,I){const T=I.wireframe===!0;let E=r[$.id];E===void 0&&(E={},r[$.id]=E);let A=E[b.id];A===void 0&&(A={},E[b.id]=A);let x=A[T];return x===void 0&&(x=d(c()),A[T]=x),x}function d($){const b=[],I=[],T=[];for(let E=0;E<n;E++)b[E]=0,I[E]=0,T[E]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:b,enabledAttributes:I,attributeDivisors:T,object:$,attributes:{},index:null}}function h($,b,I,T){const E=a.attributes,A=b.attributes;let x=0;const N=I.getAttributes();for(const R in N)if(N[R].location>=0){const k=E[R];let ee=A[R];if(ee===void 0&&(R==="instanceMatrix"&&$.instanceMatrix&&(ee=$.instanceMatrix),R==="instanceColor"&&$.instanceColor&&(ee=$.instanceColor)),k===void 0||k.attribute!==ee||ee&&k.data!==ee.data)return!0;x++}return a.attributesNum!==x||a.index!==T}function m($,b,I,T){const E={},A=b.attributes;let x=0;const N=I.getAttributes();for(const R in N)if(N[R].location>=0){let k=A[R];k===void 0&&(R==="instanceMatrix"&&$.instanceMatrix&&(k=$.instanceMatrix),R==="instanceColor"&&$.instanceColor&&(k=$.instanceColor));const ee={};ee.attribute=k,k&&k.data&&(ee.data=k.data),E[R]=ee,x++}a.attributes=E,a.attributesNum=x,a.index=T}function g(){const $=a.newAttributes;for(let b=0,I=$.length;b<I;b++)$[b]=0}function p($){v($,0)}function v($,b){const I=a.newAttributes,T=a.enabledAttributes,E=a.attributeDivisors;I[$]=1,T[$]===0&&(e.enableVertexAttribArray($),T[$]=1),E[$]!==b&&(e.vertexAttribDivisor($,b),E[$]=b)}function y(){const $=a.newAttributes,b=a.enabledAttributes;for(let I=0,T=b.length;I<T;I++)b[I]!==$[I]&&(e.disableVertexAttribArray(I),b[I]=0)}function _($,b,I,T,E,A,x){x===!0?e.vertexAttribIPointer($,b,I,E,A):e.vertexAttribPointer($,b,I,T,E,A)}function S($,b,I,T){g();const E=T.attributes,A=I.getAttributes(),x=b.defaultAttributeValues;for(const N in A){const R=A[N];if(R.location>=0){let F=E[N];if(F===void 0&&(N==="instanceMatrix"&&$.instanceMatrix&&(F=$.instanceMatrix),N==="instanceColor"&&$.instanceColor&&(F=$.instanceColor)),F!==void 0){const k=F.normalized,ee=F.itemSize,de=t.get(F);if(de===void 0)continue;const ge=de.buffer,j=de.type,Z=de.bytesPerElement,_e=j===e.INT||j===e.UNSIGNED_INT||F.gpuType===CA;if(F.isInterleavedBufferAttribute){const he=F.data,we=he.stride,Q=F.offset;if(he.isInstancedInterleavedBuffer){for(let se=0;se<R.locationSize;se++)v(R.location+se,he.meshPerAttribute);$.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let se=0;se<R.locationSize;se++)p(R.location+se);e.bindBuffer(e.ARRAY_BUFFER,ge);for(let se=0;se<R.locationSize;se++)_(R.location+se,ee/R.locationSize,j,k,we*Z,(Q+ee/R.locationSize*se)*Z,_e)}else{if(F.isInstancedBufferAttribute){for(let he=0;he<R.locationSize;he++)v(R.location+he,F.meshPerAttribute);$.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=F.meshPerAttribute*F.count)}else for(let he=0;he<R.locationSize;he++)p(R.location+he);e.bindBuffer(e.ARRAY_BUFFER,ge);for(let he=0;he<R.locationSize;he++)_(R.location+he,ee/R.locationSize,j,k,ee*Z,ee/R.locationSize*he*Z,_e)}}else if(x!==void 0){const k=x[N];if(k!==void 0)switch(k.length){case 2:e.vertexAttrib2fv(R.location,k);break;case 3:e.vertexAttrib3fv(R.location,k);break;case 4:e.vertexAttrib4fv(R.location,k);break;default:e.vertexAttrib1fv(R.location,k)}}}}y()}function O(){D();for(const $ in r){const b=r[$];for(const I in b){const T=b[I];for(const E in T)l(T[E].object),delete T[E];delete b[I]}delete r[$]}}function M($){if(r[$.id]===void 0)return;const b=r[$.id];for(const I in b){const T=b[I];for(const E in T)l(T[E].object),delete T[E];delete b[I]}delete r[$.id]}function P($){for(const b in r){const I=r[b];if(I[$.id]===void 0)continue;const T=I[$.id];for(const E in T)l(T[E].object),delete T[E];delete I[$.id]}}function D(){X(),o=!0,a!==i&&(a=i,u(a.object))}function X(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:D,resetDefaultState:X,dispose:O,releaseStatesOfGeometry:M,releaseStatesOfProgram:P,initAttributes:g,enableAttribute:p,disableUnusedAttributes:y}}function Ctt(e,t,n){let r;function i(u){r=u}function a(u,l){e.drawArrays(r,u,l),n.update(l,r,1)}function o(u,l,f){f!==0&&(e.drawArraysInstanced(r,u,l,f),n.update(l,r,f))}function s(u,l,f){if(f===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,l,0,f);let h=0;for(let m=0;m<f;m++)h+=l[m];n.update(h,r,1)}function c(u,l,f,d){if(f===0)return;const h=t.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<u.length;m++)o(u[m],l[m],d[m]);else{h.multiDrawArraysInstancedWEBGL(r,u,0,l,0,d,0,f);let m=0;for(let g=0;g<f;g++)m+=l[g];for(let g=0;g<d.length;g++)n.update(m,r,d[g])}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=c}function Rtt(e,t,n,r){let i;function a(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){const P=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(P){return!(P!==Gr&&r.convert(P)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const D=P===Kf&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(P!==fa&&r.convert(P)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Ki&&!D)}function c(P){if(P==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const l=c(u);l!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",l,"instead."),u=l);const f=n.logarithmicDepthBuffer===!0,d=n.reverseDepthBuffer===!0&&t.has("EXT_clip_control");if(d===!0){const P=t.get("EXT_clip_control");P.clipControlEXT(P.LOWER_LEFT_EXT,P.ZERO_TO_ONE_EXT)}const h=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),m=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),v=e.getParameter(e.MAX_VERTEX_ATTRIBS),y=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),_=e.getParameter(e.MAX_VARYING_VECTORS),S=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),O=m>0,M=e.getParameter(e.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:d,maxTextures:h,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:p,maxAttributes:v,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:O,maxSamples:M}}function Itt(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new Do,s=new Qe,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,d){n=l(f,d,0)},this.setState=function(f,d,h){const m=f.clippingPlanes,g=f.clipIntersection,p=f.clipShadows,v=e.get(f);if(!i||m===null||m.length===0||a&&!p)a?l(null):u();else{const y=a?0:r,_=y*4;let S=v.clippingState||null;c.value=S,S=l(m,d,_,h);for(let O=0;O!==_;++O)S[O]=n[O];v.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function l(f,d,h,m){const g=f!==null?f.length:0;let p=null;if(g!==0){if(p=c.value,m!==!0||p===null){const v=h+g*4,y=d.matrixWorldInverse;s.getNormalMatrix(y),(p===null||p.length<v)&&(p=new Float32Array(v));for(let _=0,S=h;_!==g;++_,S+=4)o.copy(f[_]).applyMatrix4(y,s),o.normal.toArray(p,S),p[S+3]=o.constant}c.value=p,c.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,p}}function Ott(e){let t=new WeakMap;function n(o,s){return s===nw?o.mapping=iu:s===rw&&(o.mapping=au),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===nw||s===rw)if(t.has(o)){const c=t.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new HJe(c.height);return u.fromEquirectangularTexture(e,o),t.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const c=t.get(s);c!==void 0&&(t.delete(s),c.dispose())}function a(){t=new WeakMap}return{get:r,dispose:a}}class ej extends ZV{constructor(t=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-t,o=r+t,s=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=l*this.view.offsetY,c=s-l*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ic=4,D4=[.125,.215,.35,.446,.526,.582],zo=20,sb=new ej,L4=new ut;let cb=null,ub=0,lb=0,fb=!1;const Lo=(1+Math.sqrt(5))/2,hc=1/Lo,N4=[new W(-Lo,hc,0),new W(Lo,hc,0),new W(-hc,0,Lo),new W(hc,0,Lo),new W(0,Lo,-hc),new W(0,Lo,hc),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class U4{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,r=.1,i=100){cb=this._renderer.getRenderTarget(),ub=this._renderer.getActiveCubeFace(),lb=this._renderer.getActiveMipmapLevel(),fb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(t,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(t,n=null){return this._fromTexture(t,n)}fromCubemap(t,n=null){return this._fromTexture(t,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=B4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=k4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(cb,ub,lb),this._renderer.xr.enabled=fb,t.scissorTest=!1,Gh(t,0,0,t.width,t.height)}_fromTexture(t,n){t.mapping===iu||t.mapping===au?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),cb=this._renderer.getRenderTarget(),ub=this._renderer.getActiveCubeFace(),lb=this._renderer.getActiveMipmapLevel(),fb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:Kf,format:Gr,colorSpace:_o,depthBuffer:!1},i=F4(t,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=F4(t,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Dtt(a)),this._blurMaterial=Ltt(a,t,n)}return i}_compileMaterial(t){const n=new Vr(this._lodPlanes[0],t);this._renderer.compile(n,sb)}_sceneToCubeUV(t,n,r,i){const s=new hr(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],l=this._renderer,f=l.autoClear,d=l.toneMapping;l.getClearColor(L4),l.toneMapping=Ha,l.autoClear=!1;const h=new kA({name:"PMREM.Background",side:Vn,depthWrite:!1,depthTest:!1}),m=new Vr(new Qf,h);let g=!1;const p=t.background;p?p.isColor&&(h.color.copy(p),t.background=null,g=!0):(h.color.copy(L4),g=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(s.up.set(0,c[v],0),s.lookAt(u[v],0,0)):y===1?(s.up.set(0,0,c[v]),s.lookAt(0,u[v],0)):(s.up.set(0,c[v],0),s.lookAt(0,0,u[v]));const _=this._cubeSize;Gh(i,y*_,v>2?_:0,_,_),l.setRenderTarget(i),g&&l.render(m,s),l.render(t,s)}m.geometry.dispose(),m.material.dispose(),l.toneMapping=d,l.autoClear=f,t.background=p}_textureToCubeUV(t,n){const r=this._renderer,i=t.mapping===iu||t.mapping===au;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=B4()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=k4());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Vr(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=t;const c=this._cubeSize;Gh(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(o,sb)}_applyPMREM(t){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=N4[(i-a-1)%N4.length];this._blur(t,a-1,a,o,s)}n.autoClear=r}_blur(t,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(t,o,n,r,i,"latitudinal",a),this._halfBlur(o,t,r,r,i,"longitudinal",a)}_halfBlur(t,n,r,i,a,o,s){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const l=3,f=new Vr(this._lodPlanes[i],u),d=u.uniforms,h=this._sizeLods[r]-1,m=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*zo-1),g=a/m,p=isFinite(a)?1+Math.floor(l*g):zo;p>zo&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${zo}`);const v=[];let y=0;for(let P=0;P<zo;++P){const D=P/g,X=Math.exp(-D*D/2);v.push(X),P===0?y+=X:P<p&&(y+=2*X)}for(let P=0;P<v.length;P++)v[P]=v[P]/y;d.envMap.value=t.texture,d.samples.value=p,d.weights.value=v,d.latitudinal.value=o==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:_}=this;d.dTheta.value=m,d.mipInt.value=_-r;const S=this._sizeLods[i],O=3*S*(i>_-Ic?i-_+Ic:0),M=4*(this._cubeSize-S);Gh(n,O,M,3*S,2*S),c.setRenderTarget(n),c.render(f,sb)}}function Dtt(e){const t=[],n=[],r=[];let i=e;const a=e-Ic+1+D4.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);n.push(s);let c=1/s;o>e-Ic?c=D4[o-e+Ic-1]:o===0&&(c=0),r.push(c);const u=1/(s-2),l=-u,f=1+u,d=[l,l,f,l,f,f,l,l,f,f,l,f],h=6,m=6,g=3,p=2,v=1,y=new Float32Array(g*m*h),_=new Float32Array(p*m*h),S=new Float32Array(v*m*h);for(let M=0;M<h;M++){const P=M%3*2/3-1,D=M>2?0:-1,X=[P,D,0,P+2/3,D,0,P+2/3,D+1,0,P,D,0,P+2/3,D+1,0,P,D+1,0];y.set(X,g*m*M),_.set(d,p*m*M);const $=[M,M,M,M,M,M];S.set($,v*m*M)}const O=new Sa;O.setAttribute("position",new jr(y,g)),O.setAttribute("uv",new jr(_,p)),O.setAttribute("faceIndex",new jr(S,v)),t.push(O),i>Ic&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function F4(e,t,n){const r=new hs(e,t,n);return r.texture.mapping=L_,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Gh(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ltt(e,t,n){const r=new Float32Array(zo),i=new W(0,1,0);return new da({name:"SphericalGaussianBlur",defines:{n:zo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function k4(){return new da({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function B4(){return new da({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function zA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ntt(e){let t=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const c=s.mapping,u=c===nw||c===rw,l=c===iu||c===au;if(u||l){let f=t.get(s);const d=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return n===null&&(n=new U4(e)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),f.texture;if(f!==void 0)return f.texture;{const h=s.image;return u&&h&&h.height>0||l&&h&&i(h)?(n===null&&(n=new U4(e)),f=u?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function i(s){let c=0;const u=6;for(let l=0;l<u;l++)s[l]!==void 0&&c++;return c===u}function a(s){const c=s.target;c.removeEventListener("dispose",a);const u=t.get(c);u!==void 0&&(t.delete(c),u.dispose())}function o(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Utt(e){const t={};function n(r){if(t[r]!==void 0)return t[r];let i;switch(r){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(r)}return t[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Fp("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Ftt(e,t,n,r){const i={},a=new WeakMap;function o(f){const d=f.target;d.index!==null&&t.remove(d.index);for(const m in d.attributes)t.remove(d.attributes[m]);for(const m in d.morphAttributes){const g=d.morphAttributes[m];for(let p=0,v=g.length;p<v;p++)t.remove(g[p])}d.removeEventListener("dispose",o),delete i[d.id];const h=a.get(d);h&&(t.remove(h),a.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function c(f){const d=f.attributes;for(const m in d)t.update(d[m],e.ARRAY_BUFFER);const h=f.morphAttributes;for(const m in h){const g=h[m];for(let p=0,v=g.length;p<v;p++)t.update(g[p],e.ARRAY_BUFFER)}}function u(f){const d=[],h=f.index,m=f.attributes.position;let g=0;if(h!==null){const y=h.array;g=h.version;for(let _=0,S=y.length;_<S;_+=3){const O=y[_+0],M=y[_+1],P=y[_+2];d.push(O,M,M,P,P,O)}}else if(m!==void 0){const y=m.array;g=m.version;for(let _=0,S=y.length/3-1;_<S;_+=3){const O=_+0,M=_+1,P=_+2;d.push(O,M,M,P,P,O)}}else return;const p=new(GV(d)?qV:YV)(d,1);p.version=g;const v=a.get(f);v&&t.remove(v),a.set(f,p)}function l(f){const d=a.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:c,getWireframeAttribute:l}}function ktt(e,t,n){let r;function i(d){r=d}let a,o;function s(d){a=d.type,o=d.bytesPerElement}function c(d,h){e.drawElements(r,h,a,d*o),n.update(h,r,1)}function u(d,h,m){m!==0&&(e.drawElementsInstanced(r,h,a,d*o,m),n.update(h,r,m))}function l(d,h,m){if(m===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,d,0,m);let p=0;for(let v=0;v<m;v++)p+=h[v];n.update(p,r,1)}function f(d,h,m,g){if(m===0)return;const p=t.get("WEBGL_multi_draw");if(p===null)for(let v=0;v<d.length;v++)u(d[v]/o,h[v],g[v]);else{p.multiDrawElementsInstancedWEBGL(r,h,0,a,d,0,g,0,m);let v=0;for(let y=0;y<m;y++)v+=h[y];for(let y=0;y<g.length;y++)n.update(v,r,g[y])}}this.setMode=i,this.setIndex=s,this.render=c,this.renderInstances=u,this.renderMultiDraw=l,this.renderMultiDrawInstances=f}function Btt(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case e.TRIANGLES:n.triangles+=s*(a/3);break;case e.LINES:n.lines+=s*(a/2);break;case e.LINE_STRIP:n.lines+=s*(a-1);break;case e.LINE_LOOP:n.lines+=s*a;break;case e.POINTS:n.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function ztt(e,t,n){const r=new WeakMap,i=new Ot;function a(o,s,c){const u=o.morphTargetInfluences,l=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=l!==void 0?l.length:0;let d=r.get(s);if(d===void 0||d.count!==f){let X=function(){P.dispose(),r.delete(s),s.removeEventListener("dispose",X)};d!==void 0&&d.texture.dispose();const h=s.morphAttributes.position!==void 0,m=s.morphAttributes.normal!==void 0,g=s.morphAttributes.color!==void 0,p=s.morphAttributes.position||[],v=s.morphAttributes.normal||[],y=s.morphAttributes.color||[];let _=0;h===!0&&(_=1),m===!0&&(_=2),g===!0&&(_=3);let S=s.attributes.position.count*_,O=1;S>t.maxTextureSize&&(O=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);const M=new Float32Array(S*O*4*f),P=new jV(M,S,O,f);P.type=Ki,P.needsUpdate=!0;const D=_*4;for(let $=0;$<f;$++){const b=p[$],I=v[$],T=y[$],E=S*O*4*$;for(let A=0;A<b.count;A++){const x=A*D;h===!0&&(i.fromBufferAttribute(b,A),M[E+x+0]=i.x,M[E+x+1]=i.y,M[E+x+2]=i.z,M[E+x+3]=0),m===!0&&(i.fromBufferAttribute(I,A),M[E+x+4]=i.x,M[E+x+5]=i.y,M[E+x+6]=i.z,M[E+x+7]=0),g===!0&&(i.fromBufferAttribute(T,A),M[E+x+8]=i.x,M[E+x+9]=i.y,M[E+x+10]=i.z,M[E+x+11]=T.itemSize===4?i.w:1)}}d={count:f,texture:P,size:new tt(S,O)},r.set(s,d),s.addEventListener("dispose",X)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let h=0;for(let g=0;g<u.length;g++)h+=u[g];const m=s.morphTargetsRelative?1:1-h;c.getUniforms().setValue(e,"morphTargetBaseInfluence",m),c.getUniforms().setValue(e,"morphTargetInfluences",u)}c.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}return{update:a}}function Htt(e,t,n,r){let i=new WeakMap;function a(c){const u=r.render.frame,l=c.geometry,f=t.get(c,l);if(i.get(f)!==u&&(t.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",s)===!1&&c.addEventListener("dispose",s),i.get(c)!==u&&(n.update(c.instanceMatrix,e.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,e.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const d=c.skeleton;i.get(d)!==u&&(d.update(),i.set(d,u))}return f}function o(){i=new WeakMap}function s(c){const u=c.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:o}}class tj extends In{constructor(t,n,r,i,a,o,s,c,u,l=Bc){if(l!==Bc&&l!==su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&l===Bc&&(r=ds),r===void 0&&l===su&&(r=ou),super(null,i,a,o,s,c,l,r,u),this.isDepthTexture=!0,this.image={width:t,height:n},this.magFilter=s!==void 0?s:gr,this.minFilter=c!==void 0?c:gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const n=super.toJSON(t);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const nj=new In,z4=new tj(1,1),rj=new jV,ij=new TJe,aj=new JV,H4=[],G4=[],V4=new Float32Array(16),j4=new Float32Array(9),W4=new Float32Array(4);function wu(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=H4[i];if(a===void 0&&(a=new Float32Array(i),H4[i]=a),t!==0){r.toArray(a,0);for(let o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Zt(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Jt(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function F_(e,t){let n=G4[t];n===void 0&&(n=new Int32Array(t),G4[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Gtt(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Vtt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Zt(n,t))return;e.uniform2fv(this.addr,t),Jt(n,t)}}function jtt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Zt(n,t))return;e.uniform3fv(this.addr,t),Jt(n,t)}}function Wtt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Zt(n,t))return;e.uniform4fv(this.addr,t),Jt(n,t)}}function Xtt(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Zt(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Jt(n,t)}else{if(Zt(n,r))return;W4.set(r),e.uniformMatrix2fv(this.addr,!1,W4),Jt(n,r)}}function Ytt(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Zt(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Jt(n,t)}else{if(Zt(n,r))return;j4.set(r),e.uniformMatrix3fv(this.addr,!1,j4),Jt(n,r)}}function qtt(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Zt(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Jt(n,t)}else{if(Zt(n,r))return;V4.set(r),e.uniformMatrix4fv(this.addr,!1,V4),Jt(n,r)}}function Ktt(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ztt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Zt(n,t))return;e.uniform2iv(this.addr,t),Jt(n,t)}}function Jtt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Zt(n,t))return;e.uniform3iv(this.addr,t),Jt(n,t)}}function Qtt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Zt(n,t))return;e.uniform4iv(this.addr,t),Jt(n,t)}}function ent(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function tnt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Zt(n,t))return;e.uniform2uiv(this.addr,t),Jt(n,t)}}function nnt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Zt(n,t))return;e.uniform3uiv(this.addr,t),Jt(n,t)}}function rnt(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Zt(n,t))return;e.uniform4uiv(this.addr,t),Jt(n,t)}}function int(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);let a;this.type===e.SAMPLER_2D_SHADOW?(z4.compareFunction=HV,a=z4):a=nj,n.setTexture2D(t||a,i)}function ant(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ij,i)}function ont(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||aj,i)}function snt(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||rj,i)}function cnt(e){switch(e){case 5126:return Gtt;case 35664:return Vtt;case 35665:return jtt;case 35666:return Wtt;case 35674:return Xtt;case 35675:return Ytt;case 35676:return qtt;case 5124:case 35670:return Ktt;case 35667:case 35671:return Ztt;case 35668:case 35672:return Jtt;case 35669:case 35673:return Qtt;case 5125:return ent;case 36294:return tnt;case 36295:return nnt;case 36296:return rnt;case 35678:case 36198:case 36298:case 36306:case 35682:return int;case 35679:case 36299:case 36307:return ant;case 35680:case 36300:case 36308:case 36293:return ont;case 36289:case 36303:case 36311:case 36292:return snt}}function unt(e,t){e.uniform1fv(this.addr,t)}function lnt(e,t){const n=wu(t,this.size,2);e.uniform2fv(this.addr,n)}function fnt(e,t){const n=wu(t,this.size,3);e.uniform3fv(this.addr,n)}function dnt(e,t){const n=wu(t,this.size,4);e.uniform4fv(this.addr,n)}function hnt(e,t){const n=wu(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function pnt(e,t){const n=wu(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function vnt(e,t){const n=wu(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function mnt(e,t){e.uniform1iv(this.addr,t)}function gnt(e,t){e.uniform2iv(this.addr,t)}function _nt(e,t){e.uniform3iv(this.addr,t)}function ynt(e,t){e.uniform4iv(this.addr,t)}function $nt(e,t){e.uniform1uiv(this.addr,t)}function bnt(e,t){e.uniform2uiv(this.addr,t)}function Snt(e,t){e.uniform3uiv(this.addr,t)}function xnt(e,t){e.uniform4uiv(this.addr,t)}function wnt(e,t,n){const r=this.cache,i=t.length,a=F_(n,i);Zt(r,a)||(e.uniform1iv(this.addr,a),Jt(r,a));for(let o=0;o!==i;++o)n.setTexture2D(t[o]||nj,a[o])}function Ent(e,t,n){const r=this.cache,i=t.length,a=F_(n,i);Zt(r,a)||(e.uniform1iv(this.addr,a),Jt(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||ij,a[o])}function Tnt(e,t,n){const r=this.cache,i=t.length,a=F_(n,i);Zt(r,a)||(e.uniform1iv(this.addr,a),Jt(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||aj,a[o])}function Mnt(e,t,n){const r=this.cache,i=t.length,a=F_(n,i);Zt(r,a)||(e.uniform1iv(this.addr,a),Jt(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||rj,a[o])}function Ant(e){switch(e){case 5126:return unt;case 35664:return lnt;case 35665:return fnt;case 35666:return dnt;case 35674:return hnt;case 35675:return pnt;case 35676:return vnt;case 5124:case 35670:return mnt;case 35667:case 35671:return gnt;case 35668:case 35672:return _nt;case 35669:case 35673:return ynt;case 5125:return $nt;case 36294:return bnt;case 36295:return Snt;case 36296:return xnt;case 35678:case 36198:case 36298:case 36306:case 35682:return wnt;case 35679:case 36299:case 36307:return Ent;case 35680:case 36300:case 36308:case 36293:return Tnt;case 36289:case 36303:case 36311:case 36292:return Mnt}}class Pnt{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=cnt(n.type)}}class Cnt{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Ant(n.type)}}class Rnt{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(t,n[s.id],r)}}}const db=/(\w+)(\])?(\[|\.)?/g;function X4(e,t){e.seq.push(t),e.map[t.id]=t}function Int(e,t,n){const r=e.name,i=r.length;for(db.lastIndex=0;;){const a=db.exec(r),o=db.lastIndex;let s=a[1];const c=a[2]==="]",u=a[3];if(c&&(s=s|0),u===void 0||u==="["&&o+2===i){X4(n,u===void 0?new Pnt(s,e,t):new Cnt(s,e,t));break}else{let f=n.map[s];f===void 0&&(f=new Rnt(s),X4(n,f)),n=f}}}class kp{constructor(t,n){this.seq=[],this.map={};const r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=t.getActiveUniform(n,i),o=t.getUniformLocation(n,a.name);Int(a,o,this)}}setValue(t,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(t,r,i)}setOptional(t,n,r){const i=n[r];i!==void 0&&this.setValue(t,r,i)}static upload(t,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],c=r[s.id];c.needsUpdate!==!1&&s.setValue(t,c.value,i)}}static seqWithValue(t,n){const r=[];for(let i=0,a=t.length;i!==a;++i){const o=t[i];o.id in n&&r.push(o)}return r}}function Y4(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const Ont=37297;let Dnt=0;function Lnt(e,t){const n=e.split(`
`),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===t?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}function Nnt(e){const t=dt.getPrimaries(dt.workingColorSpace),n=dt.getPrimaries(e);let r;switch(t===n?r="":t===Uv&&n===Nv?r="LinearDisplayP3ToLinearSRGB":t===Nv&&n===Uv&&(r="LinearSRGBToLinearDisplayP3"),e){case _o:case N_:return[r,"LinearTransferOETF"];case oi:case NA:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}function q4(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+Lnt(e.getShaderSource(t),o)}else return i}function Unt(e,t){const n=Nnt(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Fnt(e,t){let n;switch(t){case ZZe:n="Linear";break;case JZe:n="Reinhard";break;case QZe:n="Cineon";break;case eJe:n="ACESFilmic";break;case nJe:n="AgX";break;case rJe:n="Neutral";break;case tJe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Vh=new W;function knt(){dt.getLuminanceCoefficients(Vh);const e=Vh.x.toFixed(4),t=Vh.y.toFixed(4),n=Vh.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${e}, ${t}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Bnt(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(pl).join(`
`)}function znt(e){const t=[];for(const n in e){const r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function Hnt(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=e.getActiveAttrib(t,i),o=a.name;let s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}function pl(e){return e!==""}function K4(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Z4(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Gnt=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ow(e){return e.replace(Gnt,jnt)}const Vnt=new Map;function jnt(e,t){let n=Je[t];if(n===void 0){const r=Vnt.get(t);if(r!==void 0)n=Je[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r);else throw new Error("Can not resolve #include <"+t+">")}return Ow(n)}const Wnt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function J4(e){return e.replace(Wnt,Xnt)}function Xnt(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Q4(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Ynt(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===PV?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===CZe?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Gi&&(t="SHADOWMAP_TYPE_VSM"),t}function qnt(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case iu:case au:t="ENVMAP_TYPE_CUBE";break;case L_:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Knt(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case au:t="ENVMAP_MODE_REFRACTION";break}return t}function Znt(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case CV:t="ENVMAP_BLENDING_MULTIPLY";break;case qZe:t="ENVMAP_BLENDING_MIX";break;case KZe:t="ENVMAP_BLENDING_ADD";break}return t}function Jnt(e){const t=e.envMapCubeUVHeight;if(t===null)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Qnt(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const c=Ynt(n),u=qnt(n),l=Knt(n),f=Znt(n),d=Jnt(n),h=Bnt(n),m=znt(a),g=i.createProgram();let p,v,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(pl).join(`
`),p.length>0&&(p+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(pl).join(`
`),v.length>0&&(v+=`
`)):(p=[Q4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pl).join(`
`),v=[Q4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+l:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ha?"#define TONE_MAPPING":"",n.toneMapping!==Ha?Je.tonemapping_pars_fragment:"",n.toneMapping!==Ha?Fnt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Je.colorspace_pars_fragment,Unt("linearToOutputTexel",n.outputColorSpace),knt(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(pl).join(`
`)),o=Ow(o),o=K4(o,n),o=Z4(o,n),s=Ow(s),s=K4(s,n),s=Z4(s,n),o=J4(o),s=J4(s),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,v=["#define varying in",n.glslVersion===m4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===m4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=y+p+o,S=y+v+s,O=Y4(i,i.VERTEX_SHADER,_),M=Y4(i,i.FRAGMENT_SHADER,S);i.attachShader(g,O),i.attachShader(g,M),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function P(b){if(e.debug.checkShaderErrors){const I=i.getProgramInfoLog(g).trim(),T=i.getShaderInfoLog(O).trim(),E=i.getShaderInfoLog(M).trim();let A=!0,x=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(A=!1,typeof e.debug.onShaderError=="function")e.debug.onShaderError(i,g,O,M);else{const N=q4(i,O,"vertex"),R=q4(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+b.name+`
Material Type: `+b.type+`

Program Info Log: `+I+`
`+N+`
`+R)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(T===""||E==="")&&(x=!1);x&&(b.diagnostics={runnable:A,programLog:I,vertexShader:{log:T,prefix:p},fragmentShader:{log:E,prefix:v}})}i.deleteShader(O),i.deleteShader(M),D=new kp(i,g),X=Hnt(i,g)}let D;this.getUniforms=function(){return D===void 0&&P(this),D};let X;this.getAttributes=function(){return X===void 0&&P(this),X};let $=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return $===!1&&($=i.getProgramParameter(g,Ont)),$},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Dnt++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=O,this.fragmentShader=M,this}let ert=0;class trt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.vertexShader,r=t.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(t);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(t){const n=this.materialCache.get(t);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const n=this.materialCache;let r=n.get(t);return r===void 0&&(r=new Set,n.set(t,r)),r}_getShaderStage(t){const n=this.shaderCache;let r=n.get(t);return r===void 0&&(r=new nrt(t),n.set(t,r)),r}}class nrt{constructor(t){this.id=ert++,this.code=t,this.usedTimes=0}}function rrt(e,t,n,r,i,a,o){const s=new FA,c=new trt,u=new Set,l=[],f=i.logarithmicDepthBuffer,d=i.reverseDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p($){return u.add($),$===0?"uv":`uv${$}`}function v($,b,I,T,E){const A=T.fog,x=E.geometry,N=$.isMeshStandardMaterial?T.environment:null,R=($.isMeshStandardMaterial?n:t).get($.envMap||N),F=R&&R.mapping===L_?R.image.height:null,k=g[$.type];$.precision!==null&&(m=i.getMaxPrecision($.precision),m!==$.precision&&console.warn("THREE.WebGLProgram.getParameters:",$.precision,"not supported, using",m,"instead."));const ee=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,de=ee!==void 0?ee.length:0;let ge=0;x.morphAttributes.position!==void 0&&(ge=1),x.morphAttributes.normal!==void 0&&(ge=2),x.morphAttributes.color!==void 0&&(ge=3);let j,Z,_e,he;if(k){const Fn=si[k];j=Fn.vertexShader,Z=Fn.fragmentShader}else j=$.vertexShader,Z=$.fragmentShader,c.update($),_e=c.getVertexShaderID($),he=c.getFragmentShaderID($);const we=e.getRenderTarget(),Q=E.isInstancedMesh===!0,se=E.isBatchedMesh===!0,me=!!$.map,K=!!$.matcap,U=!!R,ue=!!$.aoMap,pe=!!$.lightMap,ye=!!$.bumpMap,ve=!!$.normalMap,He=!!$.displacementMap,Ne=!!$.emissiveMap,L=!!$.metalnessMap,w=!!$.roughnessMap,H=$.anisotropy>0,ie=$.clearcoat>0,ce=$.dispersion>0,ae=$.iridescence>0,Ae=$.sheen>0,Se=$.transmission>0,xe=H&&!!$.anisotropyMap,ot=ie&&!!$.clearcoatMap,$e=ie&&!!$.clearcoatNormalMap,Ie=ie&&!!$.clearcoatRoughnessMap,Ye=ae&&!!$.iridescenceMap,qe=ae&&!!$.iridescenceThicknessMap,Oe=Ae&&!!$.sheenColorMap,rt=Ae&&!!$.sheenRoughnessMap,Ke=!!$.specularMap,$t=!!$.specularColorMap,B=!!$.specularIntensityMap,Pe=Se&&!!$.transmissionMap,re=Se&&!!$.thicknessMap,le=!!$.gradientMap,Te=!!$.alphaMap,Ce=$.alphaTest>0,it=!!$.alphaHash,Ht=!!$.extensions;let Un=Ha;$.toneMapped&&(we===null||we.isXRRenderTarget===!0)&&(Un=e.toneMapping);const ct={shaderID:k,shaderType:$.type,shaderName:$.name,vertexShader:j,fragmentShader:Z,defines:$.defines,customVertexShaderID:_e,customFragmentShaderID:he,isRawShaderMaterial:$.isRawShaderMaterial===!0,glslVersion:$.glslVersion,precision:m,batching:se,batchingColor:se&&E._colorsTexture!==null,instancing:Q,instancingColor:Q&&E.instanceColor!==null,instancingMorph:Q&&E.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:we===null?e.outputColorSpace:we.isXRRenderTarget===!0?we.texture.colorSpace:_o,alphaToCoverage:!!$.alphaToCoverage,map:me,matcap:K,envMap:U,envMapMode:U&&R.mapping,envMapCubeUVHeight:F,aoMap:ue,lightMap:pe,bumpMap:ye,normalMap:ve,displacementMap:h&&He,emissiveMap:Ne,normalMapObjectSpace:ve&&$.normalMapType===cJe,normalMapTangentSpace:ve&&$.normalMapType===sJe,metalnessMap:L,roughnessMap:w,anisotropy:H,anisotropyMap:xe,clearcoat:ie,clearcoatMap:ot,clearcoatNormalMap:$e,clearcoatRoughnessMap:Ie,dispersion:ce,iridescence:ae,iridescenceMap:Ye,iridescenceThicknessMap:qe,sheen:Ae,sheenColorMap:Oe,sheenRoughnessMap:rt,specularMap:Ke,specularColorMap:$t,specularIntensityMap:B,transmission:Se,transmissionMap:Pe,thicknessMap:re,gradientMap:le,opaque:$.transparent===!1&&$.blending===Yo&&$.alphaToCoverage===!1,alphaMap:Te,alphaTest:Ce,alphaHash:it,combine:$.combine,mapUv:me&&p($.map.channel),aoMapUv:ue&&p($.aoMap.channel),lightMapUv:pe&&p($.lightMap.channel),bumpMapUv:ye&&p($.bumpMap.channel),normalMapUv:ve&&p($.normalMap.channel),displacementMapUv:He&&p($.displacementMap.channel),emissiveMapUv:Ne&&p($.emissiveMap.channel),metalnessMapUv:L&&p($.metalnessMap.channel),roughnessMapUv:w&&p($.roughnessMap.channel),anisotropyMapUv:xe&&p($.anisotropyMap.channel),clearcoatMapUv:ot&&p($.clearcoatMap.channel),clearcoatNormalMapUv:$e&&p($.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&p($.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&p($.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&p($.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&p($.sheenColorMap.channel),sheenRoughnessMapUv:rt&&p($.sheenRoughnessMap.channel),specularMapUv:Ke&&p($.specularMap.channel),specularColorMapUv:$t&&p($.specularColorMap.channel),specularIntensityMapUv:B&&p($.specularIntensityMap.channel),transmissionMapUv:Pe&&p($.transmissionMap.channel),thicknessMapUv:re&&p($.thicknessMap.channel),alphaMapUv:Te&&p($.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(ve||H),vertexColors:$.vertexColors,vertexAlphas:$.vertexColors===!0&&!!x.attributes.color&&x.attributes.color.itemSize===4,pointsUvs:E.isPoints===!0&&!!x.attributes.uv&&(me||Te),fog:!!A,useFog:$.fog===!0,fogExp2:!!A&&A.isFogExp2,flatShading:$.flatShading===!0,sizeAttenuation:$.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:d,skinning:E.isSkinnedMesh===!0,morphTargets:x.morphAttributes.position!==void 0,morphNormals:x.morphAttributes.normal!==void 0,morphColors:x.morphAttributes.color!==void 0,morphTargetsCount:de,morphTextureStride:ge,numDirLights:b.directional.length,numPointLights:b.point.length,numSpotLights:b.spot.length,numSpotLightMaps:b.spotLightMap.length,numRectAreaLights:b.rectArea.length,numHemiLights:b.hemi.length,numDirLightShadows:b.directionalShadowMap.length,numPointLightShadows:b.pointShadowMap.length,numSpotLightShadows:b.spotShadowMap.length,numSpotLightShadowsWithMaps:b.numSpotLightShadowsWithMaps,numLightProbes:b.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:$.dithering,shadowMapEnabled:e.shadowMap.enabled&&I.length>0,shadowMapType:e.shadowMap.type,toneMapping:Un,decodeVideoTexture:me&&$.map.isVideoTexture===!0&&dt.getTransfer($.map.colorSpace)===xt,premultipliedAlpha:$.premultipliedAlpha,doubleSided:$.side===Wi,flipSided:$.side===Vn,useDepthPacking:$.depthPacking>=0,depthPacking:$.depthPacking||0,index0AttributeName:$.index0AttributeName,extensionClipCullDistance:Ht&&$.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ht&&$.extensions.multiDraw===!0||se)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:$.customProgramCacheKey()};return ct.vertexUv1s=u.has(1),ct.vertexUv2s=u.has(2),ct.vertexUv3s=u.has(3),u.clear(),ct}function y($){const b=[];if($.shaderID?b.push($.shaderID):(b.push($.customVertexShaderID),b.push($.customFragmentShaderID)),$.defines!==void 0)for(const I in $.defines)b.push(I),b.push($.defines[I]);return $.isRawShaderMaterial===!1&&(_(b,$),S(b,$),b.push(e.outputColorSpace)),b.push($.customProgramCacheKey),b.join()}function _($,b){$.push(b.precision),$.push(b.outputColorSpace),$.push(b.envMapMode),$.push(b.envMapCubeUVHeight),$.push(b.mapUv),$.push(b.alphaMapUv),$.push(b.lightMapUv),$.push(b.aoMapUv),$.push(b.bumpMapUv),$.push(b.normalMapUv),$.push(b.displacementMapUv),$.push(b.emissiveMapUv),$.push(b.metalnessMapUv),$.push(b.roughnessMapUv),$.push(b.anisotropyMapUv),$.push(b.clearcoatMapUv),$.push(b.clearcoatNormalMapUv),$.push(b.clearcoatRoughnessMapUv),$.push(b.iridescenceMapUv),$.push(b.iridescenceThicknessMapUv),$.push(b.sheenColorMapUv),$.push(b.sheenRoughnessMapUv),$.push(b.specularMapUv),$.push(b.specularColorMapUv),$.push(b.specularIntensityMapUv),$.push(b.transmissionMapUv),$.push(b.thicknessMapUv),$.push(b.combine),$.push(b.fogExp2),$.push(b.sizeAttenuation),$.push(b.morphTargetsCount),$.push(b.morphAttributeCount),$.push(b.numDirLights),$.push(b.numPointLights),$.push(b.numSpotLights),$.push(b.numSpotLightMaps),$.push(b.numHemiLights),$.push(b.numRectAreaLights),$.push(b.numDirLightShadows),$.push(b.numPointLightShadows),$.push(b.numSpotLightShadows),$.push(b.numSpotLightShadowsWithMaps),$.push(b.numLightProbes),$.push(b.shadowMapType),$.push(b.toneMapping),$.push(b.numClippingPlanes),$.push(b.numClipIntersection),$.push(b.depthPacking)}function S($,b){s.disableAll(),b.supportsVertexTextures&&s.enable(0),b.instancing&&s.enable(1),b.instancingColor&&s.enable(2),b.instancingMorph&&s.enable(3),b.matcap&&s.enable(4),b.envMap&&s.enable(5),b.normalMapObjectSpace&&s.enable(6),b.normalMapTangentSpace&&s.enable(7),b.clearcoat&&s.enable(8),b.iridescence&&s.enable(9),b.alphaTest&&s.enable(10),b.vertexColors&&s.enable(11),b.vertexAlphas&&s.enable(12),b.vertexUv1s&&s.enable(13),b.vertexUv2s&&s.enable(14),b.vertexUv3s&&s.enable(15),b.vertexTangents&&s.enable(16),b.anisotropy&&s.enable(17),b.alphaHash&&s.enable(18),b.batching&&s.enable(19),b.dispersion&&s.enable(20),b.batchingColor&&s.enable(21),$.push(s.mask),s.disableAll(),b.fog&&s.enable(0),b.useFog&&s.enable(1),b.flatShading&&s.enable(2),b.logarithmicDepthBuffer&&s.enable(3),b.reverseDepthBuffer&&s.enable(4),b.skinning&&s.enable(5),b.morphTargets&&s.enable(6),b.morphNormals&&s.enable(7),b.morphColors&&s.enable(8),b.premultipliedAlpha&&s.enable(9),b.shadowMapEnabled&&s.enable(10),b.doubleSided&&s.enable(11),b.flipSided&&s.enable(12),b.useDepthPacking&&s.enable(13),b.dithering&&s.enable(14),b.transmission&&s.enable(15),b.sheen&&s.enable(16),b.opaque&&s.enable(17),b.pointsUvs&&s.enable(18),b.decodeVideoTexture&&s.enable(19),b.alphaToCoverage&&s.enable(20),$.push(s.mask)}function O($){const b=g[$.type];let I;if(b){const T=si[b];I=FJe.clone(T.uniforms)}else I=$.uniforms;return I}function M($,b){let I;for(let T=0,E=l.length;T<E;T++){const A=l[T];if(A.cacheKey===b){I=A,++I.usedTimes;break}}return I===void 0&&(I=new Qnt(e,b,$,a),l.push(I)),I}function P($){if(--$.usedTimes===0){const b=l.indexOf($);l[b]=l[l.length-1],l.pop(),$.destroy()}}function D($){c.remove($)}function X(){c.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:O,acquireProgram:M,releaseProgram:P,releaseShaderCache:D,programs:l,dispose:X}}function irt(){let e=new WeakMap;function t(o){return e.has(o)}function n(o){let s=e.get(o);return s===void 0&&(s={},e.set(o,s)),s}function r(o){e.delete(o)}function i(o,s,c){e.get(o)[s]=c}function a(){e=new WeakMap}return{has:t,get:n,remove:r,update:i,dispose:a}}function art(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function eF(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function tF(){const e=[];let t=0;const n=[],r=[],i=[];function a(){t=0,n.length=0,r.length=0,i.length=0}function o(f,d,h,m,g,p){let v=e[t];return v===void 0?(v={id:f.id,object:f,geometry:d,material:h,groupOrder:m,renderOrder:f.renderOrder,z:g,group:p},e[t]=v):(v.id=f.id,v.object=f,v.geometry=d,v.material=h,v.groupOrder=m,v.renderOrder=f.renderOrder,v.z=g,v.group=p),t++,v}function s(f,d,h,m,g,p){const v=o(f,d,h,m,g,p);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):n.push(v)}function c(f,d,h,m,g,p){const v=o(f,d,h,m,g,p);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,d){n.length>1&&n.sort(f||art),r.length>1&&r.sort(d||eF),i.length>1&&i.sort(d||eF)}function l(){for(let f=t,d=e.length;f<d;f++){const h=e[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:c,finish:l,sort:u}}function ort(){let e=new WeakMap;function t(r,i){const a=e.get(r);let o;return a===void 0?(o=new tF,e.set(r,[o])):i>=a.length?(o=new tF,a.push(o)):o=a[i],o}function n(){e=new WeakMap}return{get:t,dispose:n}}function srt(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new W,color:new ut};break;case"SpotLight":n={position:new W,direction:new W,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new W,color:new ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new W,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":n={color:new ut,position:new W,halfWidth:new W,halfHeight:new W};break}return e[t.id]=n,n}}}function crt(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let urt=0;function lrt(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function frt(e){const t=new srt,n=crt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new W);const i=new W,a=new At,o=new At;function s(u){let l=0,f=0,d=0;for(let X=0;X<9;X++)r.probe[X].set(0,0,0);let h=0,m=0,g=0,p=0,v=0,y=0,_=0,S=0,O=0,M=0,P=0;u.sort(lrt);for(let X=0,$=u.length;X<$;X++){const b=u[X],I=b.color,T=b.intensity,E=b.distance,A=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=I.r*T,f+=I.g*T,d+=I.b*T;else if(b.isLightProbe){for(let x=0;x<9;x++)r.probe[x].addScaledVector(b.sh.coefficients[x],T);P++}else if(b.isDirectionalLight){const x=t.get(b);if(x.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const N=b.shadow,R=n.get(b);R.shadowIntensity=N.intensity,R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,r.directionalShadow[h]=R,r.directionalShadowMap[h]=A,r.directionalShadowMatrix[h]=b.shadow.matrix,y++}r.directional[h]=x,h++}else if(b.isSpotLight){const x=t.get(b);x.position.setFromMatrixPosition(b.matrixWorld),x.color.copy(I).multiplyScalar(T),x.distance=E,x.coneCos=Math.cos(b.angle),x.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),x.decay=b.decay,r.spot[g]=x;const N=b.shadow;if(b.map&&(r.spotLightMap[O]=b.map,O++,N.updateMatrices(b),b.castShadow&&M++),r.spotLightMatrix[g]=N.matrix,b.castShadow){const R=n.get(b);R.shadowIntensity=N.intensity,R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,r.spotShadow[g]=R,r.spotShadowMap[g]=A,S++}g++}else if(b.isRectAreaLight){const x=t.get(b);x.color.copy(I).multiplyScalar(T),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),r.rectArea[p]=x,p++}else if(b.isPointLight){const x=t.get(b);if(x.color.copy(b.color).multiplyScalar(b.intensity),x.distance=b.distance,x.decay=b.decay,b.castShadow){const N=b.shadow,R=n.get(b);R.shadowIntensity=N.intensity,R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,R.shadowCameraNear=N.camera.near,R.shadowCameraFar=N.camera.far,r.pointShadow[m]=R,r.pointShadowMap[m]=A,r.pointShadowMatrix[m]=b.shadow.matrix,_++}r.point[m]=x,m++}else if(b.isHemisphereLight){const x=t.get(b);x.skyColor.copy(b.color).multiplyScalar(T),x.groundColor.copy(b.groundColor).multiplyScalar(T),r.hemi[v]=x,v++}}p>0&&(e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ee.LTC_FLOAT_1,r.rectAreaLTC2=Ee.LTC_FLOAT_2):(r.rectAreaLTC1=Ee.LTC_HALF_1,r.rectAreaLTC2=Ee.LTC_HALF_2)),r.ambient[0]=l,r.ambient[1]=f,r.ambient[2]=d;const D=r.hash;(D.directionalLength!==h||D.pointLength!==m||D.spotLength!==g||D.rectAreaLength!==p||D.hemiLength!==v||D.numDirectionalShadows!==y||D.numPointShadows!==_||D.numSpotShadows!==S||D.numSpotMaps!==O||D.numLightProbes!==P)&&(r.directional.length=h,r.spot.length=g,r.rectArea.length=p,r.point.length=m,r.hemi.length=v,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=S+O-M,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=M,r.numLightProbes=P,D.directionalLength=h,D.pointLength=m,D.spotLength=g,D.rectAreaLength=p,D.hemiLength=v,D.numDirectionalShadows=y,D.numPointShadows=_,D.numSpotShadows=S,D.numSpotMaps=O,D.numLightProbes=P,r.version=urt++)}function c(u,l){let f=0,d=0,h=0,m=0,g=0;const p=l.matrixWorldInverse;for(let v=0,y=u.length;v<y;v++){const _=u[v];if(_.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(p),f++}else if(_.isSpotLight){const S=r.spot[h];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(p),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(p),h++}else if(_.isRectAreaLight){const S=r.rectArea[m];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(p),o.identity(),a.copy(_.matrixWorld),a.premultiply(p),o.extractRotation(a),S.halfWidth.set(_.width*.5,0,0),S.halfHeight.set(0,_.height*.5,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),m++}else if(_.isPointLight){const S=r.point[d];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(p),d++}else if(_.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(p),g++}}}return{setup:s,setupView:c,state:r}}function nF(e){const t=new frt(e),n=[],r=[];function i(l){u.camera=l,n.length=0,r.length=0}function a(l){n.push(l)}function o(l){r.push(l)}function s(){t.setup(n)}function c(l){t.setupView(n,l)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:c,pushLight:a,pushShadow:o}}function drt(e){let t=new WeakMap;function n(i,a=0){const o=t.get(i);let s;return o===void 0?(s=new nF(e),t.set(i,[s])):a>=o.length?(s=new nF(e),o.push(s)):s=o[a],s}function r(){t=new WeakMap}return{get:n,dispose:r}}class hrt extends Jf{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=aJe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class prt extends Jf{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const vrt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mrt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function grt(e,t,n){let r=new BA;const i=new tt,a=new tt,o=new Ot,s=new hrt({depthPacking:oJe}),c=new prt,u={},l=n.maxTextureSize,f={[wi]:Vn,[Vn]:wi,[Wi]:Wi},d=new da({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:vrt,fragmentShader:mrt}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const m=new Sa;m.setAttribute("position",new jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Vr(m,d),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PV;let v=this.type;this.render=function(M,P,D){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||M.length===0)return;const X=e.getRenderTarget(),$=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),I=e.state;I.setBlending(za),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const T=v!==Gi&&this.type===Gi,E=v===Gi&&this.type!==Gi;for(let A=0,x=M.length;A<x;A++){const N=M[A],R=N.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const F=R.getFrameExtents();if(i.multiply(F),a.copy(R.mapSize),(i.x>l||i.y>l)&&(i.x>l&&(a.x=Math.floor(l/F.x),i.x=a.x*F.x,R.mapSize.x=a.x),i.y>l&&(a.y=Math.floor(l/F.y),i.y=a.y*F.y,R.mapSize.y=a.y)),R.map===null||T===!0||E===!0){const ee=this.type!==Gi?{minFilter:gr,magFilter:gr}:{};R.map!==null&&R.map.dispose(),R.map=new hs(i.x,i.y,ee),R.map.texture.name=N.name+".shadowMap",R.camera.updateProjectionMatrix()}e.setRenderTarget(R.map),e.clear();const k=R.getViewportCount();for(let ee=0;ee<k;ee++){const de=R.getViewport(ee);o.set(a.x*de.x,a.y*de.y,a.x*de.z,a.y*de.w),I.viewport(o),R.updateMatrices(N,ee),r=R.getFrustum(),S(P,D,R.camera,N,this.type)}R.isPointLightShadow!==!0&&this.type===Gi&&y(R,D),R.needsUpdate=!1}v=this.type,p.needsUpdate=!1,e.setRenderTarget(X,$,b)};function y(M,P){const D=t.update(g);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new hs(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,e.setRenderTarget(M.mapPass),e.clear(),e.renderBufferDirect(P,null,D,d,g,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,e.setRenderTarget(M.map),e.clear(),e.renderBufferDirect(P,null,D,h,g,null)}function _(M,P,D,X){let $=null;const b=D.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(b!==void 0)$=b;else if($=D.isPointLight===!0?c:s,e.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const I=$.uuid,T=P.uuid;let E=u[I];E===void 0&&(E={},u[I]=E);let A=E[T];A===void 0&&(A=$.clone(),E[T]=A,P.addEventListener("dispose",O)),$=A}if($.visible=P.visible,$.wireframe=P.wireframe,X===Gi?$.side=P.shadowSide!==null?P.shadowSide:P.side:$.side=P.shadowSide!==null?P.shadowSide:f[P.side],$.alphaMap=P.alphaMap,$.alphaTest=P.alphaTest,$.map=P.map,$.clipShadows=P.clipShadows,$.clippingPlanes=P.clippingPlanes,$.clipIntersection=P.clipIntersection,$.displacementMap=P.displacementMap,$.displacementScale=P.displacementScale,$.displacementBias=P.displacementBias,$.wireframeLinewidth=P.wireframeLinewidth,$.linewidth=P.linewidth,D.isPointLight===!0&&$.isMeshDistanceMaterial===!0){const I=e.properties.get($);I.light=D}return $}function S(M,P,D,X,$){if(M.visible===!1)return;if(M.layers.test(P.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&$===Gi)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,M.matrixWorld);const T=t.update(M),E=M.material;if(Array.isArray(E)){const A=T.groups;for(let x=0,N=A.length;x<N;x++){const R=A[x],F=E[R.materialIndex];if(F&&F.visible){const k=_(M,F,X,$);M.onBeforeShadow(e,M,P,D,T,k,R),e.renderBufferDirect(D,null,T,k,M,R),M.onAfterShadow(e,M,P,D,T,k,R)}}}else if(E.visible){const A=_(M,E,X,$);M.onBeforeShadow(e,M,P,D,T,A,null),e.renderBufferDirect(D,null,T,A,M,null),M.onAfterShadow(e,M,P,D,T,A,null)}}const I=M.children;for(let T=0,E=I.length;T<E;T++)S(I[T],P,D,X,$)}function O(M){M.target.removeEventListener("dispose",O);for(const D in u){const X=u[D],$=M.target.uuid;$ in X&&(X[$].dispose(),delete X[$])}}}const _rt={[qx]:Kx,[Zx]:ew,[Jx]:tw,[ru]:Qx,[Kx]:qx,[ew]:Zx,[tw]:Jx,[Qx]:ru};function yrt(e){function t(){let B=!1;const Pe=new Ot;let re=null;const le=new Ot(0,0,0,0);return{setMask:function(Te){re!==Te&&!B&&(e.colorMask(Te,Te,Te,Te),re=Te)},setLocked:function(Te){B=Te},setClear:function(Te,Ce,it,Ht,Un){Un===!0&&(Te*=Ht,Ce*=Ht,it*=Ht),Pe.set(Te,Ce,it,Ht),le.equals(Pe)===!1&&(e.clearColor(Te,Ce,it,Ht),le.copy(Pe))},reset:function(){B=!1,re=null,le.set(-1,0,0,0)}}}function n(){let B=!1,Pe=!1,re=null,le=null,Te=null;return{setReversed:function(Ce){Pe=Ce},setTest:function(Ce){Ce?_e(e.DEPTH_TEST):he(e.DEPTH_TEST)},setMask:function(Ce){re!==Ce&&!B&&(e.depthMask(Ce),re=Ce)},setFunc:function(Ce){if(Pe&&(Ce=_rt[Ce]),le!==Ce){switch(Ce){case qx:e.depthFunc(e.NEVER);break;case Kx:e.depthFunc(e.ALWAYS);break;case Zx:e.depthFunc(e.LESS);break;case ru:e.depthFunc(e.LEQUAL);break;case Jx:e.depthFunc(e.EQUAL);break;case Qx:e.depthFunc(e.GEQUAL);break;case ew:e.depthFunc(e.GREATER);break;case tw:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}le=Ce}},setLocked:function(Ce){B=Ce},setClear:function(Ce){Te!==Ce&&(e.clearDepth(Ce),Te=Ce)},reset:function(){B=!1,re=null,le=null,Te=null}}}function r(){let B=!1,Pe=null,re=null,le=null,Te=null,Ce=null,it=null,Ht=null,Un=null;return{setTest:function(ct){B||(ct?_e(e.STENCIL_TEST):he(e.STENCIL_TEST))},setMask:function(ct){Pe!==ct&&!B&&(e.stencilMask(ct),Pe=ct)},setFunc:function(ct,Fn,Ii){(re!==ct||le!==Fn||Te!==Ii)&&(e.stencilFunc(ct,Fn,Ii),re=ct,le=Fn,Te=Ii)},setOp:function(ct,Fn,Ii){(Ce!==ct||it!==Fn||Ht!==Ii)&&(e.stencilOp(ct,Fn,Ii),Ce=ct,it=Fn,Ht=Ii)},setLocked:function(ct){B=ct},setClear:function(ct){Un!==ct&&(e.clearStencil(ct),Un=ct)},reset:function(){B=!1,Pe=null,re=null,le=null,Te=null,Ce=null,it=null,Ht=null,Un=null}}}const i=new t,a=new n,o=new r,s=new WeakMap,c=new WeakMap;let u={},l={},f=new WeakMap,d=[],h=null,m=!1,g=null,p=null,v=null,y=null,_=null,S=null,O=null,M=new ut(0,0,0),P=0,D=!1,X=null,$=null,b=null,I=null,T=null;const E=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let A=!1,x=0;const N=e.getParameter(e.VERSION);N.indexOf("WebGL")!==-1?(x=parseFloat(/^WebGL (\d)/.exec(N)[1]),A=x>=1):N.indexOf("OpenGL ES")!==-1&&(x=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),A=x>=2);let R=null,F={};const k=e.getParameter(e.SCISSOR_BOX),ee=e.getParameter(e.VIEWPORT),de=new Ot().fromArray(k),ge=new Ot().fromArray(ee);function j(B,Pe,re,le){const Te=new Uint8Array(4),Ce=e.createTexture();e.bindTexture(B,Ce),e.texParameteri(B,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(B,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let it=0;it<re;it++)B===e.TEXTURE_3D||B===e.TEXTURE_2D_ARRAY?e.texImage3D(Pe,0,e.RGBA,1,1,le,0,e.RGBA,e.UNSIGNED_BYTE,Te):e.texImage2D(Pe+it,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,Te);return Ce}const Z={};Z[e.TEXTURE_2D]=j(e.TEXTURE_2D,e.TEXTURE_2D,1),Z[e.TEXTURE_CUBE_MAP]=j(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),Z[e.TEXTURE_2D_ARRAY]=j(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Z[e.TEXTURE_3D]=j(e.TEXTURE_3D,e.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),_e(e.DEPTH_TEST),a.setFunc(ru),pe(!1),ye(f4),_e(e.CULL_FACE),U(za);function _e(B){u[B]!==!0&&(e.enable(B),u[B]=!0)}function he(B){u[B]!==!1&&(e.disable(B),u[B]=!1)}function we(B,Pe){return l[B]!==Pe?(e.bindFramebuffer(B,Pe),l[B]=Pe,B===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=Pe),B===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=Pe),!0):!1}function Q(B,Pe){let re=d,le=!1;if(B){re=f.get(Pe),re===void 0&&(re=[],f.set(Pe,re));const Te=B.textures;if(re.length!==Te.length||re[0]!==e.COLOR_ATTACHMENT0){for(let Ce=0,it=Te.length;Ce<it;Ce++)re[Ce]=e.COLOR_ATTACHMENT0+Ce;re.length=Te.length,le=!0}}else re[0]!==e.BACK&&(re[0]=e.BACK,le=!0);le&&e.drawBuffers(re)}function se(B){return h!==B?(e.useProgram(B),h=B,!0):!1}const me={[Bo]:e.FUNC_ADD,[IZe]:e.FUNC_SUBTRACT,[OZe]:e.FUNC_REVERSE_SUBTRACT};me[DZe]=e.MIN,me[LZe]=e.MAX;const K={[NZe]:e.ZERO,[UZe]:e.ONE,[FZe]:e.SRC_COLOR,[Xx]:e.SRC_ALPHA,[VZe]:e.SRC_ALPHA_SATURATE,[HZe]:e.DST_COLOR,[BZe]:e.DST_ALPHA,[kZe]:e.ONE_MINUS_SRC_COLOR,[Yx]:e.ONE_MINUS_SRC_ALPHA,[GZe]:e.ONE_MINUS_DST_COLOR,[zZe]:e.ONE_MINUS_DST_ALPHA,[jZe]:e.CONSTANT_COLOR,[WZe]:e.ONE_MINUS_CONSTANT_COLOR,[XZe]:e.CONSTANT_ALPHA,[YZe]:e.ONE_MINUS_CONSTANT_ALPHA};function U(B,Pe,re,le,Te,Ce,it,Ht,Un,ct){if(B===za){m===!0&&(he(e.BLEND),m=!1);return}if(m===!1&&(_e(e.BLEND),m=!0),B!==RZe){if(B!==g||ct!==D){if((p!==Bo||_!==Bo)&&(e.blendEquation(e.FUNC_ADD),p=Bo,_=Bo),ct)switch(B){case Yo:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case d4:e.blendFunc(e.ONE,e.ONE);break;case h4:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case p4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}else switch(B){case Yo:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case d4:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case h4:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case p4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",B);break}v=null,y=null,S=null,O=null,M.set(0,0,0),P=0,g=B,D=ct}return}Te=Te||Pe,Ce=Ce||re,it=it||le,(Pe!==p||Te!==_)&&(e.blendEquationSeparate(me[Pe],me[Te]),p=Pe,_=Te),(re!==v||le!==y||Ce!==S||it!==O)&&(e.blendFuncSeparate(K[re],K[le],K[Ce],K[it]),v=re,y=le,S=Ce,O=it),(Ht.equals(M)===!1||Un!==P)&&(e.blendColor(Ht.r,Ht.g,Ht.b,Un),M.copy(Ht),P=Un),g=B,D=!1}function ue(B,Pe){B.side===Wi?he(e.CULL_FACE):_e(e.CULL_FACE);let re=B.side===Vn;Pe&&(re=!re),pe(re),B.blending===Yo&&B.transparent===!1?U(za):U(B.blending,B.blendEquation,B.blendSrc,B.blendDst,B.blendEquationAlpha,B.blendSrcAlpha,B.blendDstAlpha,B.blendColor,B.blendAlpha,B.premultipliedAlpha),a.setFunc(B.depthFunc),a.setTest(B.depthTest),a.setMask(B.depthWrite),i.setMask(B.colorWrite);const le=B.stencilWrite;o.setTest(le),le&&(o.setMask(B.stencilWriteMask),o.setFunc(B.stencilFunc,B.stencilRef,B.stencilFuncMask),o.setOp(B.stencilFail,B.stencilZFail,B.stencilZPass)),He(B.polygonOffset,B.polygonOffsetFactor,B.polygonOffsetUnits),B.alphaToCoverage===!0?_e(e.SAMPLE_ALPHA_TO_COVERAGE):he(e.SAMPLE_ALPHA_TO_COVERAGE)}function pe(B){X!==B&&(B?e.frontFace(e.CW):e.frontFace(e.CCW),X=B)}function ye(B){B!==AZe?(_e(e.CULL_FACE),B!==$&&(B===f4?e.cullFace(e.BACK):B===PZe?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):he(e.CULL_FACE),$=B}function ve(B){B!==b&&(A&&e.lineWidth(B),b=B)}function He(B,Pe,re){B?(_e(e.POLYGON_OFFSET_FILL),(I!==Pe||T!==re)&&(e.polygonOffset(Pe,re),I=Pe,T=re)):he(e.POLYGON_OFFSET_FILL)}function Ne(B){B?_e(e.SCISSOR_TEST):he(e.SCISSOR_TEST)}function L(B){B===void 0&&(B=e.TEXTURE0+E-1),R!==B&&(e.activeTexture(B),R=B)}function w(B,Pe,re){re===void 0&&(R===null?re=e.TEXTURE0+E-1:re=R);let le=F[re];le===void 0&&(le={type:void 0,texture:void 0},F[re]=le),(le.type!==B||le.texture!==Pe)&&(R!==re&&(e.activeTexture(re),R=re),e.bindTexture(B,Pe||Z[B]),le.type=B,le.texture=Pe)}function H(){const B=F[R];B!==void 0&&B.type!==void 0&&(e.bindTexture(B.type,null),B.type=void 0,B.texture=void 0)}function ie(){try{e.compressedTexImage2D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function ce(){try{e.compressedTexImage3D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function ae(){try{e.texSubImage2D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ae(){try{e.texSubImage3D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Se(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function xe(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function ot(){try{e.texStorage2D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function $e(){try{e.texStorage3D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ie(){try{e.texImage2D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function Ye(){try{e.texImage3D.apply(e,arguments)}catch(B){console.error("THREE.WebGLState:",B)}}function qe(B){de.equals(B)===!1&&(e.scissor(B.x,B.y,B.z,B.w),de.copy(B))}function Oe(B){ge.equals(B)===!1&&(e.viewport(B.x,B.y,B.z,B.w),ge.copy(B))}function rt(B,Pe){let re=c.get(Pe);re===void 0&&(re=new WeakMap,c.set(Pe,re));let le=re.get(B);le===void 0&&(le=e.getUniformBlockIndex(Pe,B.name),re.set(B,le))}function Ke(B,Pe){const le=c.get(Pe).get(B);s.get(Pe)!==le&&(e.uniformBlockBinding(Pe,le,B.__bindingPointIndex),s.set(Pe,le))}function $t(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},R=null,F={},l={},f=new WeakMap,d=[],h=null,m=!1,g=null,p=null,v=null,y=null,_=null,S=null,O=null,M=new ut(0,0,0),P=0,D=!1,X=null,$=null,b=null,I=null,T=null,de.set(0,0,e.canvas.width,e.canvas.height),ge.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}return{buffers:{color:i,depth:a,stencil:o},enable:_e,disable:he,bindFramebuffer:we,drawBuffers:Q,useProgram:se,setBlending:U,setMaterial:ue,setFlipSided:pe,setCullFace:ye,setLineWidth:ve,setPolygonOffset:He,setScissorTest:Ne,activeTexture:L,bindTexture:w,unbindTexture:H,compressedTexImage2D:ie,compressedTexImage3D:ce,texImage2D:Ie,texImage3D:Ye,updateUBOMapping:rt,uniformBlockBinding:Ke,texStorage2D:ot,texStorage3D:$e,texSubImage2D:ae,texSubImage3D:Ae,compressedTexSubImage2D:Se,compressedTexSubImage3D:xe,scissor:qe,viewport:Oe,reset:$t}}function rF(e,t,n,r){const i=$rt(r);switch(n){case LV:return e*t;case UV:return e*t;case FV:return e*t*2;case kV:return e*t/i.components*i.byteLength;case OA:return e*t/i.components*i.byteLength;case BV:return e*t*2/i.components*i.byteLength;case DA:return e*t*2/i.components*i.byteLength;case NV:return e*t*3/i.components*i.byteLength;case Gr:return e*t*4/i.components*i.byteLength;case LA:return e*t*4/i.components*i.byteLength;case Op:case Dp:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Lp:case Np:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ow:case cw:return Math.max(e,16)*Math.max(t,8)/4;case aw:case sw:return Math.max(e,8)*Math.max(t,8)/2;case uw:case lw:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case fw:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case dw:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case hw:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case pw:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case vw:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case mw:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case gw:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case _w:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case yw:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case $w:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case bw:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Sw:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case xw:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case ww:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Ew:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Up:case Tw:case Mw:return Math.ceil(e/4)*Math.ceil(t/4)*16;case zV:case Aw:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Pw:case Cw:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function $rt(e){switch(e){case fa:case IV:return{byteLength:1,components:1};case Ql:case OV:case Kf:return{byteLength:2,components:1};case RA:case IA:return{byteLength:2,components:4};case ds:case CA:case Ki:return{byteLength:4,components:1};case DV:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}function brt(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new tt,l=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(L,w){return h?new OffscreenCanvas(L,w):kv("canvas")}function g(L,w,H){let ie=1;const ce=Ne(L);if((ce.width>H||ce.height>H)&&(ie=H/Math.max(ce.width,ce.height)),ie<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const ae=Math.floor(ie*ce.width),Ae=Math.floor(ie*ce.height);f===void 0&&(f=m(ae,Ae));const Se=w?m(ae,Ae):f;return Se.width=ae,Se.height=Ae,Se.getContext("2d").drawImage(L,0,0,ae,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ce.width+"x"+ce.height+") to ("+ae+"x"+Ae+")."),Se}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ce.width+"x"+ce.height+")."),L;return L}function p(L){return L.generateMipmaps&&L.minFilter!==gr&&L.minFilter!==tr}function v(L){e.generateMipmap(L)}function y(L,w,H,ie,ce=!1){if(L!==null){if(e[L]!==void 0)return e[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let ae=w;if(w===e.RED&&(H===e.FLOAT&&(ae=e.R32F),H===e.HALF_FLOAT&&(ae=e.R16F),H===e.UNSIGNED_BYTE&&(ae=e.R8)),w===e.RED_INTEGER&&(H===e.UNSIGNED_BYTE&&(ae=e.R8UI),H===e.UNSIGNED_SHORT&&(ae=e.R16UI),H===e.UNSIGNED_INT&&(ae=e.R32UI),H===e.BYTE&&(ae=e.R8I),H===e.SHORT&&(ae=e.R16I),H===e.INT&&(ae=e.R32I)),w===e.RG&&(H===e.FLOAT&&(ae=e.RG32F),H===e.HALF_FLOAT&&(ae=e.RG16F),H===e.UNSIGNED_BYTE&&(ae=e.RG8)),w===e.RG_INTEGER&&(H===e.UNSIGNED_BYTE&&(ae=e.RG8UI),H===e.UNSIGNED_SHORT&&(ae=e.RG16UI),H===e.UNSIGNED_INT&&(ae=e.RG32UI),H===e.BYTE&&(ae=e.RG8I),H===e.SHORT&&(ae=e.RG16I),H===e.INT&&(ae=e.RG32I)),w===e.RGB_INTEGER&&(H===e.UNSIGNED_BYTE&&(ae=e.RGB8UI),H===e.UNSIGNED_SHORT&&(ae=e.RGB16UI),H===e.UNSIGNED_INT&&(ae=e.RGB32UI),H===e.BYTE&&(ae=e.RGB8I),H===e.SHORT&&(ae=e.RGB16I),H===e.INT&&(ae=e.RGB32I)),w===e.RGBA_INTEGER&&(H===e.UNSIGNED_BYTE&&(ae=e.RGBA8UI),H===e.UNSIGNED_SHORT&&(ae=e.RGBA16UI),H===e.UNSIGNED_INT&&(ae=e.RGBA32UI),H===e.BYTE&&(ae=e.RGBA8I),H===e.SHORT&&(ae=e.RGBA16I),H===e.INT&&(ae=e.RGBA32I)),w===e.RGB&&H===e.UNSIGNED_INT_5_9_9_9_REV&&(ae=e.RGB9_E5),w===e.RGBA){const Ae=ce?Lv:dt.getTransfer(ie);H===e.FLOAT&&(ae=e.RGBA32F),H===e.HALF_FLOAT&&(ae=e.RGBA16F),H===e.UNSIGNED_BYTE&&(ae=Ae===xt?e.SRGB8_ALPHA8:e.RGBA8),H===e.UNSIGNED_SHORT_4_4_4_4&&(ae=e.RGBA4),H===e.UNSIGNED_SHORT_5_5_5_1&&(ae=e.RGB5_A1)}return(ae===e.R16F||ae===e.R32F||ae===e.RG16F||ae===e.RG32F||ae===e.RGBA16F||ae===e.RGBA32F)&&t.get("EXT_color_buffer_float"),ae}function _(L,w){let H;return L?w===null||w===ds||w===ou?H=e.DEPTH24_STENCIL8:w===Ki?H=e.DEPTH32F_STENCIL8:w===Ql&&(H=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):w===null||w===ds||w===ou?H=e.DEPTH_COMPONENT24:w===Ki?H=e.DEPTH_COMPONENT32F:w===Ql&&(H=e.DEPTH_COMPONENT16),H}function S(L,w){return p(L)===!0||L.isFramebufferTexture&&L.minFilter!==gr&&L.minFilter!==tr?Math.log2(Math.max(w.width,w.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?w.mipmaps.length:1}function O(L){const w=L.target;w.removeEventListener("dispose",O),P(w),w.isVideoTexture&&l.delete(w)}function M(L){const w=L.target;w.removeEventListener("dispose",M),X(w)}function P(L){const w=r.get(L);if(w.__webglInit===void 0)return;const H=L.source,ie=d.get(H);if(ie){const ce=ie[w.__cacheKey];ce.usedTimes--,ce.usedTimes===0&&D(L),Object.keys(ie).length===0&&d.delete(H)}r.remove(L)}function D(L){const w=r.get(L);e.deleteTexture(w.__webglTexture);const H=L.source,ie=d.get(H);delete ie[w.__cacheKey],o.memory.textures--}function X(L){const w=r.get(L);if(L.depthTexture&&L.depthTexture.dispose(),L.isWebGLCubeRenderTarget)for(let ie=0;ie<6;ie++){if(Array.isArray(w.__webglFramebuffer[ie]))for(let ce=0;ce<w.__webglFramebuffer[ie].length;ce++)e.deleteFramebuffer(w.__webglFramebuffer[ie][ce]);else e.deleteFramebuffer(w.__webglFramebuffer[ie]);w.__webglDepthbuffer&&e.deleteRenderbuffer(w.__webglDepthbuffer[ie])}else{if(Array.isArray(w.__webglFramebuffer))for(let ie=0;ie<w.__webglFramebuffer.length;ie++)e.deleteFramebuffer(w.__webglFramebuffer[ie]);else e.deleteFramebuffer(w.__webglFramebuffer);if(w.__webglDepthbuffer&&e.deleteRenderbuffer(w.__webglDepthbuffer),w.__webglMultisampledFramebuffer&&e.deleteFramebuffer(w.__webglMultisampledFramebuffer),w.__webglColorRenderbuffer)for(let ie=0;ie<w.__webglColorRenderbuffer.length;ie++)w.__webglColorRenderbuffer[ie]&&e.deleteRenderbuffer(w.__webglColorRenderbuffer[ie]);w.__webglDepthRenderbuffer&&e.deleteRenderbuffer(w.__webglDepthRenderbuffer)}const H=L.textures;for(let ie=0,ce=H.length;ie<ce;ie++){const ae=r.get(H[ie]);ae.__webglTexture&&(e.deleteTexture(ae.__webglTexture),o.memory.textures--),r.remove(H[ie])}r.remove(L)}let $=0;function b(){$=0}function I(){const L=$;return L>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+i.maxTextures),$+=1,L}function T(L){const w=[];return w.push(L.wrapS),w.push(L.wrapT),w.push(L.wrapR||0),w.push(L.magFilter),w.push(L.minFilter),w.push(L.anisotropy),w.push(L.internalFormat),w.push(L.format),w.push(L.type),w.push(L.generateMipmaps),w.push(L.premultiplyAlpha),w.push(L.flipY),w.push(L.unpackAlignment),w.push(L.colorSpace),w.join()}function E(L,w){const H=r.get(L);if(L.isVideoTexture&&ve(L),L.isRenderTargetTexture===!1&&L.version>0&&H.__version!==L.version){const ie=L.image;if(ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ge(H,L,w);return}}n.bindTexture(e.TEXTURE_2D,H.__webglTexture,e.TEXTURE0+w)}function A(L,w){const H=r.get(L);if(L.version>0&&H.__version!==L.version){ge(H,L,w);return}n.bindTexture(e.TEXTURE_2D_ARRAY,H.__webglTexture,e.TEXTURE0+w)}function x(L,w){const H=r.get(L);if(L.version>0&&H.__version!==L.version){ge(H,L,w);return}n.bindTexture(e.TEXTURE_3D,H.__webglTexture,e.TEXTURE0+w)}function N(L,w){const H=r.get(L);if(L.version>0&&H.__version!==L.version){j(H,L,w);return}n.bindTexture(e.TEXTURE_CUBE_MAP,H.__webglTexture,e.TEXTURE0+w)}const R={[Dv]:e.REPEAT,[li]:e.CLAMP_TO_EDGE,[iw]:e.MIRRORED_REPEAT},F={[gr]:e.NEAREST,[iJe]:e.NEAREST_MIPMAP_NEAREST,[wh]:e.NEAREST_MIPMAP_LINEAR,[tr]:e.LINEAR,[U1]:e.LINEAR_MIPMAP_NEAREST,[Go]:e.LINEAR_MIPMAP_LINEAR},k={[uJe]:e.NEVER,[vJe]:e.ALWAYS,[lJe]:e.LESS,[HV]:e.LEQUAL,[fJe]:e.EQUAL,[pJe]:e.GEQUAL,[dJe]:e.GREATER,[hJe]:e.NOTEQUAL};function ee(L,w){if(w.type===Ki&&t.has("OES_texture_float_linear")===!1&&(w.magFilter===tr||w.magFilter===U1||w.magFilter===wh||w.magFilter===Go||w.minFilter===tr||w.minFilter===U1||w.minFilter===wh||w.minFilter===Go)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(L,e.TEXTURE_WRAP_S,R[w.wrapS]),e.texParameteri(L,e.TEXTURE_WRAP_T,R[w.wrapT]),(L===e.TEXTURE_3D||L===e.TEXTURE_2D_ARRAY)&&e.texParameteri(L,e.TEXTURE_WRAP_R,R[w.wrapR]),e.texParameteri(L,e.TEXTURE_MAG_FILTER,F[w.magFilter]),e.texParameteri(L,e.TEXTURE_MIN_FILTER,F[w.minFilter]),w.compareFunction&&(e.texParameteri(L,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(L,e.TEXTURE_COMPARE_FUNC,k[w.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(w.magFilter===gr||w.minFilter!==wh&&w.minFilter!==Go||w.type===Ki&&t.has("OES_texture_float_linear")===!1)return;if(w.anisotropy>1||r.get(w).__currentAnisotropy){const H=t.get("EXT_texture_filter_anisotropic");e.texParameterf(L,H.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(w.anisotropy,i.getMaxAnisotropy())),r.get(w).__currentAnisotropy=w.anisotropy}}}function de(L,w){let H=!1;L.__webglInit===void 0&&(L.__webglInit=!0,w.addEventListener("dispose",O));const ie=w.source;let ce=d.get(ie);ce===void 0&&(ce={},d.set(ie,ce));const ae=T(w);if(ae!==L.__cacheKey){ce[ae]===void 0&&(ce[ae]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,H=!0),ce[ae].usedTimes++;const Ae=ce[L.__cacheKey];Ae!==void 0&&(ce[L.__cacheKey].usedTimes--,Ae.usedTimes===0&&D(w)),L.__cacheKey=ae,L.__webglTexture=ce[ae].texture}return H}function ge(L,w,H){let ie=e.TEXTURE_2D;(w.isDataArrayTexture||w.isCompressedArrayTexture)&&(ie=e.TEXTURE_2D_ARRAY),w.isData3DTexture&&(ie=e.TEXTURE_3D);const ce=de(L,w),ae=w.source;n.bindTexture(ie,L.__webglTexture,e.TEXTURE0+H);const Ae=r.get(ae);if(ae.version!==Ae.__version||ce===!0){n.activeTexture(e.TEXTURE0+H);const Se=dt.getPrimaries(dt.workingColorSpace),xe=w.colorSpace===La?null:dt.getPrimaries(w.colorSpace),ot=w.colorSpace===La||Se===xe?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,w.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,w.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);let $e=g(w.image,!1,i.maxTextureSize);$e=He(w,$e);const Ie=a.convert(w.format,w.colorSpace),Ye=a.convert(w.type);let qe=y(w.internalFormat,Ie,Ye,w.colorSpace,w.isVideoTexture);ee(ie,w);let Oe;const rt=w.mipmaps,Ke=w.isVideoTexture!==!0,$t=Ae.__version===void 0||ce===!0,B=ae.dataReady,Pe=S(w,$e);if(w.isDepthTexture)qe=_(w.format===su,w.type),$t&&(Ke?n.texStorage2D(e.TEXTURE_2D,1,qe,$e.width,$e.height):n.texImage2D(e.TEXTURE_2D,0,qe,$e.width,$e.height,0,Ie,Ye,null));else if(w.isDataTexture)if(rt.length>0){Ke&&$t&&n.texStorage2D(e.TEXTURE_2D,Pe,qe,rt[0].width,rt[0].height);for(let re=0,le=rt.length;re<le;re++)Oe=rt[re],Ke?B&&n.texSubImage2D(e.TEXTURE_2D,re,0,0,Oe.width,Oe.height,Ie,Ye,Oe.data):n.texImage2D(e.TEXTURE_2D,re,qe,Oe.width,Oe.height,0,Ie,Ye,Oe.data);w.generateMipmaps=!1}else Ke?($t&&n.texStorage2D(e.TEXTURE_2D,Pe,qe,$e.width,$e.height),B&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,$e.width,$e.height,Ie,Ye,$e.data)):n.texImage2D(e.TEXTURE_2D,0,qe,$e.width,$e.height,0,Ie,Ye,$e.data);else if(w.isCompressedTexture)if(w.isCompressedArrayTexture){Ke&&$t&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Pe,qe,rt[0].width,rt[0].height,$e.depth);for(let re=0,le=rt.length;re<le;re++)if(Oe=rt[re],w.format!==Gr)if(Ie!==null)if(Ke){if(B)if(w.layerUpdates.size>0){const Te=rF(Oe.width,Oe.height,w.format,w.type);for(const Ce of w.layerUpdates){const it=Oe.data.subarray(Ce*Te/Oe.data.BYTES_PER_ELEMENT,(Ce+1)*Te/Oe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,re,0,0,Ce,Oe.width,Oe.height,1,Ie,it,0,0)}w.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,re,0,0,0,Oe.width,Oe.height,$e.depth,Ie,Oe.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,re,qe,Oe.width,Oe.height,$e.depth,0,Oe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ke?B&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,re,0,0,0,Oe.width,Oe.height,$e.depth,Ie,Ye,Oe.data):n.texImage3D(e.TEXTURE_2D_ARRAY,re,qe,Oe.width,Oe.height,$e.depth,0,Ie,Ye,Oe.data)}else{Ke&&$t&&n.texStorage2D(e.TEXTURE_2D,Pe,qe,rt[0].width,rt[0].height);for(let re=0,le=rt.length;re<le;re++)Oe=rt[re],w.format!==Gr?Ie!==null?Ke?B&&n.compressedTexSubImage2D(e.TEXTURE_2D,re,0,0,Oe.width,Oe.height,Ie,Oe.data):n.compressedTexImage2D(e.TEXTURE_2D,re,qe,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ke?B&&n.texSubImage2D(e.TEXTURE_2D,re,0,0,Oe.width,Oe.height,Ie,Ye,Oe.data):n.texImage2D(e.TEXTURE_2D,re,qe,Oe.width,Oe.height,0,Ie,Ye,Oe.data)}else if(w.isDataArrayTexture)if(Ke){if($t&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Pe,qe,$e.width,$e.height,$e.depth),B)if(w.layerUpdates.size>0){const re=rF($e.width,$e.height,w.format,w.type);for(const le of w.layerUpdates){const Te=$e.data.subarray(le*re/$e.data.BYTES_PER_ELEMENT,(le+1)*re/$e.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,le,$e.width,$e.height,1,Ie,Ye,Te)}w.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,Ie,Ye,$e.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,qe,$e.width,$e.height,$e.depth,0,Ie,Ye,$e.data);else if(w.isData3DTexture)Ke?($t&&n.texStorage3D(e.TEXTURE_3D,Pe,qe,$e.width,$e.height,$e.depth),B&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,Ie,Ye,$e.data)):n.texImage3D(e.TEXTURE_3D,0,qe,$e.width,$e.height,$e.depth,0,Ie,Ye,$e.data);else if(w.isFramebufferTexture){if($t)if(Ke)n.texStorage2D(e.TEXTURE_2D,Pe,qe,$e.width,$e.height);else{let re=$e.width,le=$e.height;for(let Te=0;Te<Pe;Te++)n.texImage2D(e.TEXTURE_2D,Te,qe,re,le,0,Ie,Ye,null),re>>=1,le>>=1}}else if(rt.length>0){if(Ke&&$t){const re=Ne(rt[0]);n.texStorage2D(e.TEXTURE_2D,Pe,qe,re.width,re.height)}for(let re=0,le=rt.length;re<le;re++)Oe=rt[re],Ke?B&&n.texSubImage2D(e.TEXTURE_2D,re,0,0,Ie,Ye,Oe):n.texImage2D(e.TEXTURE_2D,re,qe,Ie,Ye,Oe);w.generateMipmaps=!1}else if(Ke){if($t){const re=Ne($e);n.texStorage2D(e.TEXTURE_2D,Pe,qe,re.width,re.height)}B&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,Ie,Ye,$e)}else n.texImage2D(e.TEXTURE_2D,0,qe,Ie,Ye,$e);p(w)&&v(ie),Ae.__version=ae.version,w.onUpdate&&w.onUpdate(w)}L.__version=w.version}function j(L,w,H){if(w.image.length!==6)return;const ie=de(L,w),ce=w.source;n.bindTexture(e.TEXTURE_CUBE_MAP,L.__webglTexture,e.TEXTURE0+H);const ae=r.get(ce);if(ce.version!==ae.__version||ie===!0){n.activeTexture(e.TEXTURE0+H);const Ae=dt.getPrimaries(dt.workingColorSpace),Se=w.colorSpace===La?null:dt.getPrimaries(w.colorSpace),xe=w.colorSpace===La||Ae===Se?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,w.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,w.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,xe);const ot=w.isCompressedTexture||w.image[0].isCompressedTexture,$e=w.image[0]&&w.image[0].isDataTexture,Ie=[];for(let le=0;le<6;le++)!ot&&!$e?Ie[le]=g(w.image[le],!0,i.maxCubemapSize):Ie[le]=$e?w.image[le].image:w.image[le],Ie[le]=He(w,Ie[le]);const Ye=Ie[0],qe=a.convert(w.format,w.colorSpace),Oe=a.convert(w.type),rt=y(w.internalFormat,qe,Oe,w.colorSpace),Ke=w.isVideoTexture!==!0,$t=ae.__version===void 0||ie===!0,B=ce.dataReady;let Pe=S(w,Ye);ee(e.TEXTURE_CUBE_MAP,w);let re;if(ot){Ke&&$t&&n.texStorage2D(e.TEXTURE_CUBE_MAP,Pe,rt,Ye.width,Ye.height);for(let le=0;le<6;le++){re=Ie[le].mipmaps;for(let Te=0;Te<re.length;Te++){const Ce=re[Te];w.format!==Gr?qe!==null?Ke?B&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,Ce.width,Ce.height,qe,Ce.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,rt,Ce.width,Ce.height,0,Ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ke?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,Ce.width,Ce.height,qe,Oe,Ce.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,rt,Ce.width,Ce.height,0,qe,Oe,Ce.data)}}}else{if(re=w.mipmaps,Ke&&$t){re.length>0&&Pe++;const le=Ne(Ie[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,Pe,rt,le.width,le.height)}for(let le=0;le<6;le++)if($e){Ke?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,Ie[le].width,Ie[le].height,qe,Oe,Ie[le].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,rt,Ie[le].width,Ie[le].height,0,qe,Oe,Ie[le].data);for(let Te=0;Te<re.length;Te++){const it=re[Te].image[le].image;Ke?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,it.width,it.height,qe,Oe,it.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,rt,it.width,it.height,0,qe,Oe,it.data)}}else{Ke?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,qe,Oe,Ie[le]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,rt,qe,Oe,Ie[le]);for(let Te=0;Te<re.length;Te++){const Ce=re[Te];Ke?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,qe,Oe,Ce.image[le]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,rt,qe,Oe,Ce.image[le])}}}p(w)&&v(e.TEXTURE_CUBE_MAP),ae.__version=ce.version,w.onUpdate&&w.onUpdate(w)}L.__version=w.version}function Z(L,w,H,ie,ce,ae){const Ae=a.convert(H.format,H.colorSpace),Se=a.convert(H.type),xe=y(H.internalFormat,Ae,Se,H.colorSpace);if(!r.get(w).__hasExternalTextures){const $e=Math.max(1,w.width>>ae),Ie=Math.max(1,w.height>>ae);ce===e.TEXTURE_3D||ce===e.TEXTURE_2D_ARRAY?n.texImage3D(ce,ae,xe,$e,Ie,w.depth,0,Ae,Se,null):n.texImage2D(ce,ae,xe,$e,Ie,0,Ae,Se,null)}n.bindFramebuffer(e.FRAMEBUFFER,L),ye(w)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,ie,ce,r.get(H).__webglTexture,0,pe(w)):(ce===e.TEXTURE_2D||ce>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&ce<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,ie,ce,r.get(H).__webglTexture,ae),n.bindFramebuffer(e.FRAMEBUFFER,null)}function _e(L,w,H){if(e.bindRenderbuffer(e.RENDERBUFFER,L),w.depthBuffer){const ie=w.depthTexture,ce=ie&&ie.isDepthTexture?ie.type:null,ae=_(w.stencilBuffer,ce),Ae=w.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Se=pe(w);ye(w)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,Se,ae,w.width,w.height):H?e.renderbufferStorageMultisample(e.RENDERBUFFER,Se,ae,w.width,w.height):e.renderbufferStorage(e.RENDERBUFFER,ae,w.width,w.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,Ae,e.RENDERBUFFER,L)}else{const ie=w.textures;for(let ce=0;ce<ie.length;ce++){const ae=ie[ce],Ae=a.convert(ae.format,ae.colorSpace),Se=a.convert(ae.type),xe=y(ae.internalFormat,Ae,Se,ae.colorSpace),ot=pe(w);H&&ye(w)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,ot,xe,w.width,w.height):ye(w)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,ot,xe,w.width,w.height):e.renderbufferStorage(e.RENDERBUFFER,xe,w.width,w.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function he(L,w){if(w&&w.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,L),!(w.depthTexture&&w.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(w.depthTexture).__webglTexture||w.depthTexture.image.width!==w.width||w.depthTexture.image.height!==w.height)&&(w.depthTexture.image.width=w.width,w.depthTexture.image.height=w.height,w.depthTexture.needsUpdate=!0),E(w.depthTexture,0);const ie=r.get(w.depthTexture).__webglTexture,ce=pe(w);if(w.depthTexture.format===Bc)ye(w)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,ie,0,ce):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,ie,0);else if(w.depthTexture.format===su)ye(w)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,ie,0,ce):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,ie,0);else throw new Error("Unknown depthTexture format")}function we(L){const w=r.get(L),H=L.isWebGLCubeRenderTarget===!0;if(w.__boundDepthTexture!==L.depthTexture){const ie=L.depthTexture;if(w.__depthDisposeCallback&&w.__depthDisposeCallback(),ie){const ce=()=>{delete w.__boundDepthTexture,delete w.__depthDisposeCallback,ie.removeEventListener("dispose",ce)};ie.addEventListener("dispose",ce),w.__depthDisposeCallback=ce}w.__boundDepthTexture=ie}if(L.depthTexture&&!w.__autoAllocateDepthBuffer){if(H)throw new Error("target.depthTexture not supported in Cube render targets");he(w.__webglFramebuffer,L)}else if(H){w.__webglDepthbuffer=[];for(let ie=0;ie<6;ie++)if(n.bindFramebuffer(e.FRAMEBUFFER,w.__webglFramebuffer[ie]),w.__webglDepthbuffer[ie]===void 0)w.__webglDepthbuffer[ie]=e.createRenderbuffer(),_e(w.__webglDepthbuffer[ie],L,!1);else{const ce=L.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,ae=w.__webglDepthbuffer[ie];e.bindRenderbuffer(e.RENDERBUFFER,ae),e.framebufferRenderbuffer(e.FRAMEBUFFER,ce,e.RENDERBUFFER,ae)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,w.__webglFramebuffer),w.__webglDepthbuffer===void 0)w.__webglDepthbuffer=e.createRenderbuffer(),_e(w.__webglDepthbuffer,L,!1);else{const ie=L.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,ce=w.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,ce),e.framebufferRenderbuffer(e.FRAMEBUFFER,ie,e.RENDERBUFFER,ce)}n.bindFramebuffer(e.FRAMEBUFFER,null)}function Q(L,w,H){const ie=r.get(L);w!==void 0&&Z(ie.__webglFramebuffer,L,L.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),H!==void 0&&we(L)}function se(L){const w=L.texture,H=r.get(L),ie=r.get(w);L.addEventListener("dispose",M);const ce=L.textures,ae=L.isWebGLCubeRenderTarget===!0,Ae=ce.length>1;if(Ae||(ie.__webglTexture===void 0&&(ie.__webglTexture=e.createTexture()),ie.__version=w.version,o.memory.textures++),ae){H.__webglFramebuffer=[];for(let Se=0;Se<6;Se++)if(w.mipmaps&&w.mipmaps.length>0){H.__webglFramebuffer[Se]=[];for(let xe=0;xe<w.mipmaps.length;xe++)H.__webglFramebuffer[Se][xe]=e.createFramebuffer()}else H.__webglFramebuffer[Se]=e.createFramebuffer()}else{if(w.mipmaps&&w.mipmaps.length>0){H.__webglFramebuffer=[];for(let Se=0;Se<w.mipmaps.length;Se++)H.__webglFramebuffer[Se]=e.createFramebuffer()}else H.__webglFramebuffer=e.createFramebuffer();if(Ae)for(let Se=0,xe=ce.length;Se<xe;Se++){const ot=r.get(ce[Se]);ot.__webglTexture===void 0&&(ot.__webglTexture=e.createTexture(),o.memory.textures++)}if(L.samples>0&&ye(L)===!1){H.__webglMultisampledFramebuffer=e.createFramebuffer(),H.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,H.__webglMultisampledFramebuffer);for(let Se=0;Se<ce.length;Se++){const xe=ce[Se];H.__webglColorRenderbuffer[Se]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,H.__webglColorRenderbuffer[Se]);const ot=a.convert(xe.format,xe.colorSpace),$e=a.convert(xe.type),Ie=y(xe.internalFormat,ot,$e,xe.colorSpace,L.isXRRenderTarget===!0),Ye=pe(L);e.renderbufferStorageMultisample(e.RENDERBUFFER,Ye,Ie,L.width,L.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+Se,e.RENDERBUFFER,H.__webglColorRenderbuffer[Se])}e.bindRenderbuffer(e.RENDERBUFFER,null),L.depthBuffer&&(H.__webglDepthRenderbuffer=e.createRenderbuffer(),_e(H.__webglDepthRenderbuffer,L,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(ae){n.bindTexture(e.TEXTURE_CUBE_MAP,ie.__webglTexture),ee(e.TEXTURE_CUBE_MAP,w);for(let Se=0;Se<6;Se++)if(w.mipmaps&&w.mipmaps.length>0)for(let xe=0;xe<w.mipmaps.length;xe++)Z(H.__webglFramebuffer[Se][xe],L,w,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Se,xe);else Z(H.__webglFramebuffer[Se],L,w,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0);p(w)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){for(let Se=0,xe=ce.length;Se<xe;Se++){const ot=ce[Se],$e=r.get(ot);n.bindTexture(e.TEXTURE_2D,$e.__webglTexture),ee(e.TEXTURE_2D,ot),Z(H.__webglFramebuffer,L,ot,e.COLOR_ATTACHMENT0+Se,e.TEXTURE_2D,0),p(ot)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let Se=e.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(Se=L.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(Se,ie.__webglTexture),ee(Se,w),w.mipmaps&&w.mipmaps.length>0)for(let xe=0;xe<w.mipmaps.length;xe++)Z(H.__webglFramebuffer[xe],L,w,e.COLOR_ATTACHMENT0,Se,xe);else Z(H.__webglFramebuffer,L,w,e.COLOR_ATTACHMENT0,Se,0);p(w)&&v(Se),n.unbindTexture()}L.depthBuffer&&we(L)}function me(L){const w=L.textures;for(let H=0,ie=w.length;H<ie;H++){const ce=w[H];if(p(ce)){const ae=L.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,Ae=r.get(ce).__webglTexture;n.bindTexture(ae,Ae),v(ae),n.unbindTexture()}}}const K=[],U=[];function ue(L){if(L.samples>0){if(ye(L)===!1){const w=L.textures,H=L.width,ie=L.height;let ce=e.COLOR_BUFFER_BIT;const ae=L.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Ae=r.get(L),Se=w.length>1;if(Se)for(let xe=0;xe<w.length;xe++)n.bindFramebuffer(e.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+xe,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,Ae.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+xe,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let xe=0;xe<w.length;xe++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(ce|=e.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(ce|=e.STENCIL_BUFFER_BIT)),Se){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,Ae.__webglColorRenderbuffer[xe]);const ot=r.get(w[xe]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,ot,0)}e.blitFramebuffer(0,0,H,ie,0,0,H,ie,ce,e.NEAREST),c===!0&&(K.length=0,U.length=0,K.push(e.COLOR_ATTACHMENT0+xe),L.depthBuffer&&L.resolveDepthBuffer===!1&&(K.push(ae),U.push(ae),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,U)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,K))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),Se)for(let xe=0;xe<w.length;xe++){n.bindFramebuffer(e.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+xe,e.RENDERBUFFER,Ae.__webglColorRenderbuffer[xe]);const ot=r.get(w[xe]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,Ae.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+xe,e.TEXTURE_2D,ot,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&c){const w=L.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[w])}}}function pe(L){return Math.min(i.maxSamples,L.samples)}function ye(L){const w=r.get(L);return L.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&w.__useRenderToTexture!==!1}function ve(L){const w=o.render.frame;l.get(L)!==w&&(l.set(L,w),L.update())}function He(L,w){const H=L.colorSpace,ie=L.format,ce=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||H!==_o&&H!==La&&(dt.getTransfer(H)===xt?(ie!==Gr||ce!==fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",H)),w}function Ne(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(u.width=L.naturalWidth||L.width,u.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(u.width=L.displayWidth,u.height=L.displayHeight):(u.width=L.width,u.height=L.height),u}this.allocateTextureUnit=I,this.resetTextureUnits=b,this.setTexture2D=E,this.setTexture2DArray=A,this.setTexture3D=x,this.setTextureCube=N,this.rebindTextures=Q,this.setupRenderTarget=se,this.updateRenderTargetMipmap=me,this.updateMultisampleRenderTarget=ue,this.setupDepthRenderbuffer=we,this.setupFrameBufferTexture=Z,this.useMultisampledRTT=ye}function Srt(e,t){function n(r,i=La){let a;const o=dt.getTransfer(i);if(r===fa)return e.UNSIGNED_BYTE;if(r===RA)return e.UNSIGNED_SHORT_4_4_4_4;if(r===IA)return e.UNSIGNED_SHORT_5_5_5_1;if(r===DV)return e.UNSIGNED_INT_5_9_9_9_REV;if(r===IV)return e.BYTE;if(r===OV)return e.SHORT;if(r===Ql)return e.UNSIGNED_SHORT;if(r===CA)return e.INT;if(r===ds)return e.UNSIGNED_INT;if(r===Ki)return e.FLOAT;if(r===Kf)return e.HALF_FLOAT;if(r===LV)return e.ALPHA;if(r===NV)return e.RGB;if(r===Gr)return e.RGBA;if(r===UV)return e.LUMINANCE;if(r===FV)return e.LUMINANCE_ALPHA;if(r===Bc)return e.DEPTH_COMPONENT;if(r===su)return e.DEPTH_STENCIL;if(r===kV)return e.RED;if(r===OA)return e.RED_INTEGER;if(r===BV)return e.RG;if(r===DA)return e.RG_INTEGER;if(r===LA)return e.RGBA_INTEGER;if(r===Op||r===Dp||r===Lp||r===Np)if(o===xt)if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Op)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Dp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Lp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Np)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Op)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Dp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Lp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Np)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===aw||r===ow||r===sw||r===cw)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===aw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ow)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===sw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===cw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===uw||r===lw||r===fw)if(a=t.get("WEBGL_compressed_texture_etc"),a!==null){if(r===uw||r===lw)return o===xt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===fw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===dw||r===hw||r===pw||r===vw||r===mw||r===gw||r===_w||r===yw||r===$w||r===bw||r===Sw||r===xw||r===ww||r===Ew)if(a=t.get("WEBGL_compressed_texture_astc"),a!==null){if(r===dw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===hw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===pw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===vw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===mw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===gw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===_w)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===yw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===$w)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===bw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Sw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===xw)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===ww)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ew)return o===xt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Up||r===Tw||r===Mw)if(a=t.get("EXT_texture_compression_bptc"),a!==null){if(r===Up)return o===xt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Tw)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Mw)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===zV||r===Aw||r===Pw||r===Cw)if(a=t.get("EXT_texture_compression_rgtc"),a!==null){if(r===Up)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Aw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Pw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Cw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ou?e.UNSIGNED_INT_24_8:e[r]!==void 0?e[r]:null}return{convert:n}}class xrt extends hr{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class jh extends vn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wrt={type:"move"};class hb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const n=this._hand;if(n)for(const r of t.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,n,r){let i=null,a=null,o=null;const s=this._targetRay,c=this._grip,u=this._hand;if(t&&n.session.visibilityState!=="visible-blurred"){if(u&&t.hand){o=!0;for(const g of t.hand.values()){const p=n.getJointPose(g,r),v=this._getHandJoint(u,g);p!==null&&(v.matrix.fromArray(p.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=p.radius),v.visible=p!==null}const l=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=l.position.distanceTo(f.position),h=.02,m=.005;u.inputState.pinching&&d>h+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&d<=h-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else c!==null&&t.gripSpace&&(a=n.getPose(t.gripSpace,r),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));s!==null&&(i=n.getPose(t.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(wrt)))}return s!==null&&(s.visible=i!==null),c!==null&&(c.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(t,n){if(t.joints[n.jointName]===void 0){const r=new jh;r.matrixAutoUpdate=!1,r.visible=!1,t.joints[n.jointName]=r,t.add(r)}return t.joints[n.jointName]}}const Ert=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Trt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Mrt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,n,r){if(this.texture===null){const i=new In,a=t.properties.get(i);a.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(t){if(this.texture!==null&&this.mesh===null){const n=t.cameras[0].viewport,r=new da({vertexShader:Ert,fragmentShader:Trt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Vr(new U_(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Art extends xu{constructor(t,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",c=1,u=null,l=null,f=null,d=null,h=null,m=null;const g=new Mrt,p=n.getContextAttributes();let v=null,y=null;const _=[],S=[],O=new tt;let M=null;const P=new hr;P.layers.enable(1),P.viewport=new Ot;const D=new hr;D.layers.enable(2),D.viewport=new Ot;const X=[P,D],$=new xrt;$.layers.enable(1),$.layers.enable(2);let b=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let Z=_[j];return Z===void 0&&(Z=new hb,_[j]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(j){let Z=_[j];return Z===void 0&&(Z=new hb,_[j]=Z),Z.getGripSpace()},this.getHand=function(j){let Z=_[j];return Z===void 0&&(Z=new hb,_[j]=Z),Z.getHandSpace()};function T(j){const Z=S.indexOf(j.inputSource);if(Z===-1)return;const _e=_[Z];_e!==void 0&&(_e.update(j.inputSource,j.frame,u||o),_e.dispatchEvent({type:j.type,data:j.inputSource}))}function E(){i.removeEventListener("select",T),i.removeEventListener("selectstart",T),i.removeEventListener("selectend",T),i.removeEventListener("squeeze",T),i.removeEventListener("squeezestart",T),i.removeEventListener("squeezeend",T),i.removeEventListener("end",E),i.removeEventListener("inputsourceschange",A);for(let j=0;j<_.length;j++){const Z=S[j];Z!==null&&(S[j]=null,_[j].disconnect(Z))}b=null,I=null,g.reset(),t.setRenderTarget(v),h=null,d=null,f=null,i=null,y=null,ge.stop(),r.isPresenting=!1,t.setPixelRatio(M),t.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){a=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){s=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(j){u=j},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(j){if(i=j,i!==null){if(v=t.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",E),i.addEventListener("inputsourceschange",A),p.xrCompatible!==!0&&await n.makeXRCompatible(),M=t.getPixelRatio(),t.getSize(O),i.renderState.layers===void 0){const Z={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),t.setPixelRatio(1),t.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new hs(h.framebufferWidth,h.framebufferHeight,{format:Gr,type:fa,colorSpace:t.outputColorSpace,stencilBuffer:p.stencil})}else{let Z=null,_e=null,he=null;p.depth&&(he=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=p.stencil?su:Bc,_e=p.stencil?ou:ds);const we={colorFormat:n.RGBA8,depthFormat:he,scaleFactor:a};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(we),i.updateRenderState({layers:[d]}),t.setPixelRatio(1),t.setSize(d.textureWidth,d.textureHeight,!1),y=new hs(d.textureWidth,d.textureHeight,{format:Gr,type:fa,depthTexture:new tj(d.textureWidth,d.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:p.stencil,colorSpace:t.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(s),ge.setContext(i),ge.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function A(j){for(let Z=0;Z<j.removed.length;Z++){const _e=j.removed[Z],he=S.indexOf(_e);he>=0&&(S[he]=null,_[he].disconnect(_e))}for(let Z=0;Z<j.added.length;Z++){const _e=j.added[Z];let he=S.indexOf(_e);if(he===-1){for(let Q=0;Q<_.length;Q++)if(Q>=S.length){S.push(_e),he=Q;break}else if(S[Q]===null){S[Q]=_e,he=Q;break}if(he===-1)break}const we=_[he];we&&we.connect(_e)}}const x=new W,N=new W;function R(j,Z,_e){x.setFromMatrixPosition(Z.matrixWorld),N.setFromMatrixPosition(_e.matrixWorld);const he=x.distanceTo(N),we=Z.projectionMatrix.elements,Q=_e.projectionMatrix.elements,se=we[14]/(we[10]-1),me=we[14]/(we[10]+1),K=(we[9]+1)/we[5],U=(we[9]-1)/we[5],ue=(we[8]-1)/we[0],pe=(Q[8]+1)/Q[0],ye=se*ue,ve=se*pe,He=he/(-ue+pe),Ne=He*-ue;if(Z.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Ne),j.translateZ(He),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert(),we[10]===-1)j.projectionMatrix.copy(Z.projectionMatrix),j.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{const L=se+He,w=me+He,H=ye-Ne,ie=ve+(he-Ne),ce=K*me/w*L,ae=U*me/w*L;j.projectionMatrix.makePerspective(H,ie,ce,ae,L,w),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}}function F(j,Z){Z===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(Z.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(i===null)return;let Z=j.near,_e=j.far;g.texture!==null&&(g.depthNear>0&&(Z=g.depthNear),g.depthFar>0&&(_e=g.depthFar)),$.near=D.near=P.near=Z,$.far=D.far=P.far=_e,(b!==$.near||I!==$.far)&&(i.updateRenderState({depthNear:$.near,depthFar:$.far}),b=$.near,I=$.far);const he=j.parent,we=$.cameras;F($,he);for(let Q=0;Q<we.length;Q++)F(we[Q],he);we.length===2?R($,P,D):$.projectionMatrix.copy(P.projectionMatrix),k(j,$,he)};function k(j,Z,_e){_e===null?j.matrix.copy(Z.matrixWorld):(j.matrix.copy(_e.matrixWorld),j.matrix.invert(),j.matrix.multiply(Z.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0),j.projectionMatrix.copy(Z.projectionMatrix),j.projectionMatrixInverse.copy(Z.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=Iw*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(d===null&&h===null))return c},this.setFoveation=function(j){c=j,d!==null&&(d.fixedFoveation=j),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=j)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh($)};let ee=null;function de(j,Z){if(l=Z.getViewerPose(u||o),m=Z,l!==null){const _e=l.views;h!==null&&(t.setRenderTargetFramebuffer(y,h.framebuffer),t.setRenderTarget(y));let he=!1;_e.length!==$.cameras.length&&($.cameras.length=0,he=!0);for(let Q=0;Q<_e.length;Q++){const se=_e[Q];let me=null;if(h!==null)me=h.getViewport(se);else{const U=f.getViewSubImage(d,se);me=U.viewport,Q===0&&(t.setRenderTargetTextures(y,U.colorTexture,d.ignoreDepthValues?void 0:U.depthStencilTexture),t.setRenderTarget(y))}let K=X[Q];K===void 0&&(K=new hr,K.layers.enable(Q),K.viewport=new Ot,X[Q]=K),K.matrix.fromArray(se.transform.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale),K.projectionMatrix.fromArray(se.projectionMatrix),K.projectionMatrixInverse.copy(K.projectionMatrix).invert(),K.viewport.set(me.x,me.y,me.width,me.height),Q===0&&($.matrix.copy(K.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),he===!0&&$.cameras.push(K)}const we=i.enabledFeatures;if(we&&we.includes("depth-sensing")){const Q=f.getDepthInformation(_e[0]);Q&&Q.isValid&&Q.texture&&g.init(t,Q,i.renderState)}}for(let _e=0;_e<_.length;_e++){const he=S[_e],we=_[_e];he!==null&&we!==void 0&&we.update(he,Z,u||o)}ee&&ee(j,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),m=null}const ge=new QV;ge.setAnimationLoop(de),this.setAnimationLoop=function(j){ee=j},this.dispose=function(){}}}const Po=new Ei,Prt=new At;function Crt(e,t){function n(p,v){p.matrixAutoUpdate===!0&&p.updateMatrix(),v.value.copy(p.matrix)}function r(p,v){v.color.getRGB(p.fogColor.value,KV(e)),v.isFog?(p.fogNear.value=v.near,p.fogFar.value=v.far):v.isFogExp2&&(p.fogDensity.value=v.density)}function i(p,v,y,_,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(p,v):v.isMeshToonMaterial?(a(p,v),f(p,v)):v.isMeshPhongMaterial?(a(p,v),l(p,v)):v.isMeshStandardMaterial?(a(p,v),d(p,v),v.isMeshPhysicalMaterial&&h(p,v,S)):v.isMeshMatcapMaterial?(a(p,v),m(p,v)):v.isMeshDepthMaterial?a(p,v):v.isMeshDistanceMaterial?(a(p,v),g(p,v)):v.isMeshNormalMaterial?a(p,v):v.isLineBasicMaterial?(o(p,v),v.isLineDashedMaterial&&s(p,v)):v.isPointsMaterial?c(p,v,y,_):v.isSpriteMaterial?u(p,v):v.isShadowMaterial?(p.color.value.copy(v.color),p.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(p,v){p.opacity.value=v.opacity,v.color&&p.diffuse.value.copy(v.color),v.emissive&&p.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(p.map.value=v.map,n(v.map,p.mapTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.bumpMap&&(p.bumpMap.value=v.bumpMap,n(v.bumpMap,p.bumpMapTransform),p.bumpScale.value=v.bumpScale,v.side===Vn&&(p.bumpScale.value*=-1)),v.normalMap&&(p.normalMap.value=v.normalMap,n(v.normalMap,p.normalMapTransform),p.normalScale.value.copy(v.normalScale),v.side===Vn&&p.normalScale.value.negate()),v.displacementMap&&(p.displacementMap.value=v.displacementMap,n(v.displacementMap,p.displacementMapTransform),p.displacementScale.value=v.displacementScale,p.displacementBias.value=v.displacementBias),v.emissiveMap&&(p.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,p.emissiveMapTransform)),v.specularMap&&(p.specularMap.value=v.specularMap,n(v.specularMap,p.specularMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest);const y=t.get(v),_=y.envMap,S=y.envMapRotation;_&&(p.envMap.value=_,Po.copy(S),Po.x*=-1,Po.y*=-1,Po.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Po.y*=-1,Po.z*=-1),p.envMapRotation.value.setFromMatrix4(Prt.makeRotationFromEuler(Po)),p.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=v.reflectivity,p.ior.value=v.ior,p.refractionRatio.value=v.refractionRatio),v.lightMap&&(p.lightMap.value=v.lightMap,p.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,p.lightMapTransform)),v.aoMap&&(p.aoMap.value=v.aoMap,p.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,p.aoMapTransform))}function o(p,v){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,v.map&&(p.map.value=v.map,n(v.map,p.mapTransform))}function s(p,v){p.dashSize.value=v.dashSize,p.totalSize.value=v.dashSize+v.gapSize,p.scale.value=v.scale}function c(p,v,y,_){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,p.size.value=v.size*y,p.scale.value=_*.5,v.map&&(p.map.value=v.map,n(v.map,p.uvTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest)}function u(p,v){p.diffuse.value.copy(v.color),p.opacity.value=v.opacity,p.rotation.value=v.rotation,v.map&&(p.map.value=v.map,n(v.map,p.mapTransform)),v.alphaMap&&(p.alphaMap.value=v.alphaMap,n(v.alphaMap,p.alphaMapTransform)),v.alphaTest>0&&(p.alphaTest.value=v.alphaTest)}function l(p,v){p.specular.value.copy(v.specular),p.shininess.value=Math.max(v.shininess,1e-4)}function f(p,v){v.gradientMap&&(p.gradientMap.value=v.gradientMap)}function d(p,v){p.metalness.value=v.metalness,v.metalnessMap&&(p.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,p.metalnessMapTransform)),p.roughness.value=v.roughness,v.roughnessMap&&(p.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,p.roughnessMapTransform)),v.envMap&&(p.envMapIntensity.value=v.envMapIntensity)}function h(p,v,y){p.ior.value=v.ior,v.sheen>0&&(p.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),p.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(p.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,p.sheenColorMapTransform)),v.sheenRoughnessMap&&(p.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,p.sheenRoughnessMapTransform))),v.clearcoat>0&&(p.clearcoat.value=v.clearcoat,p.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(p.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,p.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(p.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Vn&&p.clearcoatNormalScale.value.negate())),v.dispersion>0&&(p.dispersion.value=v.dispersion),v.iridescence>0&&(p.iridescence.value=v.iridescence,p.iridescenceIOR.value=v.iridescenceIOR,p.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(p.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,p.iridescenceMapTransform)),v.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),v.transmission>0&&(p.transmission.value=v.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),v.transmissionMap&&(p.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,p.transmissionMapTransform)),p.thickness.value=v.thickness,v.thicknessMap&&(p.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=v.attenuationDistance,p.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(p.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(p.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=v.specularIntensity,p.specularColor.value.copy(v.specularColor),v.specularColorMap&&(p.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,p.specularColorMapTransform)),v.specularIntensityMap&&(p.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,p.specularIntensityMapTransform))}function m(p,v){v.matcap&&(p.matcap.value=v.matcap)}function g(p,v){const y=t.get(v).light;p.referencePosition.value.setFromMatrixPosition(y.matrixWorld),p.nearDistance.value=y.shadow.camera.near,p.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Rrt(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function c(y,_){const S=_.program;r.uniformBlockBinding(y,S)}function u(y,_){let S=i[y.id];S===void 0&&(m(y),S=l(y),i[y.id]=S,y.addEventListener("dispose",p));const O=_.program;r.updateUBOMapping(y,O);const M=t.render.frame;a[y.id]!==M&&(d(y),a[y.id]=M)}function l(y){const _=f();y.__bindingPointIndex=_;const S=e.createBuffer(),O=y.__size,M=y.usage;return e.bindBuffer(e.UNIFORM_BUFFER,S),e.bufferData(e.UNIFORM_BUFFER,O,M),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,_,S),S}function f(){for(let y=0;y<s;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const _=i[y.id],S=y.uniforms,O=y.__cache;e.bindBuffer(e.UNIFORM_BUFFER,_);for(let M=0,P=S.length;M<P;M++){const D=Array.isArray(S[M])?S[M]:[S[M]];for(let X=0,$=D.length;X<$;X++){const b=D[X];if(h(b,M,X,O)===!0){const I=b.__offset,T=Array.isArray(b.value)?b.value:[b.value];let E=0;for(let A=0;A<T.length;A++){const x=T[A],N=g(x);typeof x=="number"||typeof x=="boolean"?(b.__data[0]=x,e.bufferSubData(e.UNIFORM_BUFFER,I+E,b.__data)):x.isMatrix3?(b.__data[0]=x.elements[0],b.__data[1]=x.elements[1],b.__data[2]=x.elements[2],b.__data[3]=0,b.__data[4]=x.elements[3],b.__data[5]=x.elements[4],b.__data[6]=x.elements[5],b.__data[7]=0,b.__data[8]=x.elements[6],b.__data[9]=x.elements[7],b.__data[10]=x.elements[8],b.__data[11]=0):(x.toArray(b.__data,E),E+=N.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,I,b.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function h(y,_,S,O){const M=y.value,P=_+"_"+S;if(O[P]===void 0)return typeof M=="number"||typeof M=="boolean"?O[P]=M:O[P]=M.clone(),!0;{const D=O[P];if(typeof M=="number"||typeof M=="boolean"){if(D!==M)return O[P]=M,!0}else if(D.equals(M)===!1)return D.copy(M),!0}return!1}function m(y){const _=y.uniforms;let S=0;const O=16;for(let P=0,D=_.length;P<D;P++){const X=Array.isArray(_[P])?_[P]:[_[P]];for(let $=0,b=X.length;$<b;$++){const I=X[$],T=Array.isArray(I.value)?I.value:[I.value];for(let E=0,A=T.length;E<A;E++){const x=T[E],N=g(x),R=S%O,F=R%N.boundary,k=R+F;S+=F,k!==0&&O-k<N.storage&&(S+=O-k),I.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=S,S+=N.storage}}}const M=S%O;return M>0&&(S+=O-M),y.__size=S,y.__cache={},this}function g(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function p(y){const _=y.target;_.removeEventListener("dispose",p);const S=o.indexOf(_.__bindingPointIndex);o.splice(S,1),e.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function v(){for(const y in i)e.deleteBuffer(i[y]);o=[],i={},a={}}return{bind:c,update:u,dispose:v}}class Irt{constructor(t={}){const{canvas:n=gJe(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:l="default",failIfMajorPerformanceCaveat:f=!1}=t;this.isWebGLRenderer=!0;let d;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=r.getContextAttributes().alpha}else d=o;const h=new Uint32Array(4),m=new Int32Array(4);let g=null,p=null;const v=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=oi,this.toneMapping=Ha,this.toneMappingExposure=1;const _=this;let S=!1,O=0,M=0,P=null,D=-1,X=null;const $=new Ot,b=new Ot;let I=null;const T=new ut(0);let E=0,A=n.width,x=n.height,N=1,R=null,F=null;const k=new Ot(0,0,A,x),ee=new Ot(0,0,A,x);let de=!1;const ge=new BA;let j=!1,Z=!1;const _e=new At,he=new At,we=new W,Q=new Ot,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let me=!1;function K(){return P===null?N:1}let U=r;function ue(C,G){return n.getContext(C,G)}try{const C={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${PA}`),n.addEventListener("webglcontextlost",le,!1),n.addEventListener("webglcontextrestored",Te,!1),n.addEventListener("webglcontextcreationerror",Ce,!1),U===null){const G="webgl2";if(U=ue(G,C),U===null)throw ue(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(C){throw console.error("THREE.WebGLRenderer: "+C.message),C}let pe,ye,ve,He,Ne,L,w,H,ie,ce,ae,Ae,Se,xe,ot,$e,Ie,Ye,qe,Oe,rt,Ke,$t,B;function Pe(){pe=new Utt(U),pe.init(),Ke=new Srt(U,pe),ye=new Rtt(U,pe,t,Ke),ve=new yrt(U),ye.reverseDepthBuffer&&ve.buffers.depth.setReversed(!0),He=new Btt(U),Ne=new irt,L=new brt(U,pe,ve,Ne,ye,Ke,He),w=new Ott(_),H=new Ntt(_),ie=new jJe(U),$t=new Ptt(U,ie),ce=new Ftt(U,ie,He,$t),ae=new Htt(U,ce,ie,He),qe=new ztt(U,ye,L),$e=new Itt(Ne),Ae=new rrt(_,w,H,pe,ye,$t,$e),Se=new Crt(_,Ne),xe=new ort,ot=new drt(pe),Ye=new Att(_,w,H,ve,ae,d,c),Ie=new grt(_,ae,ye),B=new Rrt(U,He,ye,ve),Oe=new Ctt(U,pe,He),rt=new ktt(U,pe,He),He.programs=Ae.programs,_.capabilities=ye,_.extensions=pe,_.properties=Ne,_.renderLists=xe,_.shadowMap=Ie,_.state=ve,_.info=He}Pe();const re=new Art(_,U);this.xr=re,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const C=pe.get("WEBGL_lose_context");C&&C.loseContext()},this.forceContextRestore=function(){const C=pe.get("WEBGL_lose_context");C&&C.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(C){C!==void 0&&(N=C,this.setSize(A,x,!1))},this.getSize=function(C){return C.set(A,x)},this.setSize=function(C,G,Y=!0){if(re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=C,x=G,n.width=Math.floor(C*N),n.height=Math.floor(G*N),Y===!0&&(n.style.width=C+"px",n.style.height=G+"px"),this.setViewport(0,0,C,G)},this.getDrawingBufferSize=function(C){return C.set(A*N,x*N).floor()},this.setDrawingBufferSize=function(C,G,Y){A=C,x=G,N=Y,n.width=Math.floor(C*Y),n.height=Math.floor(G*Y),this.setViewport(0,0,C,G)},this.getCurrentViewport=function(C){return C.copy($)},this.getViewport=function(C){return C.copy(k)},this.setViewport=function(C,G,Y,J){C.isVector4?k.set(C.x,C.y,C.z,C.w):k.set(C,G,Y,J),ve.viewport($.copy(k).multiplyScalar(N).round())},this.getScissor=function(C){return C.copy(ee)},this.setScissor=function(C,G,Y,J){C.isVector4?ee.set(C.x,C.y,C.z,C.w):ee.set(C,G,Y,J),ve.scissor(b.copy(ee).multiplyScalar(N).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(C){ve.setScissorTest(de=C)},this.setOpaqueSort=function(C){R=C},this.setTransparentSort=function(C){F=C},this.getClearColor=function(C){return C.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor.apply(Ye,arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha.apply(Ye,arguments)},this.clear=function(C=!0,G=!0,Y=!0){let J=0;if(C){let V=!1;if(P!==null){const be=P.texture.format;V=be===LA||be===DA||be===OA}if(V){const be=P.texture.type,Me=be===fa||be===ds||be===Ql||be===ou||be===RA||be===IA,Le=Ye.getClearColor(),Ue=Ye.getClearAlpha(),We=Le.r,Xe=Le.g,Be=Le.b;Me?(h[0]=We,h[1]=Xe,h[2]=Be,h[3]=Ue,U.clearBufferuiv(U.COLOR,0,h)):(m[0]=We,m[1]=Xe,m[2]=Be,m[3]=Ue,U.clearBufferiv(U.COLOR,0,m))}else J|=U.COLOR_BUFFER_BIT}G&&(J|=U.DEPTH_BUFFER_BIT,U.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),Y&&(J|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(J)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",le,!1),n.removeEventListener("webglcontextrestored",Te,!1),n.removeEventListener("webglcontextcreationerror",Ce,!1),xe.dispose(),ot.dispose(),Ne.dispose(),w.dispose(),H.dispose(),ae.dispose(),$t.dispose(),B.dispose(),Ae.dispose(),re.dispose(),re.removeEventListener("sessionstart",HA),re.removeEventListener("sessionend",GA),yo.stop()};function le(C){C.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const C=He.autoReset,G=Ie.enabled,Y=Ie.autoUpdate,J=Ie.needsUpdate,V=Ie.type;Pe(),He.autoReset=C,Ie.enabled=G,Ie.autoUpdate=Y,Ie.needsUpdate=J,Ie.type=V}function Ce(C){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",C.statusMessage)}function it(C){const G=C.target;G.removeEventListener("dispose",it),Ht(G)}function Ht(C){Un(C),Ne.remove(C)}function Un(C){const G=Ne.get(C).programs;G!==void 0&&(G.forEach(function(Y){Ae.releaseProgram(Y)}),C.isShaderMaterial&&Ae.releaseShaderCache(C))}this.renderBufferDirect=function(C,G,Y,J,V,be){G===null&&(G=se);const Me=V.isMesh&&V.matrixWorld.determinant()<0,Le=uj(C,G,Y,J,V);ve.setMaterial(J,Me);let Ue=Y.index,We=1;if(J.wireframe===!0){if(Ue=ce.getWireframeAttribute(Y),Ue===void 0)return;We=2}const Xe=Y.drawRange,Be=Y.attributes.position;let pt=Xe.start*We,St=(Xe.start+Xe.count)*We;be!==null&&(pt=Math.max(pt,be.start*We),St=Math.min(St,(be.start+be.count)*We)),Ue!==null?(pt=Math.max(pt,0),St=Math.min(St,Ue.count)):Be!=null&&(pt=Math.max(pt,0),St=Math.min(St,Be.count));const It=St-pt;if(It<0||It===1/0)return;$t.setup(V,J,Le,Y,Ue);let Zn,lt=Oe;if(Ue!==null&&(Zn=ie.get(Ue),lt=rt,lt.setIndex(Zn)),V.isMesh)J.wireframe===!0?(ve.setLineWidth(J.wireframeLinewidth*K()),lt.setMode(U.LINES)):lt.setMode(U.TRIANGLES);else if(V.isLine){let ze=J.linewidth;ze===void 0&&(ze=1),ve.setLineWidth(ze*K()),V.isLineSegments?lt.setMode(U.LINES):V.isLineLoop?lt.setMode(U.LINE_LOOP):lt.setMode(U.LINE_STRIP)}else V.isPoints?lt.setMode(U.POINTS):V.isSprite&&lt.setMode(U.TRIANGLES);if(V.isBatchedMesh)if(V._multiDrawInstances!==null)lt.renderMultiDrawInstances(V._multiDrawStarts,V._multiDrawCounts,V._multiDrawCount,V._multiDrawInstances);else if(pe.get("WEBGL_multi_draw"))lt.renderMultiDraw(V._multiDrawStarts,V._multiDrawCounts,V._multiDrawCount);else{const ze=V._multiDrawStarts,pn=V._multiDrawCounts,ft=V._multiDrawCount,Ir=Ue?ie.get(Ue).bytesPerElement:1,Ls=Ne.get(J).currentProgram.getUniforms();for(let Jn=0;Jn<ft;Jn++)Ls.setValue(U,"_gl_DrawID",Jn),lt.render(ze[Jn]/Ir,pn[Jn])}else if(V.isInstancedMesh)lt.renderInstances(pt,It,V.count);else if(Y.isInstancedBufferGeometry){const ze=Y._maxInstanceCount!==void 0?Y._maxInstanceCount:1/0,pn=Math.min(Y.instanceCount,ze);lt.renderInstances(pt,It,pn)}else lt.render(pt,It)};function ct(C,G,Y){C.transparent===!0&&C.side===Wi&&C.forceSinglePass===!1?(C.side=Vn,C.needsUpdate=!0,td(C,G,Y),C.side=wi,C.needsUpdate=!0,td(C,G,Y),C.side=Wi):td(C,G,Y)}this.compile=function(C,G,Y=null){Y===null&&(Y=C),p=ot.get(Y),p.init(G),y.push(p),Y.traverseVisible(function(V){V.isLight&&V.layers.test(G.layers)&&(p.pushLight(V),V.castShadow&&p.pushShadow(V))}),C!==Y&&C.traverseVisible(function(V){V.isLight&&V.layers.test(G.layers)&&(p.pushLight(V),V.castShadow&&p.pushShadow(V))}),p.setupLights();const J=new Set;return C.traverse(function(V){if(!(V.isMesh||V.isPoints||V.isLine||V.isSprite))return;const be=V.material;if(be)if(Array.isArray(be))for(let Me=0;Me<be.length;Me++){const Le=be[Me];ct(Le,Y,V),J.add(Le)}else ct(be,Y,V),J.add(be)}),y.pop(),p=null,J},this.compileAsync=function(C,G,Y=null){const J=this.compile(C,G,Y);return new Promise(V=>{function be(){if(J.forEach(function(Me){Ne.get(Me).currentProgram.isReady()&&J.delete(Me)}),J.size===0){V(C);return}setTimeout(be,10)}pe.get("KHR_parallel_shader_compile")!==null?be():setTimeout(be,10)})};let Fn=null;function Ii(C){Fn&&Fn(C)}function HA(){yo.stop()}function GA(){yo.start()}const yo=new QV;yo.setAnimationLoop(Ii),typeof self<"u"&&yo.setContext(self),this.setAnimationLoop=function(C){Fn=C,re.setAnimationLoop(C),C===null?yo.stop():yo.start()},re.addEventListener("sessionstart",HA),re.addEventListener("sessionend",GA),this.render=function(C,G){if(G!==void 0&&G.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(C.matrixWorldAutoUpdate===!0&&C.updateMatrixWorld(),G.parent===null&&G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),re.enabled===!0&&re.isPresenting===!0&&(re.cameraAutoUpdate===!0&&re.updateCamera(G),G=re.getCamera()),C.isScene===!0&&C.onBeforeRender(_,C,G,P),p=ot.get(C,y.length),p.init(G),y.push(p),he.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),ge.setFromProjectionMatrix(he),Z=this.localClippingEnabled,j=$e.init(this.clippingPlanes,Z),g=xe.get(C,v.length),g.init(),v.push(g),re.enabled===!0&&re.isPresenting===!0){const be=_.xr.getDepthSensingMesh();be!==null&&B_(be,G,-1/0,_.sortObjects)}B_(C,G,0,_.sortObjects),g.finish(),_.sortObjects===!0&&g.sort(R,F),me=re.enabled===!1||re.isPresenting===!1||re.hasDepthSensing()===!1,me&&Ye.addToRenderList(g,C),this.info.render.frame++,j===!0&&$e.beginShadows();const Y=p.state.shadowsArray;Ie.render(Y,C,G),j===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset();const J=g.opaque,V=g.transmissive;if(p.setupLights(),G.isArrayCamera){const be=G.cameras;if(V.length>0)for(let Me=0,Le=be.length;Me<Le;Me++){const Ue=be[Me];jA(J,V,C,Ue)}me&&Ye.render(C);for(let Me=0,Le=be.length;Me<Le;Me++){const Ue=be[Me];VA(g,C,Ue,Ue.viewport)}}else V.length>0&&jA(J,V,C,G),me&&Ye.render(C),VA(g,C,G);P!==null&&(L.updateMultisampleRenderTarget(P),L.updateRenderTargetMipmap(P)),C.isScene===!0&&C.onAfterRender(_,C,G),$t.resetDefaultState(),D=-1,X=null,y.pop(),y.length>0?(p=y[y.length-1],j===!0&&$e.setGlobalState(_.clippingPlanes,p.state.camera)):p=null,v.pop(),v.length>0?g=v[v.length-1]:g=null};function B_(C,G,Y,J){if(C.visible===!1)return;if(C.layers.test(G.layers)){if(C.isGroup)Y=C.renderOrder;else if(C.isLOD)C.autoUpdate===!0&&C.update(G);else if(C.isLight)p.pushLight(C),C.castShadow&&p.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||ge.intersectsSprite(C)){J&&Q.setFromMatrixPosition(C.matrixWorld).applyMatrix4(he);const Me=ae.update(C),Le=C.material;Le.visible&&g.push(C,Me,Le,Y,Q.z,null)}}else if((C.isMesh||C.isLine||C.isPoints)&&(!C.frustumCulled||ge.intersectsObject(C))){const Me=ae.update(C),Le=C.material;if(J&&(C.boundingSphere!==void 0?(C.boundingSphere===null&&C.computeBoundingSphere(),Q.copy(C.boundingSphere.center)):(Me.boundingSphere===null&&Me.computeBoundingSphere(),Q.copy(Me.boundingSphere.center)),Q.applyMatrix4(C.matrixWorld).applyMatrix4(he)),Array.isArray(Le)){const Ue=Me.groups;for(let We=0,Xe=Ue.length;We<Xe;We++){const Be=Ue[We],pt=Le[Be.materialIndex];pt&&pt.visible&&g.push(C,Me,pt,Y,Q.z,Be)}}else Le.visible&&g.push(C,Me,Le,Y,Q.z,null)}}const be=C.children;for(let Me=0,Le=be.length;Me<Le;Me++)B_(be[Me],G,Y,J)}function VA(C,G,Y,J){const V=C.opaque,be=C.transmissive,Me=C.transparent;p.setupLightsView(Y),j===!0&&$e.setGlobalState(_.clippingPlanes,Y),J&&ve.viewport($.copy(J)),V.length>0&&ed(V,G,Y),be.length>0&&ed(be,G,Y),Me.length>0&&ed(Me,G,Y),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function jA(C,G,Y,J){if((Y.isScene===!0?Y.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[J.id]===void 0&&(p.state.transmissionRenderTarget[J.id]=new hs(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?Kf:fa,minFilter:Go,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:dt.workingColorSpace}));const be=p.state.transmissionRenderTarget[J.id],Me=J.viewport||$;be.setSize(Me.z,Me.w);const Le=_.getRenderTarget();_.setRenderTarget(be),_.getClearColor(T),E=_.getClearAlpha(),E<1&&_.setClearColor(16777215,.5),_.clear(),me&&Ye.render(Y);const Ue=_.toneMapping;_.toneMapping=Ha;const We=J.viewport;if(J.viewport!==void 0&&(J.viewport=void 0),p.setupLightsView(J),j===!0&&$e.setGlobalState(_.clippingPlanes,J),ed(C,Y,J),L.updateMultisampleRenderTarget(be),L.updateRenderTargetMipmap(be),pe.has("WEBGL_multisampled_render_to_texture")===!1){let Xe=!1;for(let Be=0,pt=G.length;Be<pt;Be++){const St=G[Be],It=St.object,Zn=St.geometry,lt=St.material,ze=St.group;if(lt.side===Wi&&It.layers.test(J.layers)){const pn=lt.side;lt.side=Vn,lt.needsUpdate=!0,WA(It,Y,J,Zn,lt,ze),lt.side=pn,lt.needsUpdate=!0,Xe=!0}}Xe===!0&&(L.updateMultisampleRenderTarget(be),L.updateRenderTargetMipmap(be))}_.setRenderTarget(Le),_.setClearColor(T,E),We!==void 0&&(J.viewport=We),_.toneMapping=Ue}function ed(C,G,Y){const J=G.isScene===!0?G.overrideMaterial:null;for(let V=0,be=C.length;V<be;V++){const Me=C[V],Le=Me.object,Ue=Me.geometry,We=J===null?Me.material:J,Xe=Me.group;Le.layers.test(Y.layers)&&WA(Le,G,Y,Ue,We,Xe)}}function WA(C,G,Y,J,V,be){C.onBeforeRender(_,G,Y,J,V,be),C.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,C.matrixWorld),C.normalMatrix.getNormalMatrix(C.modelViewMatrix),V.onBeforeRender(_,G,Y,J,C,be),V.transparent===!0&&V.side===Wi&&V.forceSinglePass===!1?(V.side=Vn,V.needsUpdate=!0,_.renderBufferDirect(Y,G,J,V,C,be),V.side=wi,V.needsUpdate=!0,_.renderBufferDirect(Y,G,J,V,C,be),V.side=Wi):_.renderBufferDirect(Y,G,J,V,C,be),C.onAfterRender(_,G,Y,J,V,be)}function td(C,G,Y){G.isScene!==!0&&(G=se);const J=Ne.get(C),V=p.state.lights,be=p.state.shadowsArray,Me=V.state.version,Le=Ae.getParameters(C,V.state,be,G,Y),Ue=Ae.getProgramCacheKey(Le);let We=J.programs;J.environment=C.isMeshStandardMaterial?G.environment:null,J.fog=G.fog,J.envMap=(C.isMeshStandardMaterial?H:w).get(C.envMap||J.environment),J.envMapRotation=J.environment!==null&&C.envMap===null?G.environmentRotation:C.envMapRotation,We===void 0&&(C.addEventListener("dispose",it),We=new Map,J.programs=We);let Xe=We.get(Ue);if(Xe!==void 0){if(J.currentProgram===Xe&&J.lightsStateVersion===Me)return YA(C,Le),Xe}else Le.uniforms=Ae.getUniforms(C),C.onBeforeCompile(Le,_),Xe=Ae.acquireProgram(Le,Ue),We.set(Ue,Xe),J.uniforms=Le.uniforms;const Be=J.uniforms;return(!C.isShaderMaterial&&!C.isRawShaderMaterial||C.clipping===!0)&&(Be.clippingPlanes=$e.uniform),YA(C,Le),J.needsLights=fj(C),J.lightsStateVersion=Me,J.needsLights&&(Be.ambientLightColor.value=V.state.ambient,Be.lightProbe.value=V.state.probe,Be.directionalLights.value=V.state.directional,Be.directionalLightShadows.value=V.state.directionalShadow,Be.spotLights.value=V.state.spot,Be.spotLightShadows.value=V.state.spotShadow,Be.rectAreaLights.value=V.state.rectArea,Be.ltc_1.value=V.state.rectAreaLTC1,Be.ltc_2.value=V.state.rectAreaLTC2,Be.pointLights.value=V.state.point,Be.pointLightShadows.value=V.state.pointShadow,Be.hemisphereLights.value=V.state.hemi,Be.directionalShadowMap.value=V.state.directionalShadowMap,Be.directionalShadowMatrix.value=V.state.directionalShadowMatrix,Be.spotShadowMap.value=V.state.spotShadowMap,Be.spotLightMatrix.value=V.state.spotLightMatrix,Be.spotLightMap.value=V.state.spotLightMap,Be.pointShadowMap.value=V.state.pointShadowMap,Be.pointShadowMatrix.value=V.state.pointShadowMatrix),J.currentProgram=Xe,J.uniformsList=null,Xe}function XA(C){if(C.uniformsList===null){const G=C.currentProgram.getUniforms();C.uniformsList=kp.seqWithValue(G.seq,C.uniforms)}return C.uniformsList}function YA(C,G){const Y=Ne.get(C);Y.outputColorSpace=G.outputColorSpace,Y.batching=G.batching,Y.batchingColor=G.batchingColor,Y.instancing=G.instancing,Y.instancingColor=G.instancingColor,Y.instancingMorph=G.instancingMorph,Y.skinning=G.skinning,Y.morphTargets=G.morphTargets,Y.morphNormals=G.morphNormals,Y.morphColors=G.morphColors,Y.morphTargetsCount=G.morphTargetsCount,Y.numClippingPlanes=G.numClippingPlanes,Y.numIntersection=G.numClipIntersection,Y.vertexAlphas=G.vertexAlphas,Y.vertexTangents=G.vertexTangents,Y.toneMapping=G.toneMapping}function uj(C,G,Y,J,V){G.isScene!==!0&&(G=se),L.resetTextureUnits();const be=G.fog,Me=J.isMeshStandardMaterial?G.environment:null,Le=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:_o,Ue=(J.isMeshStandardMaterial?H:w).get(J.envMap||Me),We=J.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,Xe=!!Y.attributes.tangent&&(!!J.normalMap||J.anisotropy>0),Be=!!Y.morphAttributes.position,pt=!!Y.morphAttributes.normal,St=!!Y.morphAttributes.color;let It=Ha;J.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(It=_.toneMapping);const Zn=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,lt=Zn!==void 0?Zn.length:0,ze=Ne.get(J),pn=p.state.lights;if(j===!0&&(Z===!0||C!==X)){const cr=C===X&&J.id===D;$e.setState(J,C,cr)}let ft=!1;J.version===ze.__version?(ze.needsLights&&ze.lightsStateVersion!==pn.state.version||ze.outputColorSpace!==Le||V.isBatchedMesh&&ze.batching===!1||!V.isBatchedMesh&&ze.batching===!0||V.isBatchedMesh&&ze.batchingColor===!0&&V.colorTexture===null||V.isBatchedMesh&&ze.batchingColor===!1&&V.colorTexture!==null||V.isInstancedMesh&&ze.instancing===!1||!V.isInstancedMesh&&ze.instancing===!0||V.isSkinnedMesh&&ze.skinning===!1||!V.isSkinnedMesh&&ze.skinning===!0||V.isInstancedMesh&&ze.instancingColor===!0&&V.instanceColor===null||V.isInstancedMesh&&ze.instancingColor===!1&&V.instanceColor!==null||V.isInstancedMesh&&ze.instancingMorph===!0&&V.morphTexture===null||V.isInstancedMesh&&ze.instancingMorph===!1&&V.morphTexture!==null||ze.envMap!==Ue||J.fog===!0&&ze.fog!==be||ze.numClippingPlanes!==void 0&&(ze.numClippingPlanes!==$e.numPlanes||ze.numIntersection!==$e.numIntersection)||ze.vertexAlphas!==We||ze.vertexTangents!==Xe||ze.morphTargets!==Be||ze.morphNormals!==pt||ze.morphColors!==St||ze.toneMapping!==It||ze.morphTargetsCount!==lt)&&(ft=!0):(ft=!0,ze.__version=J.version);let Ir=ze.currentProgram;ft===!0&&(Ir=td(J,G,V));let Ls=!1,Jn=!1,z_=!1;const kt=Ir.getUniforms(),xa=ze.uniforms;if(ve.useProgram(Ir.program)&&(Ls=!0,Jn=!0,z_=!0),J.id!==D&&(D=J.id,Jn=!0),Ls||X!==C){ye.reverseDepthBuffer?(_e.copy(C.projectionMatrix),yJe(_e),$Je(_e),kt.setValue(U,"projectionMatrix",_e)):kt.setValue(U,"projectionMatrix",C.projectionMatrix),kt.setValue(U,"viewMatrix",C.matrixWorldInverse);const cr=kt.map.cameraPosition;cr!==void 0&&cr.setValue(U,we.setFromMatrixPosition(C.matrixWorld)),ye.logarithmicDepthBuffer&&kt.setValue(U,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2)),(J.isMeshPhongMaterial||J.isMeshToonMaterial||J.isMeshLambertMaterial||J.isMeshBasicMaterial||J.isMeshStandardMaterial||J.isShaderMaterial)&&kt.setValue(U,"isOrthographic",C.isOrthographicCamera===!0),X!==C&&(X=C,Jn=!0,z_=!0)}if(V.isSkinnedMesh){kt.setOptional(U,V,"bindMatrix"),kt.setOptional(U,V,"bindMatrixInverse");const cr=V.skeleton;cr&&(cr.boneTexture===null&&cr.computeBoneTexture(),kt.setValue(U,"boneTexture",cr.boneTexture,L))}V.isBatchedMesh&&(kt.setOptional(U,V,"batchingTexture"),kt.setValue(U,"batchingTexture",V._matricesTexture,L),kt.setOptional(U,V,"batchingIdTexture"),kt.setValue(U,"batchingIdTexture",V._indirectTexture,L),kt.setOptional(U,V,"batchingColorTexture"),V._colorsTexture!==null&&kt.setValue(U,"batchingColorTexture",V._colorsTexture,L));const H_=Y.morphAttributes;if((H_.position!==void 0||H_.normal!==void 0||H_.color!==void 0)&&qe.update(V,Y,Ir),(Jn||ze.receiveShadow!==V.receiveShadow)&&(ze.receiveShadow=V.receiveShadow,kt.setValue(U,"receiveShadow",V.receiveShadow)),J.isMeshGouraudMaterial&&J.envMap!==null&&(xa.envMap.value=Ue,xa.flipEnvMap.value=Ue.isCubeTexture&&Ue.isRenderTargetTexture===!1?-1:1),J.isMeshStandardMaterial&&J.envMap===null&&G.environment!==null&&(xa.envMapIntensity.value=G.environmentIntensity),Jn&&(kt.setValue(U,"toneMappingExposure",_.toneMappingExposure),ze.needsLights&&lj(xa,z_),be&&J.fog===!0&&Se.refreshFogUniforms(xa,be),Se.refreshMaterialUniforms(xa,J,N,x,p.state.transmissionRenderTarget[C.id]),kp.upload(U,XA(ze),xa,L)),J.isShaderMaterial&&J.uniformsNeedUpdate===!0&&(kp.upload(U,XA(ze),xa,L),J.uniformsNeedUpdate=!1),J.isSpriteMaterial&&kt.setValue(U,"center",V.center),kt.setValue(U,"modelViewMatrix",V.modelViewMatrix),kt.setValue(U,"normalMatrix",V.normalMatrix),kt.setValue(U,"modelMatrix",V.matrixWorld),J.isShaderMaterial||J.isRawShaderMaterial){const cr=J.uniformsGroups;for(let G_=0,dj=cr.length;G_<dj;G_++){const qA=cr[G_];B.update(qA,Ir),B.bind(qA,Ir)}}return Ir}function lj(C,G){C.ambientLightColor.needsUpdate=G,C.lightProbe.needsUpdate=G,C.directionalLights.needsUpdate=G,C.directionalLightShadows.needsUpdate=G,C.pointLights.needsUpdate=G,C.pointLightShadows.needsUpdate=G,C.spotLights.needsUpdate=G,C.spotLightShadows.needsUpdate=G,C.rectAreaLights.needsUpdate=G,C.hemisphereLights.needsUpdate=G}function fj(C){return C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&C.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(C,G,Y){Ne.get(C.texture).__webglTexture=G,Ne.get(C.depthTexture).__webglTexture=Y;const J=Ne.get(C);J.__hasExternalTextures=!0,J.__autoAllocateDepthBuffer=Y===void 0,J.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),J.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(C,G){const Y=Ne.get(C);Y.__webglFramebuffer=G,Y.__useDefaultFramebuffer=G===void 0},this.setRenderTarget=function(C,G=0,Y=0){P=C,O=G,M=Y;let J=!0,V=null,be=!1,Me=!1;if(C){const Ue=Ne.get(C);if(Ue.__useDefaultFramebuffer!==void 0)ve.bindFramebuffer(U.FRAMEBUFFER,null),J=!1;else if(Ue.__webglFramebuffer===void 0)L.setupRenderTarget(C);else if(Ue.__hasExternalTextures)L.rebindTextures(C,Ne.get(C.texture).__webglTexture,Ne.get(C.depthTexture).__webglTexture);else if(C.depthBuffer){const Be=C.depthTexture;if(Ue.__boundDepthTexture!==Be){if(Be!==null&&Ne.has(Be)&&(C.width!==Be.image.width||C.height!==Be.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");L.setupDepthRenderbuffer(C)}}const We=C.texture;(We.isData3DTexture||We.isDataArrayTexture||We.isCompressedArrayTexture)&&(Me=!0);const Xe=Ne.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget?(Array.isArray(Xe[G])?V=Xe[G][Y]:V=Xe[G],be=!0):C.samples>0&&L.useMultisampledRTT(C)===!1?V=Ne.get(C).__webglMultisampledFramebuffer:Array.isArray(Xe)?V=Xe[Y]:V=Xe,$.copy(C.viewport),b.copy(C.scissor),I=C.scissorTest}else $.copy(k).multiplyScalar(N).floor(),b.copy(ee).multiplyScalar(N).floor(),I=de;if(ve.bindFramebuffer(U.FRAMEBUFFER,V)&&J&&ve.drawBuffers(C,V),ve.viewport($),ve.scissor(b),ve.setScissorTest(I),be){const Ue=Ne.get(C.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+G,Ue.__webglTexture,Y)}else if(Me){const Ue=Ne.get(C.texture),We=G||0;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ue.__webglTexture,Y||0,We)}D=-1},this.readRenderTargetPixels=function(C,G,Y,J,V,be,Me){if(!(C&&C.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=Ne.get(C).__webglFramebuffer;if(C.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){ve.bindFramebuffer(U.FRAMEBUFFER,Le);try{const Ue=C.texture,We=Ue.format,Xe=Ue.type;if(!ye.textureFormatReadable(We)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ye.textureTypeReadable(Xe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G>=0&&G<=C.width-J&&Y>=0&&Y<=C.height-V&&U.readPixels(G,Y,J,V,Ke.convert(We),Ke.convert(Xe),be)}finally{const Ue=P!==null?Ne.get(P).__webglFramebuffer:null;ve.bindFramebuffer(U.FRAMEBUFFER,Ue)}}},this.readRenderTargetPixelsAsync=async function(C,G,Y,J,V,be,Me){if(!(C&&C.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Le=Ne.get(C).__webglFramebuffer;if(C.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){const Ue=C.texture,We=Ue.format,Xe=Ue.type;if(!ye.textureFormatReadable(We))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ye.textureTypeReadable(Xe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(G>=0&&G<=C.width-J&&Y>=0&&Y<=C.height-V){ve.bindFramebuffer(U.FRAMEBUFFER,Le);const Be=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,Be),U.bufferData(U.PIXEL_PACK_BUFFER,be.byteLength,U.STREAM_READ),U.readPixels(G,Y,J,V,Ke.convert(We),Ke.convert(Xe),0);const pt=P!==null?Ne.get(P).__webglFramebuffer:null;ve.bindFramebuffer(U.FRAMEBUFFER,pt);const St=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);return U.flush(),await _Je(U,St,4),U.bindBuffer(U.PIXEL_PACK_BUFFER,Be),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,be),U.deleteBuffer(Be),U.deleteSync(St),be}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(C,G=null,Y=0){C.isTexture!==!0&&(Fp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),G=arguments[0]||null,C=arguments[1]);const J=Math.pow(2,-Y),V=Math.floor(C.image.width*J),be=Math.floor(C.image.height*J),Me=G!==null?G.x:0,Le=G!==null?G.y:0;L.setTexture2D(C,0),U.copyTexSubImage2D(U.TEXTURE_2D,Y,0,0,Me,Le,V,be),ve.unbindTexture()},this.copyTextureToTexture=function(C,G,Y=null,J=null,V=0){C.isTexture!==!0&&(Fp("WebGLRenderer: copyTextureToTexture function signature has changed."),J=arguments[0]||null,C=arguments[1],G=arguments[2],V=arguments[3]||0,Y=null);let be,Me,Le,Ue,We,Xe;Y!==null?(be=Y.max.x-Y.min.x,Me=Y.max.y-Y.min.y,Le=Y.min.x,Ue=Y.min.y):(be=C.image.width,Me=C.image.height,Le=0,Ue=0),J!==null?(We=J.x,Xe=J.y):(We=0,Xe=0);const Be=Ke.convert(G.format),pt=Ke.convert(G.type);L.setTexture2D(G,0),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,G.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,G.unpackAlignment);const St=U.getParameter(U.UNPACK_ROW_LENGTH),It=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Zn=U.getParameter(U.UNPACK_SKIP_PIXELS),lt=U.getParameter(U.UNPACK_SKIP_ROWS),ze=U.getParameter(U.UNPACK_SKIP_IMAGES),pn=C.isCompressedTexture?C.mipmaps[V]:C.image;U.pixelStorei(U.UNPACK_ROW_LENGTH,pn.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,pn.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Le),U.pixelStorei(U.UNPACK_SKIP_ROWS,Ue),C.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,V,We,Xe,be,Me,Be,pt,pn.data):C.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,V,We,Xe,pn.width,pn.height,Be,pn.data):U.texSubImage2D(U.TEXTURE_2D,V,We,Xe,be,Me,Be,pt,pn),U.pixelStorei(U.UNPACK_ROW_LENGTH,St),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,It),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Zn),U.pixelStorei(U.UNPACK_SKIP_ROWS,lt),U.pixelStorei(U.UNPACK_SKIP_IMAGES,ze),V===0&&G.generateMipmaps&&U.generateMipmap(U.TEXTURE_2D),ve.unbindTexture()},this.copyTextureToTexture3D=function(C,G,Y=null,J=null,V=0){C.isTexture!==!0&&(Fp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Y=arguments[0]||null,J=arguments[1]||null,C=arguments[2],G=arguments[3],V=arguments[4]||0);let be,Me,Le,Ue,We,Xe,Be,pt,St;const It=C.isCompressedTexture?C.mipmaps[V]:C.image;Y!==null?(be=Y.max.x-Y.min.x,Me=Y.max.y-Y.min.y,Le=Y.max.z-Y.min.z,Ue=Y.min.x,We=Y.min.y,Xe=Y.min.z):(be=It.width,Me=It.height,Le=It.depth,Ue=0,We=0,Xe=0),J!==null?(Be=J.x,pt=J.y,St=J.z):(Be=0,pt=0,St=0);const Zn=Ke.convert(G.format),lt=Ke.convert(G.type);let ze;if(G.isData3DTexture)L.setTexture3D(G,0),ze=U.TEXTURE_3D;else if(G.isDataArrayTexture||G.isCompressedArrayTexture)L.setTexture2DArray(G,0),ze=U.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,G.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,G.unpackAlignment);const pn=U.getParameter(U.UNPACK_ROW_LENGTH),ft=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Ir=U.getParameter(U.UNPACK_SKIP_PIXELS),Ls=U.getParameter(U.UNPACK_SKIP_ROWS),Jn=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,It.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,It.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ue),U.pixelStorei(U.UNPACK_SKIP_ROWS,We),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Xe),C.isDataTexture||C.isData3DTexture?U.texSubImage3D(ze,V,Be,pt,St,be,Me,Le,Zn,lt,It.data):G.isCompressedArrayTexture?U.compressedTexSubImage3D(ze,V,Be,pt,St,be,Me,Le,Zn,It.data):U.texSubImage3D(ze,V,Be,pt,St,be,Me,Le,Zn,lt,It),U.pixelStorei(U.UNPACK_ROW_LENGTH,pn),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,ft),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ir),U.pixelStorei(U.UNPACK_SKIP_ROWS,Ls),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Jn),V===0&&G.generateMipmaps&&U.generateMipmap(ze),ve.unbindTexture()},this.initRenderTarget=function(C){Ne.get(C).__webglFramebuffer===void 0&&L.setupRenderTarget(C)},this.initTexture=function(C){C.isCubeTexture?L.setTextureCube(C,0):C.isData3DTexture?L.setTexture3D(C,0):C.isDataArrayTexture||C.isCompressedArrayTexture?L.setTexture2DArray(C,0):L.setTexture2D(C,0),ve.unbindTexture()},this.resetState=function(){O=0,M=0,P=null,ve.reset(),$t.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Zi}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const n=this.getContext();n.drawingBufferColorSpace=t===NA?"display-p3":"srgb",n.unpackColorSpace=dt.workingColorSpace===N_?"display-p3":"srgb"}}class Ort extends vn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ei,this.environmentIntensity=1,this.environmentRotation=new Ei,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Drt{constructor(t,n){this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=t!==void 0?t.length/n:0,this.usage=Rw,this.updateRanges=[],this.version=0,this.uuid=Ga()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,n){this.updateRanges.push({start:t,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,n,r){t*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[t+i]=n.array[r+i];return this}set(t,n=0){return this.array.set(t,n),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cn=new W;class Bv{constructor(t,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let n=0,r=this.data.count;n<r;n++)Cn.fromBufferAttribute(this,n),Cn.applyMatrix4(t),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)Cn.fromBufferAttribute(this,n),Cn.applyNormalMatrix(t),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)Cn.fromBufferAttribute(this,n),Cn.transformDirection(t),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}getComponent(t,n){let r=this.array[t*this.data.stride+this.offset+n];return this.normalized&&(r=ci(r,this.array)),r}setComponent(t,n,r){return this.normalized&&(r=mt(r,this.array)),this.data.array[t*this.data.stride+this.offset+n]=r,this}setX(t,n){return this.normalized&&(n=mt(n,this.array)),this.data.array[t*this.data.stride+this.offset]=n,this}setY(t,n){return this.normalized&&(n=mt(n,this.array)),this.data.array[t*this.data.stride+this.offset+1]=n,this}setZ(t,n){return this.normalized&&(n=mt(n,this.array)),this.data.array[t*this.data.stride+this.offset+2]=n,this}setW(t,n){return this.normalized&&(n=mt(n,this.array)),this.data.array[t*this.data.stride+this.offset+3]=n,this}getX(t){let n=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(n=ci(n,this.array)),n}getY(t){let n=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(n=ci(n,this.array)),n}getZ(t){let n=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(n=ci(n,this.array)),n}getW(t){let n=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(n=ci(n,this.array)),n}setXY(t,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this}setXYZ(t,n,r,i){return t=t*this.data.stride+this.offset,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array),i=mt(i,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this.data.array[t+2]=i,this}setXYZW(t,n,r,i,a){return t=t*this.data.stride+this.offset,this.normalized&&(n=mt(n,this.array),r=mt(r,this.array),i=mt(i,this.array),a=mt(a,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this.data.array[t+2]=i,this.data.array[t+3]=a,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new jr(new this.array.constructor(n),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Bv(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oj extends Jf{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let pc;const nl=new W,vc=new W,mc=new W,gc=new tt,rl=new tt,sj=new At,Wh=new W,il=new W,Xh=new W,iF=new tt,pb=new tt,aF=new tt;class Lrt extends vn{constructor(t=new oj){if(super(),this.isSprite=!0,this.type="Sprite",pc===void 0){pc=new Sa;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Drt(n,5);pc.setIndex([0,1,2,0,2,3]),pc.setAttribute("position",new Bv(r,3,0,!1)),pc.setAttribute("uv",new Bv(r,2,3,!1))}this.geometry=pc,this.material=t,this.center=new tt(.5,.5)}raycast(t,n){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vc.setFromMatrixScale(this.matrixWorld),sj.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),mc.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vc.multiplyScalar(-mc.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;Yh(Wh.set(-.5,-.5,0),mc,o,vc,i,a),Yh(il.set(.5,-.5,0),mc,o,vc,i,a),Yh(Xh.set(.5,.5,0),mc,o,vc,i,a),iF.set(0,0),pb.set(1,0),aF.set(1,1);let s=t.ray.intersectTriangle(Wh,il,Xh,!1,nl);if(s===null&&(Yh(il.set(-.5,.5,0),mc,o,vc,i,a),pb.set(0,1),s=t.ray.intersectTriangle(Wh,Xh,il,!1,nl),s===null))return;const c=t.ray.origin.distanceTo(nl);c<t.near||c>t.far||n.push({distance:c,point:nl.clone(),uv:pr.getInterpolation(nl,Wh,il,Xh,iF,pb,aF,new tt),face:null,object:this})}copy(t,n){return super.copy(t,n),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Yh(e,t,n,r,i,a){gc.subVectors(e,n).addScalar(.5).multiply(r),i!==void 0?(rl.x=a*gc.x-i*gc.y,rl.y=i*gc.x+a*gc.y):rl.copy(gc),e.copy(t),e.x+=rl.x,e.y+=rl.y,e.applyMatrix4(sj)}class Nrt extends In{constructor(t,n,r,i,a,o,s,c,u){super(t,n,r,i,a,o,s,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zv extends Sa{constructor(t=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(o+s,Math.PI);let u=0;const l=[],f=new W,d=new W,h=[],m=[],g=[],p=[];for(let v=0;v<=r;v++){const y=[],_=v/r;let S=0;v===0&&o===0?S=.5/n:v===r&&c===Math.PI&&(S=-.5/n);for(let O=0;O<=n;O++){const M=O/n;f.x=-t*Math.cos(i+M*a)*Math.sin(o+_*s),f.y=t*Math.cos(o+_*s),f.z=t*Math.sin(i+M*a)*Math.sin(o+_*s),m.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),p.push(M+S,1-_),y.push(u++)}l.push(y)}for(let v=0;v<r;v++)for(let y=0;y<n;y++){const _=l[v][y+1],S=l[v][y],O=l[v+1][y],M=l[v+1][y+1];(v!==0||o>0)&&h.push(_,S,M),(v!==r-1||c<Math.PI)&&h.push(S,O,M)}this.setIndex(h),this.setAttribute("position",new mi(m,3)),this.setAttribute("normal",new mi(g,3)),this.setAttribute("uv",new mi(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new zv(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class cj extends vn{constructor(t,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(t),this.intensity=n}dispose(){}copy(t,n){return super.copy(t,n),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const n=super.toJSON(t);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const vb=new At,oF=new W,sF=new W;class Urt{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new BA,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Ot(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const n=this.camera,r=this.matrix;oF.setFromMatrixPosition(t.matrixWorld),n.position.copy(oF),sF.setFromMatrixPosition(t.target.matrixWorld),n.lookAt(sF),n.updateMatrixWorld(),vb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vb)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Frt extends Urt{constructor(){super(new ej(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class krt extends cj{constructor(t,n){super(t,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.target=new vn,this.shadow=new Frt}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Brt extends cj{constructor(t,n){super(t,n),this.isAmbientLight=!0,this.type="AmbientLight"}}const cF=new At;class zrt{constructor(t,n,r=0,i=1/0){this.ray=new WV(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new FA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,n){this.ray.set(t,n)}setFromCamera(t,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(t){return cF.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(cF),this}intersectObject(t,n=!0,r=[]){return Dw(t,this,r,n),r.sort(uF),r}intersectObjects(t,n=!0,r=[]){for(let i=0,a=t.length;i<a;i++)Dw(t[i],this,r,n);return r.sort(uF),r}}function uF(e,t){return e.distance-t.distance}function Dw(e,t,n,r){let i=!0;if(e.layers.test(t.layers)&&e.raycast(t,n)===!1&&(i=!1),i===!0&&r===!0){const a=e.children;for(let o=0,s=a.length;o<s;o++)Dw(a[o],t,n,!0)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:PA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=PA);const Hrt={__name:"Planet",setup(e){const{theme:t}=qo(),n=[...t.value.article,...t.value.article].slice(0,80),r=Mj();let i;return ha(()=>{const s=new Ort,c=new hr(75,1300/1300,.1,1e3);c.position.set(0,0,14),c.lookAt(0,0,0);const u=new Irt({antialias:!0,alpha:!0});u.setSize(1300,1300),u.setPixelRatio(window.devicePixelRatio),u.setClearColor(0,0);const l=document.querySelector("#VPContent .VPHome .container .image .VPImage"),f=l.parentElement,d=u.domElement;d.classList.add("VPImage","image-src","planet"),l.parentElement.replaceChild(d,l);const h=d.getBoundingClientRect(),m=new zv(4.85,24,24),g=new da({uniforms:{color:{value:new ut(0)},opacity:{value:.2}},vertexShader:`
    varying vec3 vNormal;
    void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
    }
  `,fragmentShader:`
    uniform vec3 color;
    uniform float opacity;
    varying vec3 vNormal;
    void main() {
        float alpha = opacity * smoothstep(0.5, 1.0, vNormal.z);
        gl_FragColor = vec4(color, alpha);
    }
  `,transparent:!0,side:wi,depthWrite:!1}),p=new Vr(m,g);s.add(p);const v=new zv(.15,16,16),y=[],_=[],S=5,O=n.length,M=(1+Math.sqrt(5))/2,P=160,D=new zrt,X=new tt;function $(ue,pe={}){const{fontSize:ye=24,fontFace:ve="PingFang SC, Microsoft YaHei, Noto Sans, Arial, sans-serif",textColor:He="white",backgroundColor:Ne="rgba(0,0,0,0)",maxWidth:L=160}=pe,w=document.createElement("canvas"),H=w.getContext("2d");H.font=`${ye}px ${ve}`;const ie=H.measureText(ue),ce=Math.ceil(ie.width),ae=ye*1.2,Ae=ce>L;let Se=L;Ae&&(Se=ce+60),w.width=Se,w.height=ae,H.font=`${ye}px ${ve}`,H.clearRect(0,0,w.width,w.height),H.fillStyle=Ne,H.fillRect(0,0,w.width,w.height),H.fillStyle=He,H.textAlign=Ae?"left":"center",H.textBaseline="middle",Ae?H.fillText(ue,0,w.height/2):H.fillText(ue,L/2,w.height/2);const xe=new Nrt(w);return xe.needsUpdate=!0,Ae?(xe.wrapS=Dv,xe.wrapT=li,xe.repeat.x=L/w.width):(xe.wrapS=li,xe.wrapT=li),xe.minFilter=tr,xe.magFilter=tr,xe.generateMipmaps=!1,{texture:xe,needMarquee:Ae,HWRate:ae/L}}for(let ue=0;ue<O;ue++){const pe=1-ue/(O-1)*2,ye=Math.sqrt(1-pe*pe),ve=2*Math.PI*ue/M,He=Math.cos(ve)*ye,Ne=Math.sin(ve)*ye,L=new kA({color:K(),depthWrite:!0,depthTest:!0,side:wi}),w=new Vr(v,L);w.position.set(He*S,pe*S,Ne*S),p.add(w),y.push(w);const H=n[ue][0],{texture:ie,needMarquee:ce,HWRate:ae}=$(H,{fontSize:28,fontFace:"PingFang SC, Microsoft YaHei, Noto Sans, Arial, sans-serif",textColor:"#dddddd",maxWidth:P}),Ae=new oj({map:ie,transparent:!0,depthWrite:!0,depthTest:!0,blending:Yo}),Se=new Lrt(Ae);Se.scale.set(1,ae,1),_.push({sprite:Se,smallBall:w,texture:ie,needMarquee:ce,labelText:H,link:n[ue][1]}),s.add(Se)}const b=new Brt(16777215,.5);s.add(b);const I=new krt(16777215,1);I.position.set(5,5,5),s.add(I);const T=.0015;let E=new W(0,1,0).normalize(),A=E.clone().multiplyScalar(T),x=!1,N={x:0,y:0},R={x:0,y:0};const F=.92,k=1.02,ee=ue=>{x=!0,N={x:ue.clientX,y:ue.clientY}},de=ue=>{if(x){const pe=ue.clientX-N.x,ye=ue.clientY-N.y;R={x:pe,y:ye};const ve=.005,He=pe*ve,Ne=ye*ve,L=new dr().setFromAxisAngle(new W(0,1,0),He),w=new dr().setFromAxisAngle(new W(1,0,0),Ne),H=new dr().multiplyQuaternions(L,w);p.quaternion.multiplyQuaternions(H,p.quaternion);const ie=new W(ye,pe,0).normalize(),ce=Math.sqrt(pe*pe+ye*ye)*ve;ie.length()>0&&A.copy(ie).multiplyScalar(ce),N={x:ue.clientX,y:ue.clientY}}},ge=()=>{if(x){x=!1;const ue=R.x,pe=R.y;if(ue!==0||pe!==0){const ye=new W(pe,ue,0).normalize();ye.length()>0&&E.copy(ye),A.length()>T||A.copy(E).multiplyScalar(T)}}},j=ue=>{x=!0;const pe=ue.touches[0];N={x:pe.clientX,y:pe.clientY}},Z=ue=>{if(ue.preventDefault(),x){const pe=ue.touches[0],ye=pe.clientX-N.x,ve=pe.clientY-N.y;R={x:ye,y:ve};const He=.002,Ne=ye*He,L=ve*He,w=new dr().setFromAxisAngle(new W(0,1,0),Ne),H=new dr().setFromAxisAngle(new W(1,0,0),L),ie=new dr().multiplyQuaternions(w,H);p.quaternion.multiplyQuaternions(ie,p.quaternion);const ce=new W(ve,ye,0).normalize(),ae=Math.sqrt(ye*ye+ve*ve)*He;ce.length()>0&&A.copy(ce).multiplyScalar(ae),N={x:pe.clientX,y:pe.clientY}}},_e=ue=>{if(x){x=!1;const pe=R.x,ye=R.y;if(pe!==0||ye!==0){const ve=new W(ye,pe,0).normalize();ve.length()>0&&E.copy(ve),A.length()>T||A.copy(E).multiplyScalar(T)}}if(ue.changedTouches.length>0){const pe=ue.changedTouches[0];X.x=(pe.clientX-h.left)/1300*window.devicePixelRatio*2-1,X.y=-((pe.clientY-h.top)/1300*window.devicePixelRatio)*2+1,Q()}};f.addEventListener("mousedown",ee),f.addEventListener("mousemove",de),f.addEventListener("mouseup",ge),f.addEventListener("touchstart",j,{passive:!0}),f.addEventListener("touchmove",Z,{passive:!0}),f.addEventListener("touchend",_e,{passive:!0}),document.addEventListener("gesturestart",function(ue){ue.preventDefault()}),f.addEventListener("click",we),window.addEventListener("resize",he),Aj(()=>{cancelAnimationFrame(i),f.removeEventListener("mousedown",ee),f.removeEventListener("mousemove",de),f.removeEventListener("mouseup",ge),f.removeEventListener("touchstart",j,{passive:!0}),f.removeEventListener("touchmove",Z,{passive:!0}),f.removeEventListener("touchend",_e,{passive:!0}),f.removeEventListener("click",we),window.removeEventListener("resize",he)});function he(){c.aspect=1300/1300,c.updateProjectionMatrix(),u.setSize(1300,1300)}function we(ue){ue.preventDefault(),X.x=(ue.clientX-h.left)/1300*window.devicePixelRatio*2-1,X.y=-((ue.clientY-h.top)/1300*window.devicePixelRatio)*2+1,Q()}function Q(){D.setFromCamera(X,c);const ue=D.intersectObjects(y);if(ue.length>0){const pe=ue[0].object,ye=y.indexOf(pe);if(ye!==-1){const ve=_[ye];se(ve)}}}function se(ue){r.go(ue.link.replace(".md","")),console.log(`点击的小球标签：${ue.link}`)}function me(){if(i=requestAnimationFrame(me),!x){const ue=new dr().setFromEuler(new Ei(A.x,A.y,A.z,"XYZ"));p.quaternion.multiplyQuaternions(ue,p.quaternion);const pe=A.length();pe>T?(A.multiplyScalar(F),A.length()<T&&A.copy(E).multiplyScalar(T)):pe<T?(A.multiplyScalar(k),A.length()>T&&A.copy(E).multiplyScalar(T)):A.copy(E).multiplyScalar(T)}_.forEach(({sprite:ue,smallBall:pe,texture:ye,needMarquee:ve})=>{pe.updateMatrixWorld();const He=new W;pe.getWorldPosition(He);const Ne=new W(0,.3,0);ue.position.copy(He).add(Ne),ve&&(ye.offset.x+=.002,ye.offset.x>1&&(ye.offset.x=0))}),u.render(s,c)}me();function K(){const ue=Math.floor(Math.random()*360),pe=Math.floor(Math.random()*40+30),ye=Math.floor(Math.random()*40+60),ve=U(ue,pe,ye);return ve.r<<16|ve.g<<8|ve.b}function U(ue,pe,ye){pe/=100,ye/=100;const ve=(1-Math.abs(2*ye-1))*pe,He=ve*(1-Math.abs(ue/60%2-1)),Ne=ye-ve/2;let L,w,H;return ue>=0&&ue<60?(L=ve,w=He,H=0):ue>=60&&ue<120?(L=He,w=ve,H=0):ue>=120&&ue<180?(L=0,w=ve,H=He):ue>=180&&ue<240?(L=0,w=He,H=ve):ue>=240&&ue<300?(L=He,w=0,H=ve):(L=ve,w=0,H=He),{r:Math.round((L+Ne)*255),g:Math.round((w+Ne)*255),b:Math.round((H+Ne)*255)}}}),(a,o)=>null}},k_=e=>(Wt("data-v-04963c13"),e=e(),Xt(),e),Grt={class:"app-container"},Vrt={class:"encryption-container"},jrt=k_(()=>te("h1",{class:"title"},"加密/解密工具",-1)),Wrt={class:"input-group"},Xrt=k_(()=>te("label",{for:"password"},"密码:",-1)),Yrt={class:"input-group"},qrt=k_(()=>te("label",{for:"content"},"内容:",-1)),Krt={class:"input-group"},Zrt=k_(()=>te("label",{for:"result"},"结果:",-1)),Jrt={__name:"Encryption",setup(e){const t=at(""),n=at(""),r=at("");function i(l=16){const f=new Uint8Array(l);return window.crypto.getRandomValues(f),f}async function a(l,f){const d=new TextEncoder,h=await window.crypto.subtle.importKey("raw",d.encode(l),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:f,iterations:1e5,hash:"SHA-256"},h,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function o(l,f){const d=i(),h=window.crypto.getRandomValues(new Uint8Array(12)),m=await a(f,d),g=new TextEncoder,p=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:h},m,g.encode(l)),v=btoa(String.fromCharCode(...d)),y=btoa(String.fromCharCode(...h)),_=btoa(String.fromCharCode(...new Uint8Array(p)));return`${v}:${y}:${_}`}async function s(l,f){const[d,h,m]=l.split(":"),g=Uint8Array.from(atob(d),O=>O.charCodeAt(0)),p=Uint8Array.from(atob(h),O=>O.charCodeAt(0)),v=Uint8Array.from(atob(m),O=>O.charCodeAt(0)),y=await a(f,g),_=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:p},y,v);return new TextDecoder().decode(_)}async function c(){if(!t.value||!n.value){alert("请输入密码和要加密的内容");return}try{r.value=await o(n.value,t.value)}catch(l){alert("加密失败："+l.message)}}async function u(){if(!t.value||!n.value){alert("请输入密码和要解密的内容");return}try{r.value=await s(n.value,t.value)}catch{alert("解密失败，请检查密码和加密数据。")}}return(l,f)=>(z(),ne("div",Grt,[te("div",Vrt,[jrt,te("div",Wrt,[Xrt,V_(te("input",{id:"password","onUpdate:modelValue":f[0]||(f[0]=d=>t.value=d),type:"password",placeholder:"输入密码"},null,512),[[j_,t.value]])]),te("div",Yrt,[qrt,V_(te("textarea",{id:"content","onUpdate:modelValue":f[1]||(f[1]=d=>n.value=d),placeholder:"输入要加密/解密的内容"},null,512),[[j_,n.value]])]),te("div",{class:"button-group"},[te("button",{class:"btn btn-encrypt",onClick:c},"加密"),te("button",{class:"btn btn-decrypt",onClick:u},"解密")]),te("div",Krt,[Zrt,V_(te("textarea",{id:"result","onUpdate:modelValue":f[2]||(f[2]=d=>r.value=d),readonly:"",placeholder:"结果"},null,512),[[j_,r.value]])])])]))}},Qrt=ke(Jrt,[["__scopeId","data-v-04963c13"]]),Tit={extends:S5,Layout:()=>{var n;const e={},{frontmatter:t}=qo();return(n=t.value)!=null&&n.layoutClass&&(e.class=t.value.layoutClass),Pj(Bne,e)},enhanceApp({app:e,router:t,siteData:n}){e.component("Heatmap",NKe),e.component("Footer",KKe),e.component("Comment",eZe),e.component("Passwd",rZe),e.component("Tools",MZe),e.component("Planet",Hrt),e.component("Encryption",Qrt),typeof window<"u"&&jn(()=>t.route.data.relativePath,()=>eit(location.pathname==="/"),{immediate:!0})},setup(){const e=ps(),t=()=>{BKe(".main img",{background:"var(--vp-c-bg)"})};ha(()=>{t()}),jn(()=>e.path,()=>pF(()=>t()))}};let Co;function eit(e){if(e){if(Co)return;Co=document.createElement("style"),Co.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(Co)}else{if(!Co)return;Co.remove(),Co=void 0}}export{Tit as $,Wa as A,fE as B,dE as C,ja as D,yF as E,$F as F,et as G,hte as H,Wk as I,lit as J,fit as K,sit as L,cit as M,dit as N,pit as O,vit as P,hit as Q,git as R,_it as S,mit as T,yit as U,$it as V,bit as W,Sit as X,xit as Y,Eit as Z,wit as _,oit as a,em as b,ait as c,iit as d,uit as e,gZ as f,KA as g,Wn as h,ok as i,rit as j,Ok as k,tE as l,Hc as m,Qi as n,Qv as o,ms as p,cf as q,of as r,Zo as s,Lk as t,Hr as u,Jp as v,nit as w,Xc as x,uE as y,lE as z};
