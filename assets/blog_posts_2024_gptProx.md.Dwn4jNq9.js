import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.C4Fe0b5Z.js";const u=JSON.parse('{"title":"免费使用ChatGPT","description":"","frontmatter":{"title":"免费使用ChatGPT","tags":["ChatGPT","代理"],"date":"2024/08/09 21:56:45"},"headers":[],"relativePath":"blog/posts/2024/gptProx.md","filePath":"blog/posts/2024/gptProx.md","lastUpdated":1724678613000}'),e={name:"blog/posts/2024/gptProx.md"},t=n(`<h1 id="免费使用chatgpt" tabindex="-1">免费使用ChatGPT <a class="header-anchor" href="#免费使用chatgpt" aria-label="Permalink to &quot;免费使用ChatGPT&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">解决的痛点</p><ol><li>对于普通用户：在国内使用ChatGPT经常遇到不稳定的情况，或者是和别人共用plus账户容易因为IP不同而导致封号，而且每次使用都需要魔法上网。</li><li>对于开发人员：OpenAI已经禁止了国内用户调用chatgpt的API，导致无法使用API来开发自己的AI应用了。本教程逆向了它的web API,不仅可以调用API而且还是免费的。</li></ol></div><div class="warning custom-block"><p class="custom-block-title">前提</p><ol><li>有一个可以登录的chatGpt账号（可以自己注册，或者<a href="https://shop.wyzhp.site/buy/3" target="_blank" rel="noreferrer">点击购买</a>）</li><li>会魔法上网（国外服务器不需要；不会的评论区多问问）</li></ol></div><h2 id="_1-准备一台云服务器-国内国外都可" tabindex="-1">1.准备一台云服务器（国内国外都可） <a class="header-anchor" href="#_1-准备一台云服务器-国内国外都可" aria-label="Permalink to &quot;1.准备一台云服务器（国内国外都可）&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果没有云服务器，在自己电脑上面跑也是可以的，就是每次使用都要在本地启动服务，稍微麻烦一点点</p></div><h2 id="_2-安装python环境" tabindex="-1">2.安装python环境 <a class="header-anchor" href="#_2-安装python环境" aria-label="Permalink to &quot;2.安装python环境&quot;">​</a></h2><h3 id="_2-1-在-云服务器-以ubuntu-为例-上安装-python-一般情况下服务器自带python-没有的话再安装-需要python-version验证一下自带版本号要大于3-5" tabindex="-1">2.1 .在 云服务器(以Ubuntu 为例)上安装 Python（一般情况下服务器自带python，没有的话再安装，需要<code>python --version</code>验证一下自带版本号要大于3.5） <a class="header-anchor" href="#_2-1-在-云服务器-以ubuntu-为例-上安装-python-一般情况下服务器自带python-没有的话再安装-需要python-version验证一下自带版本号要大于3-5" aria-label="Permalink to &quot;2.1 .在 云服务器(以Ubuntu 为例)上安装 Python（一般情况下服务器自带python，没有的话再安装，需要\`python --version\`验证一下自带版本号要大于3.5）&quot;">​</a></h3><ol><li>更新系统包列表</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装 Python</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>验证安装</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>安装 pip（Python 包管理器）</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-pip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="5"><li>验证 pip 安装</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-2-在-windows-上安装-python" tabindex="-1">2.2.在 Windows 上安装 Python <a class="header-anchor" href="#_2-2-在-windows-上安装-python" aria-label="Permalink to &quot;2.2.在 Windows 上安装 Python&quot;">​</a></h3><ol><li>下载 Python 安装包</li></ol><p>访问 <a href="https://www.python.org/downloads/windows/" target="_blank" rel="noreferrer">Python 官方下载页面</a> 以下载适合你操作系统的 Python 安装包。</p><ol start="2"><li>运行安装程序</li></ol><p>运行下载的安装程序，建议选中“Add Python to PATH”选项，然后点击“Install Now”开始安装。</p><ol start="3"><li>验证安装</li></ol><p>安装完成后，打开命令提示符（Cmd）或 PowerShell，运行以下命令来检查 Python 版本：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">python </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>安装 pip（通常随 Python 一起安装）</li></ol><p>验证 pip 是否安装：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pip </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>参考链接</p><ul><li><a href="https://help.ubuntu.com/community/AptGet/Howto" target="_blank" rel="noreferrer">Ubuntu 软件包管理</a></li><li><a href="https://www.python.org/downloads/windows/" target="_blank" rel="noreferrer">Python 官方下载页面</a></li></ul><h2 id="_3-安装git" tabindex="-1">3.安装git <a class="header-anchor" href="#_3-安装git" aria-label="Permalink to &quot;3.安装git&quot;">​</a></h2><h3 id="_3-1-在-ubuntu-上安装-git-一般情况下服务器自带git-没有的话再安装" tabindex="-1">3.1.在 Ubuntu 上安装 Git（一般情况下服务器自带git，没有的话再安装） <a class="header-anchor" href="#_3-1-在-ubuntu-上安装-git-一般情况下服务器自带git-没有的话再安装" aria-label="Permalink to &quot;3.1.在 Ubuntu 上安装 Git（一般情况下服务器自带git，没有的话再安装）&quot;">​</a></h3><p>3.1.1. 更新系统包列表</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3.1.2. 安装 Git</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3.1.3. 验证安装</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>配置 Git（可选）</li></ol><p>设置你的用户名和电子邮件地址：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;你的名字&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;你的邮箱@example.com&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-2-在-windows-上安装-git" tabindex="-1">3.2.在 Windows 上安装 Git <a class="header-anchor" href="#_3-2-在-windows-上安装-git" aria-label="Permalink to &quot;3.2.在 Windows 上安装 Git&quot;">​</a></h3><p>3.2.1. 下载 Git 安装包</p><p>访问 <a href="https://git-scm.com/download/win" target="_blank" rel="noreferrer">Git 官方下载页面</a> 以下载适合你操作系统的 Git 安装包。</p><p>3.2.2. 运行安装程序</p><p>运行下载的安装程序，按照安装向导完成安装。建议保持默认设置，尤其是“Git from the command line and also from 3rd-party software”选项。</p><p>3.2.3. 验证安装</p><p>安装完成后，打开命令提示符（Cmd）或 PowerShell，运行以下命令来检查 Git 版本：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3.2.4. 配置 Git（可选）</p><p>设置你的用户名和电子邮件地址：</p><div class="language-cmd vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">global user.name </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你的名字&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">git config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">global user.email </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你的邮箱@example.com&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>参考链接</p><ul><li><a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">Git 官方下载页面</a></li></ul><h2 id="_4-部署chat2api" tabindex="-1">4.部署chat2api <a class="header-anchor" href="#_4-部署chat2api" aria-label="Permalink to &quot;4.部署chat2api&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/LanQian528/chat2api</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chat2api</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 因为原项目的requirements少了个包</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> APScheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;&gt;&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">requirements.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置代理（国外服务器省略这步）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HTTP_PROXY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:7890&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HTTPS_PROXY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:7890&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进程挂起</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nohup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uvicorn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chat2api:app</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --host</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0.0.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5005</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uvicorn.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> 2&gt;&amp;1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地启动用这个</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># python app.py</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>关于chat2api的更多信息可移步<a href="https://github.com/lanqian528/chat2api/" target="_blank" rel="noreferrer">https://github.com/lanqian528/chat2api/</a></p><p>到这里，如果是国内服务器的话，还不能访问，还需设置代理</p></div><h2 id="_5-安装clash-国外的服务器省略这步" tabindex="-1">5.安装clash（国外的服务器省略这步） <a class="header-anchor" href="#_5-安装clash-国外的服务器省略这步" aria-label="Permalink to &quot;5.安装clash（国外的服务器省略这步）&quot;">​</a></h2><p>5.1.下载项目</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git clone https://github.com/wanhebin/clash-for-linux.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>5.2.进入到项目目录，编辑.env文件，修改变量CLASH_URL的值和CLASH_SECRET。</p><p><code>CLASH_URL</code> 就是clash的订阅码，如果Clash订阅地址不可访问，请切换通用订阅码</p><p><code>CLASH_SECRET</code> 就是webui设置设置页面的登录密码（口令）</p><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408092317218.png" alt="image-20240809222956102"></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd clash-for-linux</span></span>
<span class="line"><span>vim .env</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408212158295.png" alt="image-20240821215818180"></p><p>5.3.之后访问<a href="http://xxxx:9090/ui%E8%AE%BE%E7%BD%AE%E8%8A%82%E7%82%B9%EF%BC%88%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E9%A6%99%E6%B8%AF%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%89" target="_blank" rel="noreferrer">http://xxxx:9090/ui设置节点（不要使用香港的节点）</a></p><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408092320366.png" alt="image-20240809232030313"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>关于clash-for-linux的更多信息可移步<a href="https://github.com/wnlen/clash-for-linux" target="_blank" rel="noreferrer">https://github.com/wnlen/clash-for-linux</a></p></div><h2 id="_6-使用方式" tabindex="-1">6.使用方式 <a class="header-anchor" href="#_6-使用方式" aria-label="Permalink to &quot;6.使用方式&quot;">​</a></h2><h3 id="_6-1-直接web页面使用-访问-http-ip-port-注意web使用方式只支持免登录模式-推荐在edge浏览器中使用" tabindex="-1">6.1.直接web页面使用，访问 <a href="http://ip" target="_blank" rel="noreferrer">http://ip</a>:port (注意web使用方式只支持免登录模式,推荐在edge浏览器中使用) <a class="header-anchor" href="#_6-1-直接web页面使用-访问-http-ip-port-注意web使用方式只支持免登录模式-推荐在edge浏览器中使用" aria-label="Permalink to &quot;6.1.直接web页面使用，访问 http://ip:port (注意web使用方式只支持免登录模式,推荐在edge浏览器中使用)&quot;">​</a></h3><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408181408003.png" alt="image-20240818140817917"></p><h3 id="_6-2-作为api使用" tabindex="-1">6.2.作为API使用 <a class="header-anchor" href="#_6-2-作为api使用" aria-label="Permalink to &quot;6.2.作为API使用&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>AccessToken</code> 获取: chatgpt官网登录后，再打开 <a href="https://chatgpt.com/api/auth/session" target="_blank" rel="noreferrer">https://chatgpt.com/api/auth/session</a> 获取 <code>accessToken</code> 这个值</p><p><code>RefreshToken</code>获取方式自行搜索</p></div><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">domain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;http://ip:port&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">domain</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/backend-anon/conversations&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Bearer AccessToken/RefreshToken&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gpt-4o-mini&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;写一个笑话&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.post(url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果使用流模式，你需要逐步读取响应</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.iter_lines():</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> line:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line.decode(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--------&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.json()[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;choices&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_6-3-接入chatbox使用" tabindex="-1">6.3.接入chatbox使用 <a class="header-anchor" href="#_6-3-接入chatbox使用" aria-label="Permalink to &quot;6.3.接入chatbox使用&quot;">​</a></h2><h4 id="_6-3-1-下载chatbox客户端-不想下载也可以直接使用网页版本" tabindex="-1">6.3.1. <a href="https://chatboxai.app/zh" target="_blank" rel="noreferrer">下载chatbox客户端</a>，不想下载也可以直接使用网页版本 <a class="header-anchor" href="#_6-3-1-下载chatbox客户端-不想下载也可以直接使用网页版本" aria-label="Permalink to &quot;6.3.1. [下载chatbox客户端](https://chatboxai.app/zh)，不想下载也可以直接使用网页版本&quot;">​</a></h4><h4 id="_6-3-2-配置" tabindex="-1">6.3.2.配置 <a class="header-anchor" href="#_6-3-2-配置" aria-label="Permalink to &quot;6.3.2.配置&quot;">​</a></h4><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408181403216.png" alt="image-20240818140359154"></p><p>之后就能使用了</p><p><img src="https://cdn.jsdelivr.net/gh/caiwuu/image/202408181405710.png" alt="image-20240818140520649"></p>`,81),l=[t];function p(h,r,k,d,o,c){return a(),i("div",null,l)}const b=s(e,[["render",p]]);export{u as __pageData,b as default};
